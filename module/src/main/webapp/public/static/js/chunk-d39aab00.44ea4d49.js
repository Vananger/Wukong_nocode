(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d39aab00"],{"67c5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"preview",attrs:{"element-loading-text":"资源载入中..."}},[t.canPreview?t._e():a("el-empty",{staticStyle:{"padding-top":"75px"},attrs:{"image-size":300,image:n("cb89"),description:"该文件类型系统暂时不支持预览"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.download}},[t._v("下载文件")])],1),t._v(" "),t.canPreview&&t.path&&t.iframePath?a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.iframePath,frameborder:"0"}}):t._e()],1)},i=[],c=(n("b0c0"),n("ac1f"),n("1276"),n("99af"),n("5319"),n("caad"),n("b5b9")),r=n("bc3a"),o=n.n(r),s=n("ed08"),l={name:"Perview",components:{},props:{path:String,name:String},data:function(){return{loading:!1,iframePath:""}},computed:{showType:function(){return this.path?"component":"page"},canPreview:function(){var t=this.name||this.$route.query.name;return Object(s["a"])(t)}},watch:{},created:function(){var t=this.path||this.$route.query.path;t&&this.canPreview&&this.requestFileUrl(t)},mounted:function(){},beforeDestroy:function(){},methods:{requestFileUrl:function(t){var e=this;this.loading=!0;var n="?fullfilename=";-1!==t.indexOf(n)&&(t=t.split(n)[0]);var a="".concat(t,"?c=").concat(o.a.defaults.headers["AUTH-TOKEN"]);a=a.replace(/\/\//g,"/");var i=0,r=this.name||this.$route.query.name,l=r?r.split("."):[],d="";d=l.length>0?l[l.length-1]:"",["xlsx","xls","xlt","xltx"].includes(d)||["doc","docx","dot","dotx"].includes(d)?i=0:"pdf"===d?i=20:["ppt","pptx","pot","potx"].includes(d)||["txt","text","rtf"].includes(d)||["html"].includes(d)?i=0:["jpg","png","jpeg","bmp","ico","gif"].includes(d)?i=42:Object(s["s"])(d)&&(i=19),Object(c["d"])({convertType:i,fileUrl:a,showFooter:0}).then((function(t){var n=t.data||{};e.checkUrl(n.viewUrl),e.loading=!1})).catch((function(t){if(0===t.errorcode){var n=t.data||{};e.checkUrl(n.viewUrl)}e.loading=!1}))},checkUrl:function(t){"component"===this.showType?this.iframePath=t:location.href=t},download:function(){Object(s["d"])({path:this.path||this.$route.query.path,name:this.name||this.$route.query.name})}}},d=l,u=(n("7ecd"),n("2877")),h=Object(u["a"])(d,a,i,!1,null,"1352a9f9",null);e["default"]=h.exports},"7ecd":function(t,e,n){"use strict";n("c37a")},c37a:function(t,e,n){},cb89:function(t,e,n){t.exports=n.p+"static/img/unknown.ea5ceddb.png"}}]);