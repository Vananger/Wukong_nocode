(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t){},"0162":function(e,t,a){"use strict";a("e4df")},"01a7":function(e,t,a){},"028d":function(e,t,a){},"03b4":function(e,t,a){"use strict";a("6451")},"04a7":function(e,t,a){},"0535":function(e,t,a){"use strict";a("413b")},"0554":function(e,t,a){"use strict";a("f195")},"060e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMTdBQjNCQzA1MkYxMUVBOUM4RkRBMDU5RUU5ODc1QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxMTdBQjNCRDA1MkYxMUVBOUM4RkRBMDU5RUU5ODc1QiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjExN0FCM0JBMDUyRjExRUE5QzhGREEwNTlFRTk4NzVCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExN0FCM0JCMDUyRjExRUE5QzhGREEwNTlFRTk4NzVCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+qaHGmQAAB9RJREFUeNrs3U9sFFUcwPHfzOxut6W0FdpCC1gpCCqUFv8kRBAUSQCN4cDNG1EkqBc8eeFgNMYDkQQ1CiJ68sDFmECCBi8kQCSoQAsp4Y+tWCBtKf/abnfbmfHN29Y0hBoq2+68ne83eUBKs2nffnjzZpbuWHf3Nco9LVJjsxrr1KhXIy5EE1+fGm1qHFZjb+mmUy33foI1CmtCjU/V2KqGzdxRHvPU+FqNbQptauSD9iioB9V4B6gUggKDW9Q40PttU+JerDvVWMMcUchaPWzzX6yLhxUThbEtanVdPIL1DTUc5oRCWmDzzRGs65gPCnlrRrDWMxcU8upGsCaYCwp5paOvBhCFPrASWInASmAlAisRWAmsRGAlAiuBlQisRGAlsBKBlQisBFYisBKBlcBKBFYisBJYicBKBFYCKxFYicBKYCUCK4GVKSCwEoGVwEoEViKwEliJwEoEVgIrEViJwFqoWbbYFfMkNmeVWMWVkZ2GGBJCaDM+RezqJeJUqVHdJHZVg1iJ0uxfumkZOPqhDF06AFbKw+GtrC6LU8F01O/BKhqspvfNKZLk8u3S13FM/IEesNJEznhSnMpF2RVTr56NYiUrxvcYCqxTtViGrhwBK+XwkD5lpjgzluoVM4BpT39i7FVzXA/ssA2ghzmex9Wq+aTaYzZmcVYvFaukknkBawhWTQXRGYZpK5hOsGo6CSYGrPleNR2xH1kwvGIGZ+gK6NRZzAtYQ7BqFpUPr5hN2UtIVQ365IjAmv+FU62STu0yvWI6M5r05SQCa7hW0GSFFD2/XWJ1L6MBrKGmKsk1u/Rhngw4+kX70F8LVLAaUrwUAWAlAiuBlQisRGAlsFJY8gbF7WoRP3OXuRiOl1tDkt97TeE8rUazeJ3N4va0irgZKdmwX6xpU5kgsOYJ5lBKvO6z4naeEa/rjAbqp24wMWDNO03xbrUpkMMw1arp3bqoPuwxNWDNM830bYWyWePUh/Rg1cz0MjFgzfdJkCvezfP6RMjtPK1gtoh3p515AWsIVs3+To0ywKkP6d3n9M/xE1jzm0IYYNQnQd3ZlTPASmAN1wo62Cd936/Uh3kKT7wocF+tPlDBSgRWAisRWInASmAlAisRWAmsRGAlAiuBlQisRGAlsBJNTvzn6zxkJcrEmb1c33jNrpgvVkmVvgWm2DHxM3fET98V7/af4t04J5LgbTnBmoec6kaJN2yS2JyVY964zSqePvy5S0Qe38CkgXWSV1K1ahYte19i819jMsAa5uW0SJJrv8remog4wQpziabNQAWrIYeuueuYBLCas1+dkPwhsFJuc6+fnIAHTev30QIr5bTMb5/pN83I6WOe2iP+wC2uBhTEobd4ur4PqzNtgVjl9WIVlYkVK9aHzuCCuz/QI15Pq0KUmvCvxbvzlwz8tEWSL+0Qa8rMhzz0e5I5vUcyZ/ZFc/9fOEJtff/V+FOv6xsFB7e6/M/q10/eVqCrRfp/2CiJpVsltnBj9h/OeB/j2q+SPrlLvwlxZE9WC2IvU1YnRSs/CvUlomArkD6xQx3Cd6t/VKvFmbNSnMpFY662/mC/eDcviNtxXIbaD6s/X4z8lsp4rPa0hVK8/huxDHkNPbihxeCFH/XQBwT1dWf/b4D6+u24Qtqr96N+f1fw2Wz6CwarOvQnX/zEGKj3x9vLO2NH4WpAcEdru3wuzyJYDVhY1Vn+xJzCDyEDrDk+yw7eJn0C7nridp5CBlhzvN9LdUum+bscS01L5o8vkQHW3Jf5/XMZbN2fG/zp25L65T3xes4jA6wTsbx6kj7+saR+fltfl/y/jzF06aC+cO92HEVFSCuYV7DcjmPS33FcnJrnshfdZy0Xu2y2jPlKlr4by1lxrxyRwcuHxO+7jgawTuoyK+61E3roqwWxYrHK54qVmCpWvESvoPqie1+neL0d3JISrCGiO5QSP/gJUWLPSgRWIrASWInASgRWAisRWInASmAlAiuBlQisRGAlsBKBlQisBFYisBKBlcBKBFYisBJYicBKBFYCKxFYicBKYCUCKxFYCaxEYCUCK4GVCKxEYCWwEoGVwEoEViKwUoRqD36JMQ8FsuqU10l83lpxap4Ru7RGfaCAnlrfdWTgah1YjVcak6Kn35L4/FdErAI8UPru32I5KyRZ2w5Wk3MSUrzqA3FmNBbm9zcKKntWwwtW1KhABavRe9RH1R51fWSggtXggpMpsazIQAWrydvVmmcjBRWsJm8DSmdGCipYjdYajxRUsJIxUMFKxkAFK+Ub6gsPChWslF+oIm3j2qYzc2QCVLCSMVDBSsZABSsZAxWsZAxUsJIxUMFKxkAFKxkDFaxkDFSwkjFQwUrGQAUrGQMVrGQMVLCSMVDBSsZABSsZAxWsZAxUsJIxUMFKxkAFKxkDFaxkDFSwkjFQwUrGQAUrGQMVrGQMVLCSMVDBSsZABSsZAxWsZAxUsALVGKhgBaoxUMEK1DaTvmywAhWsBFSwUiShghWoYCWggpUiCxWsQDUOa4ZnFqimYL3MswtUU7Ae4hkGqilY96rh8kwD1QSsZ9XYzbMNVFOuBmxT4zDPupFQO6IAdTTW4IrAq2p8oYaHAKOgrogC1NFYR8C+q0aDGjvVaFUjjYhQ1hY1qEGW7/s89SY2cPUxSda2qd/N/j6StQ/8qf8IMACLl69W4P4WCwAAAABJRU5ErkJggg=="},"0646":function(e,t,a){"use strict";a("984c")},"0710":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},"0730":function(e,t,a){"use strict";a("d3b7"),a("b0c0"),a("caad"),a("7db0"),a("ac1f"),a("1276"),a("5319"),a("a9e3"),a("2532");var n=a("ed08"),i=a("6bfe");t["a"]={methods:{UniquePromise:function(e){return new Promise((function(e){e()}))},getRules:function(e){var t=this,a=[];if(1==e.isNull&&"serial_number"!==e.formType&&(a.push({required:!0,message:e.name+"不能为空",trigger:["number","floatnumber","leads","customer","contacts","product","business","contract","receivables","receivablesPlan"].includes(e.formType)?["blur"]:["blur","change"]}),"detail_table"==e.formType?a.push({validator:function(e,a,n){var i=e.item;t.getDetailTableIsEmpty(i.fieldExtendList,a)?n(new Error(i.name+"不能为空")):n()},item:e,trigger:["blur","change"]}):"checkbox"==e.formType&&a.push({validator:function(e,t,a){var n=e.item;if(Object(i["a"])(t)&&0!==t.length){var o=t.find((function(e){return Object(i["b"])(e)}));""===o?a(new Error(n.name+"不能为空")):a()}else a(new Error(n.name+"不能为空"))},item:e,trigger:["blur","change"]})),1==e.isUnique&&this.UniquePromise){var o=function(a,n,o){Object(i["b"])(n)?o():t.UniquePromise({field:e,rule:a,value:n}).then((function(){o()})).catch((function(e){o(new Error(e||"验证出错"))}))};a.push({validator:o,item:e,trigger:"checkbox"==e.formType||"select"==e.formType?["change","blur"]:["blur"]})}if("number"===e.formType||"percent"===e.formType){var c=function(a,o,c){e.hasOwnProperty("precisions")?t._getNumberRule(a,o,c):Object(i["b"])(o)||Object(n["z"])(o)?c():c(new Error("数字的整数部分须少于15位，小数部分须少于4位"))};a.push({validator:c,item:e,trigger:"number"===e.formType?["blur"]:["blur","change"]})}else if("floatnumber"===e.formType){var r=function(a,o,c){e.hasOwnProperty("precisions")?t._getNumberRule(a,o,c):Object(i["b"])(o)||Object(n["y"])(o)?c():c(new Error("货币的整数部分须少于15位，小数部分须少于2位"))};a.push({validator:r,item:e,trigger:["blur"]})}else if("mobile"===e.formType){var s=function(e,t,a){Object(i["b"])(t)||Object(n["x"])(t)?a():a(new Error("手机格式有误"))};a.push({validator:s,item:e,trigger:["blur"]})}else if("email"===e.formType){var l=function(e,t,a){Object(i["b"])(t)||Object(n["w"])(t)?a():a(new Error("邮箱格式有误"))};a.push({validator:l,item:e,trigger:["blur"]})}else if("location"===e.formType&&1==e.isNull){var d=function(t,a,n){!Object(i["c"])(a)||Object(i["c"])(a)&&Object(i["b"])(a.lat)&&Object(i["b"])(a.lng)&&Object(i["b"])(a.address)?n(new Error(e.name+"不能为空")):n()};a.push({validator:d,item:e,trigger:["change"]})}else if("customer"===e.formType&&"superiorCustomerId"===e.fieldName){var u=function(e,a,n){t.action&&"update"===t.action.type&&Object(i["a"])(a)&&a.length>0&&a[0].customerId===t.action.id?n(new Error("上级客户不能为当前客户")):n()};a.push({validator:u,item:e,trigger:["change"]})}else if("contacts"===e.formType&&"parentContactsId"===e.fieldName){var m=function(e,a,n){t.action&&"update"===t.action.type&&Object(i["a"])(a)&&a.length>0&&a[0].contactsId===t.action.id?n(new Error("直属上级不能为当前联系人")):n()};a.push({validator:m,item:e,trigger:["change"]})}return a},_getNumberRule:function(e,t,a){var n=e.item,o=String(t).split("."),c=String(t).replace(".","").replace("-","").length,r="percent"===n.formType?10:15,s=Object(i["b"])(n.minNumRestrict)?-1/0:Number(n.minNumRestrict||-1/0),l=Object(i["b"])(n.maxNumRestrict)?1/0:Number(n.maxNumRestrict||1/0);c>r?a(new Error("最多支持".concat(r,"位数字（包含小数位）"))):Object(i["b"])(n.precisions)&&String(t).includes(".")?a(new Error("不支持小数")):o.length>1&&o[1].length>Number(n.precisions)?a(new Error("小数位不能大于".concat(n.precisions))):t<s?a(new Error("不能小于".concat(s))):t>l?a(new Error("不能大于".concat(l))):a()},getDetailTableIsEmpty:function(e,t){for(var a=0;a<t.length;a++){var n=t[a];if(this.judgeFormValueIsEmpty(e,n))return!0}return!1},judgeFormValueIsEmpty:function(e,t){for(var a=0;a<e.length;a++){var n=e[a],o=t[n.fieldName];if("location"===n.formType){if(Object(i["c"])(o)&&(!Object(i["b"])(o.lat)||!Object(i["b"])(o.lng)||!Object(i["b"])(o.address)))return!1}else if(!Object(i["b"])(o))return!1}return!0}}}},"07fb":function(e,t,a){"use strict";a("b390")},"08dd":function(e,t,a){"use strict";a("ff8c")},"0903":function(e,t,a){"use strict";a("a633")},"0928":function(e,t,a){},"0a3e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-position"},[a("wk-distpicker",e._b({attrs:{"hide-area":e.hideArea,"only-province":e.onlyProvince,disabled:e.disabled,clearable:""},on:{change:e.valueChange},model:{value:e.distpickerValue,callback:function(t){e.distpickerValue=t},expression:"distpickerValue"}},"wk-distpicker",e.$attrs,!1)),e._v(" "),e.showDetail?a("el-input",{attrs:{rows:2,disabled:e.disabled,maxlength:100,type:"textarea",placeholder:"详细地址"},on:{change:e.valueChange},model:{value:e.detailAddress,callback:function(t){e.detailAddress=t},expression:"detailAddress"}}):e._e()],1)},i=[],o=(a("d3b7"),a("159b"),a("b0c0"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-distpicker"},[a("el-cascader",e._b({attrs:{options:e.options,props:e.config},on:{change:e.handleChange},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}},"el-cascader",e.$attrs,!1))],1)}),c=[],r=a("5530"),s=(a("d81d"),a("7db0"),a("5a86")),l=a("8122"),d=a("6bfe"),u={name:"WkDistpicker",components:{},inheritAttrs:!1,props:{hideArea:{type:Boolean,default:!1},onlyProvince:{type:Boolean,default:!1},value:Array,props:Object},data:function(){return{dataValue:[]}},computed:{options:function(){return this.getOptions()},config:function(){var e=this.props||{};return Object(r["a"])({label:"name",value:"code"},e)}},watch:{value:{handler:function(){this.validateValue()},immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getOptions:function(){var e=this,t=s["a"];if(!this.onlyProvince&&!this.hideArea)return t;var a=[];return t.forEach((function(t){var n={code:t.code,name:t.name};e.onlyProvince||(n.children=[],t.children.forEach((function(t){var a={code:t.code,name:t.name};n.children.push(a),e.hideArea||(a.children=t.children)}))),a.push(n)})),a},validateValue:function(){var e=this;if(this.value&&this.value.length){var t=this.value;Object(d["c"])(this.value[0])&&(t=this.value.map((function(t){return t[e.config.value]}))),Object(l["valueEquals"])(t,this.dataValue)||(this.dataValue=t)}else this.dataValue=[]},handleChange:function(){var e=this.getCascaderValArr(this.dataValue,this.options);this.$emit("input",e),this.$emit("change",e)},getCascaderValArr:function(e,t){var a=[];if(0===e.length)return a;var n=0;do{var i=t.find((function(t){return t.code===e[n]}));i&&(t=i.children||[],a.push({code:i.code,name:i.name,id:n+1})),n++}while(n<=e.length);return a}}},m=u,f=(a("8f3f"),a("2877")),h=Object(f["a"])(m,o,c,!1,null,"381b0f50",null),p=h.exports,v=a("d010"),b=a.n(v),g={name:"WkPosition",components:{WkDistpicker:p},mixins:[b.a],inheritAttrs:!1,props:{hideArea:{type:Boolean,default:!1},onlyProvince:{type:Boolean,default:!1},showDetail:{type:Boolean,default:!0},value:{required:!0},valueFormat:{type:Function,default:null},disabled:Boolean},data:function(){return{distpickerValue:[],detailAddress:"",dataValue:[]}},computed:{},watch:{value:{handler:function(e){this.valueEquals(e,this.dataValue)||this.getDefaultValue()},immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getDefaultValue:function(){var e=this,t=Object(d["a"])(this.value)?this.value:[],a=[],n=!1;t.forEach((function(t){4===t.id?(n=!0,e.detailAddress=t.name):a.push(t)})),n||(this.detailAddress=""),this.distpickerValue=a},valueChange:function(){var e=this.showDetail&&Object(d["b"])(this.detailAddress)||!this.showDetail?this.distpickerValue:this.distpickerValue.concat([{code:"",name:this.detailAddress,id:4}]);this.dataValue=this.valueFormat?this.valueFormat(e):e,this.$emit("input",this.dataValue),this.$emit("change",this.dataValue),this.dispatch("ElFormItem","el.form.change",this.dataValue)},valueEquals:function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var a=0;a!==e.length;++a){var n=e[a],i=t[a];if(n.id!==i.id||n.name!==i.name)return!1}return!0}}},y=g,w=(a("936f"),Object(f["a"])(y,n,i,!1,null,"221a416b",null));t["a"]=w.exports},"0b72":function(e,t,a){"use strict";a("6d66")},"0d44":function(e,t,a){var n,i,o,c=a("7037").default;(function(a,c){i=[],n=c(),o="function"===typeof n?n.apply(t,i):n,void 0===o||(e.exports=o)})(0,(function(){var e,t={},a=!1,n={watermark_id:"wm_div_id",watermark_prefix:"mask_div_id",watermark_txt:"测试水印",watermark_x:20,watermark_y:20,watermark_rows:0,watermark_cols:0,watermark_x_space:50,watermark_y_space:50,watermark_font:"微软雅黑",watermark_color:"rgba(0, 0, 0, 0.15)",watermark_fontsize:"18px",watermark_alpha:.15,watermark_width:100,watermark_height:100,watermark_angle:15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null,monitor:!0,document:null,window:null},i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o=function(t){a?a=!1:(e&&1===t.length||1===t.length&&t[0].removedNodes.length>=1)&&d(e)},r=void 0!==i,s=r?new i(o):null,l={childList:!0,attributes:!0,subtree:!0},d=function(t){var a=e.document||a;if(1===arguments.length&&"object"===c(arguments[0])){var i=arguments[0]||{};for(key in i)i[key]&&n[key]&&i[key]===n[key]||(i[key]||0===i[key])&&(n[key]=i[key])}var o=a.getElementById(n.watermark_id);o&&o.parentNode&&o.parentNode.removeChild(o);var d=a.getElementById(n.watermark_parent_node),u=d||a.body,m=Math.max(u.scrollWidth,u.clientWidth),f=Math.max(u.scrollHeight,u.clientHeight),h=arguments[0]||{},p=u,v=0,b=0;h.watermark_parent_width||h.watermark_parent_height?p&&(v=p.offsetTop||0,b=p.offsetLeft||0,n.watermark_x=n.watermark_x+b,n.watermark_y=n.watermark_y+v):p&&(v=p.offsetTop||0,b=p.offsetLeft||0);var g=a.getElementById(n.watermark_id),y=null;if(g)g.shadowRoot&&(y=g.shadowRoot);else{g=a.createElement("div"),g.id=n.watermark_id,g.setAttribute("style","pointer-events: none !important; display: block !important;"),y=g;var w=u.children,k=Math.floor(Math.random()*(w.length-1));w[k]?u.insertBefore(g,w[k]):u.appendChild(g)}n.watermark_cols=n.watermark_cols||parseInt((m-n.watermark_x)/(n.watermark_width+n.watermark_x_space));var C,x=parseInt((m-n.watermark_x-n.watermark_width*n.watermark_cols)/n.watermark_cols);n.watermark_x_space=n.watermark_x_space||x?n.watermark_x_space:x,n.watermark_rows=parseInt((f-n.watermark_y)/(n.watermark_height+n.watermark_y_space));var I,_,j,O=parseInt((f-n.watermark_y-n.watermark_height*n.watermark_rows)/n.watermark_rows);n.watermark_y_space=O?n.watermark_y_space:O,d?(C=n.watermark_x+n.watermark_width*n.watermark_cols+n.watermark_x_space*(n.watermark_cols-1),I=n.watermark_y+n.watermark_height*n.watermark_rows+n.watermark_y_space*(n.watermark_rows-1)):(C=b+n.watermark_x+n.watermark_width*n.watermark_cols+n.watermark_x_space*(n.watermark_cols-1),I=v+n.watermark_y+n.watermark_height*n.watermark_rows+n.watermark_y_space*(n.watermark_rows-1));for(var F=0;F<n.watermark_rows;F++){j=d?v+n.watermark_y+(n.watermark_y_space+n.watermark_height)*F:n.watermark_y+(f-I)/2+(n.watermark_y_space+n.watermark_height)*F;for(var T=0;T<n.watermark_cols;T++){_=d?b+n.watermark_x+(m-C)/2+(n.watermark_width+n.watermark_x_space)*T:n.watermark_x+(m-C)/2+(n.watermark_width+n.watermark_x_space)*T;var A=a.createElement("div"),D=a.createTextNode(n.watermark_txt);A.appendChild(D),A.id=n.watermark_prefix+F+T,A.style.webkitTransform="rotate(-"+n.watermark_angle+"deg)",A.style.MozTransform="rotate(-"+n.watermark_angle+"deg)",A.style.msTransform="rotate(-"+n.watermark_angle+"deg)",A.style.OTransform="rotate(-"+n.watermark_angle+"deg)",A.style.transform="rotate(-"+n.watermark_angle+"deg)",A.style.visibility="",A.style.position="absolute",A.className="wk-watermark-dom",A.style.left=_+"px",A.style.top=j+"px",A.style.overflow="hidden",A.style.zIndex="9999999",A.style.fontSize=n.watermark_fontsize,A.style.fontFamily=n.watermark_font,A.style.color=n.watermark_color,A.style.textAlign="center",A.style.width=n.watermark_width+"px",A.style.height=n.watermark_height+"px",A.style.display="block",A.style["-ms-user-select"]="none",y.appendChild(A)}}var S=void 0===t.monitor?n.monitor:t.monitor;S&&r&&(s.observe(u,l),s.observe(y,l))},u=function(){var t=e.document||t;if(1===arguments.length&&"object"===c(arguments[0])){var a=arguments[0]||{};for(key in a)a[key]&&n[key]&&a[key]===n[key]||(a[key]||0===a[key])&&(n[key]=a[key])}var i=t.getElementById(n.watermark_id),o=i.parentNode;o.removeChild(i),s.disconnect()};t.init=function(t){e=t;var a=e.window||a;d(t),a.addEventListener("onload",(function(){d(t)})),a.addEventListener("resize",(function(){d(t)}))},t.load=function(t){e=t,d(t)},t.remove=function(){a=!0,u()};var m=function(t){if(e&&1===t.length||1===t.length&&t[0].removedNodes.length>=1)d(e);else{var a=e.document||a,i=a.getElementById(n.watermark_parent_node);if(i){var o=getComputedStyle(i).getPropertyValue("width"),c=getComputedStyle(i).getPropertyValue("height");o===f.width&&c===f.height||(f.width=o,f.height=c,d(e))}}},f=(s=new i(m),l={childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0},{width:0,height:0});return t}))},"0dd6":function(e,t,a){"use strict";a("4693")},"0edd":function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"n",(function(){return c})),a.d(t,"m",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"l",(function(){return h})),a.d(t,"o",(function(){return p})),a.d(t,"j",(function(){return v})),a.d(t,"k",(function(){return b})),a.d(t,"i",(function(){return g}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"/moduleM/list/".concat(e.applicationId),method:"post",data:e})}function o(e){return Object(n["a"])({url:"/moduleGroupModuleSort/list/".concat(e.applicationId),method:"post",data:e})}function c(e){return Object(n["a"])({url:"/moduleM/queryDetail/".concat(e.moduleId,"/").concat(e.version),method:"post"})}function r(e){return Object(n["a"])({url:"/moduleM/queryById/".concat(e.moduleId),method:"post",data:e})}function s(e){return Object(n["a"])({url:"/moduleField/queryList",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function l(e){return Object(n["a"])({url:"/moduleFieldDefault/list/".concat(e.moduleId,"/").concat(e.version),method:"post",data:e})}function d(e){return Object(n["a"])({url:"/moduleFieldUnion/query/".concat(e.moduleId,"/").concat(e.version),method:"post",data:e})}function u(e){return Object(n["a"])({url:"/moduleFieldOptions/list/".concat(e.moduleId,"/").concat(e.version),method:"post",data:e})}function m(e){return Object(n["a"])({url:"/moduleFieldTags/list/".concat(e.moduleId,"/").concat(e.version),method:"post",data:e})}function f(e){return Object(n["a"])({url:"moduleField/formList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(n["a"])({url:"moduleM/pageLayout/".concat(e.moduleId,"/").concat(e.version),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(n["a"])({url:"moduleField/setFieldSort",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(n["a"])({url:"moduleMessage/list",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(n["a"])({url:"moduleMessage/setRead",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(n["a"])({url:"moduleMessage/delete",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"0f7e":function(e,t,a){"use strict";a("8cf5")},"0f9a":function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=a("1da1"),o=(a("96cf"),a("d3b7"),a("159b"),a("99af"),a("ac1f"),a("1276"),a("e9c4"),a("25f0"),a("caad"),a("b775"));function c(e){return Object(o["a"])({url:"/login",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(){return Object(o["a"])({url:"/logout",method:"post"})}var s=a("2934"),l=a("563d"),d=a("a18c"),u=a("79ff"),m=a("5f87"),f=a("6b43"),h=a("e297"),p=a.n(h),v=a("7a1a"),b=a("a78e"),g=a.n(b),y=a("ed08");function w(e,t,a,n){e.forEach((function(e){t["dept-".concat(e.deptId)]=e,n.push(e),e.userList&&e.userList.forEach((function(e){t["user-".concat(e.userId)]=e,a.push(e)})),e.children&&w(e.children,t,a,n)}))}var k=function(e){var t={},a={1:"index",2:"read",3:"save",4:"edit",5:"transfer",6:"delete",7:"import",8:"export",9:"print",10:"moveCategory",11:"teamSave"};return e.forEach((function(e){t[e.applicationId]={},e.modules.forEach((function(n){var i="".concat(n.moduleId,"-").concat(n.categoryId||"");if(t[e.applicationId][i]={},n.auth){var o=n.auth.split(",");o.forEach((function(n){a[n]&&(t[e.applicationId][i][a[n]]=!0)}))}}))})),t},C={state:{userInfo:null,allAuth:null,userDeptObj:{disableUserList:[],userMap:{},deptList:[]},userDeptMap:{},searchUserDept:{userList:[],deptList:[],disableUserList:[]},userList:[],deptList:[],crm:{},bi:{},manage:{},oa:{},emailBinding:null,project:{},email:{},emailNum:{},currentAccountInfo:{},knowledge:{},call:!1,hrm:{},jxc:{},finance:{},scrm:{},tplAppAuth:{}},mutations:{SET_EMAIL:function(e,t){e.email=t},SET_EMAIL_STATUS:function(e,t){e.emailBinding=!!t,e.currentAccountInfo=t||{}},SET_EMAIL_NUMBER:function(e,t){e.emailNum=t},SET_USERINFO:function(e,t){e.userInfo=t,localStorage.setItem("loginUserInfo",JSON.stringify(t))},SET_ALLAUTH:function(e,t){e.allAuth=t},SET_CRM:function(e,t){e.crm=t},SET_BI:function(e,t){e.bi=t},SET_MANAGE:function(e,t){e.manage=t},SET_OA:function(e,t){e.oa=t},SET_PROJECT:function(e,t){e.project=t},SET_KNOWLEDGE:function(e,t){e.knowledge=t},SET_HRM:function(e,t){e.hrm=t},SET_CALL:function(e,t){e.call=t},SET_JXC:function(e,t){e.jxc=t},SET_FINANCE:function(e,t){e.finance=t},SET_SCRM:function(e,t){e.scrm=t},SET_AUTH:function(e,t){var a=t.adminToken;p.a.set("AUTH-TOKEN",a);var n=Object(y["k"])();g.a.set("AdminToken",a,{domain:n,expires:365}),Object(m["a"])(a)},SET_USERLIST:function(e,t){e.userList=t},SET_DEPTLIST:function(e,t){e.deptList=t},SET_USERDEPTOBJ:function(e,t){e.userDeptObj=t},SET_USERDEPTMAP:function(e,t){var a={},n=[],i=[];w(t.deptList,a,n,i);var o=[];t.disableUserList.forEach((function(e){a["user-".concat(e.userId)]=e,o.push(e)})),e.searchUserDept={userList:n,deptList:i,disableUserList:o},e.userDeptMap=a},SET_TPL_APP_AUTH:function(e,t){e.tplAppAuth={type:null}}},actions:{Login:function(e,t){var a=e.commit,n=e.dispatch,i=t.password?Object(y["a"])(t.password+Date.now().toString()):"",o=Object(y["u"])(t);return i&&(o.password=i),new Promise((function(e,t){c(o).then((function(t){var i=t.data||{};i.hasOwnProperty("companyList")||(a("SET_AUTH",i),n("GetUserInfo")),e(t)})).catch((function(e){t(e)}))}))},getAuth:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,o,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,i=e.dispatch,o={manage:{permission:{update:!0},users:{read:!0},configSet:{importApp:!0,deleteApp:!0,updateApp:!0,read:!0,update:!0}}},t.next=4,Object(l["d"])().then((function(e){return e.data||[]})).catch((function(){}));case 4:return c=t.sent,r=k(c),o=Object(n["a"])(Object(n["a"])({},o),r),p.a.set("authList",o),a("SET_ALLAUTH",o),a("SET_MANAGE",o.manage),i("GetUserList"),i("GetDeptList"),i("GetUserDepMap"),t.abrupt("return",o);case 14:case"end":return t.stop()}}),t)})))()},GetUserInfo:function(e){var t=e.commit;e.dispatch;return new Promise((function(e,a){Object(u["a"])().then((function(a){var n=a.data||{},i=n.adminToken;n.initToken&&i&&f["a"].updateAxiosCache(i),t("SET_USERINFO",n),e(a)})).catch((function(e){a(e)}))}))},LogOut:function(e){e.commit;return new Promise((function(e,t){r().then((function(){Object(m["c"])({clearCookies:!0}),Object(d["c"])(),e()})).catch((function(e){Object(m["c"])({clearCookies:!0}),Object(d["c"])(),t(e)}))}))},debounceGetUserList:Object(v["debounce"])(3e3,(function(e){var t=e.dispatch;t("GetUserList")})),GetUserList:function(e){var t=e.commit;return new Promise((function(e,a){Object(s["p"])({pageType:0}).then((function(a){t("SET_USERLIST",a.data.list||[]),e()})).catch((function(e){a(e)}))}))},GetUserDepMap:function(e){var t=e.commit;return new Promise((function(e,a){Object(s["c"])().then((function(a){var n=a.data||{};t("SET_USERDEPTOBJ",n),t("SET_USERDEPTMAP",n),e(n)})).catch((function(e){a(e)}))}))},debounceGetDeptList:Object(v["debounce"])(3e3,(function(e){var t=e.dispatch;t("GetDeptList")})),GetDeptList:function(e){var t=e.commit;return new Promise((function(e,a){Object(s["h"])({type:"tree"}).then((function(a){t("SET_DEPTLIST",a.data||[]),e()})).catch((function(e){a(e)}))}))}},getters:{userInfo:function(e){return e.userInfo},isWxUser:function(e){var t=e.userInfo;return!!t&&[3,4].includes(t.loginType)},userList:function(e){return e.userList},userDeptObj:function(e){return e.userDeptObj},userDeptMap:function(e){return e.userDeptMap},searchUserDept:function(e){return e.searchUserDept},deptList:function(e){return e.deptList},allAuth:function(e){return e.allAuth},crm:function(e){return e.crm},bi:function(e){return e.bi},manage:function(e){return e.manage},oa:function(e){return e.oa},project:function(e){return e.project},email:function(e){return e.email},emailBinding:function(e){return e.emailBinding},knowledge:function(e){return e.knowledge},hrm:function(e){return e.hrm},call:function(e){return e.call},jxc:function(e){return e.jxc},finance:function(e){return e.finance},scrm:function(e){return e.scrm},emailNum:function(e){return e.emailNum},currentAccountInfo:function(e){return e.currentAccountInfo},tplAppAuth:function(e){return e.tplAppAuth}}};t["default"]=C},"0fe5":function(e,t,a){"use strict";a("f889")},1:function(e,t,a){e.exports=a("56d7")},"10a1":function(e,t,a){"use strict";a("367d")},"10b4":function(e,t,a){},"111f":function(e,t,a){},1226:function(e,t,a){"use strict";a("14a6")},"12be":function(e,t,a){"use strict";a("3cfd")},"130f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide-fade"},on:{"after-enter":e.afterEnter}},[a("el-card",{ref:"slide",staticClass:"slide-detail-card-container",style:{"z-index":e.zIndex},attrs:{id:"slide","body-style":e.bodyStyle}},[e.showClose?a("el-button",{staticClass:"close-btn",attrs:{type:"primary",icon:"el-icon-close"},on:{click:e.close}}):e._e(),e._v(" "),e._t("default")],2)],1)},i=[],o=(a("d3b7"),a("159b"),a("ed08")),c={name:"SlideView",componentName:"SlideView",components:{},props:{showClose:{type:Boolean,default:!0},bodyStyle:{type:Object,default:function(){return{padding:0}}},listenerIDs:{type:Array,default:function(){return[]}},noListenerIDs:{type:Array,default:function(){return[]}},noListenerClass:{type:Array,default:function(){return[]}},appendToBody:{type:Boolean,default:!1}},data:function(){return{zIndex:Object(o["o"])(),isEditClose:!1,targetData:{isMoveClick:!1,pageX:0,pageY:0}}},computed:{},watch:{},created:function(){var e=this;this.$on("setEditClose",(function(t){e.isEditClose=t}))},mounted:function(){this.appendToBody&&document.body.appendChild(this.$el),document.getElementById("app").addEventListener("click",this.handleDocumentClick,!1),document.getElementById("app").addEventListener("mousedown",this.handleDocumentMousedown,!1),document.getElementById("app").addEventListener("mouseup",this.handleDocumentMouseup,!1)},beforeDestroy:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),document.getElementById("app").removeEventListener("click",this.handleDocumentClick,!1),document.getElementById("app").removeEventListener("mousedown",this.handleDocumentMousedown,!1),document.getElementById("app").removeEventListener("mouseup",this.handleDocumentMouseup,!1)},methods:{handleDocumentClick:function(e){if(this.targetData.isMoveClick)this.targetData.isMoveClick=!1;else{var t=!0;this.noListenerIDs.forEach((function(a){document.getElementById(a)&&document.getElementById(a).contains(e.target)&&(t=!1)})),this.noListenerClass.forEach((function(a){var n=document.getElementsByClassName(a);if(n&&t)for(var i=0;i<n.length;i++){var o=n[i];if(o.contains(e.target)){t=!1;break}}})),this.$el&&this.$el.contains(e.target)&&(t=!1),t&&this.close()}},handleDocumentMousedown:function(e){this.targetData.pageX=e.pageX,this.targetData.pageY=e.pageY},handleDocumentMouseup:function(e){Math.abs(this.targetData.pageX-e.pageX)>30||Math.abs(this.targetData.pageY-e.pageY)>30?this.targetData.isMoveClick=!0:this.targetData.isMoveClick=!1},afterEnter:function(){this.$emit("afterEnter")},close:function(){var e=this;this.isEditClose?this.$confirm("确定离开？正在编辑的内容将会丢失","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("close")})).catch((function(){})):this.$emit("close")}}},r=c,s=(a("fda4"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"db1185a2",null);t["a"]=l.exports},1421:function(e,t,a){},"14a6":function(e,t,a){},"15cc":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("5530"),i=(a("a15b"),a("d81d"),a("d3b7"),a("159b"),a("b64b"),a("7db0"),a("ddb0"),a("caad"),a("a9e3"),a("6bfe")),o=a("ed08"),c=a("3f26"),r=function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=null;if(r&&r.formatFunc&&"function"===typeof r.formatFunc&&"detail_table"!==t){var l=r.formatFunc(t,a,n);if(void 0!==l)return l}switch(t){case"select":return a?(s=Object(o["v"])(a),Object(i["c"])(s)?s.value:a):"";case"checkbox":return a?(s=Object(o["v"])(a),Object(i["a"])(s)?s.map((function(e){return e.value})).join("，"):a):"";case"date_interval":return a?(s=Object(o["v"])(a),Object(i["c"])(s)?[s.fromDate,s.toDate]:a):"";case"user":case"position":case"location":case"structure":return a?Object(o["v"])(a):"";case"field_tag":return a?Object(o["v"])(a):[];case"percent":return Object(c["h"])(a,"*");case"detail_table":var d=[];if(!a)return d;var u=Object(o["v"])(a)||[];return u.forEach((function(t){var a={};Object.keys(t).forEach((function(i){var o=n.children.find((function(e){return e.fieldName===i}));o&&(a[i]=e(o.formType,t[i],o,r))})),d.push(a)})),d;case"data_union":return a?(s=Object(o["v"])(a)||{},s.hasOwnProperty("module")?s.module.relateModuleId&&Object(i["b"])(s.fieldData)?s.values[0]||"":s.fieldData[0]||"":""):"";case"data_union_multi":return a?(s=Object(o["v"])(a)||{},s.hasOwnProperty("module")?s.module.relateModuleId&&Object(i["b"])(s.fieldData)?s.values||[]:s.fieldData||[]:[]):"";default:return a}},s=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(["user","structure","file"].includes(t))return a&&Object(o["v"])(a)||[];if(["date_interval","position","location","map_address","address"].includes(t))return a&&Object(o["v"])(a)||{};switch(t){case"select":if(!a)return null;a=Object(o["v"])(a);var s=(r.optionsList||[]).find((function(e){return e.key===a.key||e.value===a.value}));return s?1===s.type?Object(n["a"])(Object(n["a"])({},s),{},{value:a.value}):s:null;case"checkbox":if(!a)return[];var l=[],d=Object(o["v"])(a)||[];return d.forEach((function(e){var t=(r.optionsList||[]).find((function(t){return t.key===e.key||t.value===e.value}));t&&(1===e.type?l.push(Object(n["a"])(Object(n["a"])({},t),{},{value:e.value})):l.push(t))})),l;case"data_union":if(Object(i["b"])(a))return null;if(!isNaN(Number(a)))return a;var u=Object(o["v"])(a)||{};return u.hasOwnProperty("module")?u.module.relateModuleId?u.values[0]||"":u.fieldData[0]||"":"";case"data_union_multi":if(Object(i["b"])(a))return[];var m=Object(o["v"])(a)||{};return m.hasOwnProperty("module")?m.module.relateModuleId?m.values||[]:m.fieldData||[]:[];case"field_attention":return a?Number(a):0;case"number":return a||0==a?a:null;case"percent":return a||0==a?Object(c["h"])(a,"*"):"";case"detail_table":var f=[];if(!a)return f;var h=Object(o["v"])(a)||[];return h.forEach((function(t){var a={};Object.keys(t).forEach((function(n){var i=r.children.find((function(e){return e.fieldName===n}));i&&(a[n]=e(i.formType,t[n],i))})),f.push(a)})),f;default:return a||""}}},"163e":function(e,t,a){"use strict";var n=a("5530"),i=(a("7db0"),a("d3b7"),a("0edd")),o=a("2f62");t["a"]={data:function(){return{asyncModuleInfoMap:{}}},computed:Object(n["a"])({},Object(o["c"])("appModule",["userAppCategoryList","userAppDataList"])),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({getActiveModuleByAppId:"appModule/getActiveModuleByAppId",getLastVersionModuleByAppId:"appModule/getLastVersionModuleByAppId"})),{},{getModuleObjById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;t||(t={});for(var a=t.isLastVersion?"lastVersionModule":"activeModule",n=0;n<this.userAppDataList.length;n++){var i=this.userAppDataList[n],o=(i[a]||[]).find((function(t){return t.moduleId===e}));if(o)return o}},getModuleObjByCategory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getModuleObjById(e,t);if(!a)return null;var i=this.userAppCategoryList.find((function(e){return e.categoryId===t.categoryId&&e.version===a.version}))||{};return Object(n["a"])(Object(n["a"])({},a),{},{categoryName:i.categoryName||null,categoryId:i.categoryId||null})},asyncGetModuleObjById:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o,c){t.asyncModuleInfoMap[e]||t.$set(t.asyncModuleInfoMap,e,{latest:null,active:null});var r=a?"latest":"active",s=t.asyncModuleInfoMap[e][r];if(!n&&s)return o(s);Object(i["m"])({moduleId:e,isLatest:a}).then((function(a){t.$set(t.asyncModuleInfoMap[e],r,a.data),o(a.data)})).catch((function(){c()}))}))}})}},1733:function(e,t,a){"use strict";a("b1a0")},"17d4":function(e,t,a){},"18b2":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("1da1"),i=(a("96cf"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("159b"),a("bff1")),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o={},n=Array.from(new Set(n)),n.length){e.next=4;break}return e.abrupt("return",o);case 4:return e.next=6,Object(i["a"])({dataIds:n,moduleId:t,fieldId:a}).then((function(e){return e.data}));case 6:return c=e.sent,(c.dataList||[]).forEach((function(e){o[e.dataId]={relateModuleId:c.relateModuleId,moduleId:c.moduleId,dataId:e.dataId,value:e.value}})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},1927:function(e,t,a){},"1ad5":function(e,t,a){"use strict";a("9a51")},"1b8a":function(e,t,a){"use strict";a("e816")},"1d33":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===e.orient,"vux-flex-row":"horizontal"===e.orient},style:e.styles},[e._t("default")],2)},i=[],o=(a("a9e3"),{name:"Flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){var e={"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction};return e}}}),c=o,r=(a("73b1"),a("2877")),s=Object(r["a"])(c,n,i,!1,null,null,null);t["a"]=s.exports},"1e12":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("3ca3"),a("ddb0");var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"nav-container"},[a("navbar",{attrs:{title:"基本信息"},on:{"nav-items-click":e.navClick}})],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{padding:"15px"},attrs:{id:"crm-main-container"}},[a("app-main")],1)],1)],1)},i=[],o=a("38e2"),c={name:"UserLayout",components:{Navbar:o["b"],AppMain:o["a"]},data:function(){return{}},computed:{},methods:{navClick:function(e){}}},r=c,s=(a("5cf2"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"7eae9738",null),d=l.exports,u=[{path:"/person",component:d,redirect:"/person/index",name:"person",hidden:!0,meta:{title:"个人中心"},children:[{path:"index",component:function(){return Promise.all([a.e("chunk-38c619b9"),a.e("chunk-48e623ab")]).then(a.bind(null,"e382"))}}]}];t["default"]=u},"1eeb":function(e,t,a){"use strict";a("da82")},2:function(e,t){},"201c":function(e,t,a){"use strict";a("e7c9")},2143:function(e,t,a){e.exports=a.p+"static/img/empty.15e8abd3.png"},2212:function(e,t,a){},2444:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-group"},[a("div",{staticClass:"wk-group-header"},[a("div",{staticClass:"wk-group-mark"}),e._v(" "),a("div",{staticClass:"wk-group-title"},[e._v(e._s(e.data.name))]),e._v(" "),e.showTips?["tooltip"==e.data.tipType?a("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.getTips(e.data))},slot:"content"}),e._v(" "),a("i",{staticClass:"wk wk-help wk-help-tips"})]):a("span",{staticStyle:{color:"#6b778c"}},[e._v(e._s(e.getTips(e.data)))])]:e._e()],2)])},i=[],o=a("6bfe"),c={name:"WkGroup",props:{data:{type:Object,default:function(){return{}}},showTips:{type:Boolean,default:!0}},methods:{getTips:function(e){var t=e.tips||e.inputTips;return"tooltip"==e.tipType?Object(o["b"])(t)?"":t:Object(o["b"])(t)?"":"（".concat(t,"）")}}},r=c,s=(a("34b3"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"f14be60c",null);t["a"]=l.exports},2581:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"wk-user-select-dialog",attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:e.title,"show-close":!1,width:"700px"}},[a("div",{key:e.visible?"visible":"hidden",staticClass:"main"},[a("div",{staticClass:"main-left"},[a("div",{staticClass:"main-top"},[a("el-input",{attrs:{maxlength:"8",placeholder:"请输入关键字"},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}},[a("el-button",{attrs:{slot:"suffix",type:"icon",icon:"wk wk-sousuo"},on:{click:e.goSearch},slot:"suffix"})],1)],1),e._v(" "),a("div",{staticClass:"main-body-wrap"},[e.searchInput?a("div",{staticClass:"search-view"},[a("div",{staticClass:"search-view__hd"},[e._v("搜索关键字为"),a("span",[e._v(e._s(e.searchInput))]),e._v("的结果")]),e._v(" "),a("div",{staticClass:"search-view__bd"},[a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:e.resultList[0].children.length>0,expression:"resultList[0].children.length > 0"}],attrs:{disabled:e.disabled},model:{value:e.currentUserValue,callback:function(t){e.currentUserValue=t},expression:"currentUserValue"}},[a("div",{staticClass:"letter-block",attrs:{"data-letter":e.resultList[0].letter}},[a("div",{staticClass:"header"},[a("span",{staticClass:"label"},[e._v(e._s(e.resultList[0].letter))]),e._v(" "),a("span",{staticClass:"line"})]),e._v(" "),a("div",{staticClass:"children"},e._l(e.resultList[0].children,(function(t){return a("check-cell",{key:t[e.userConfig.value],attrs:{item:t,label:t[e.userConfig.value]},on:{change:function(a){e.searchUserChange(t)}}},[a("xr-avatar",{attrs:{disabled:"",name:t[e.userConfig.label],size:30,src:t.img}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"realname text-one-line",attrs:{title:t[e.userConfig.label]}},[a("wx-open-data",{attrs:{openid:t[e.userConfig.label]}})],1),e._v(" "),a("div",{staticClass:"dept-name text-one-line",attrs:{title:t.deptName}},[a("wx-open-data",{attrs:{openid:t.deptName,type:"departmentName"}}),e._v(e._s(t.deptName?"":"无"))],1)])],1)})))])]),e._v(" "),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:e.resultList[1].children.length>0,expression:"resultList[1].children.length > 0"}],attrs:{disabled:e.disabled},model:{value:e.currentDepValue,callback:function(t){e.currentDepValue=t},expression:"currentDepValue"}},[a("div",{staticClass:"letter-block",attrs:{"data-letter":e.resultList[1].letter}},[a("div",{staticClass:"header"},[a("span",{staticClass:"label"},[e._v(e._s(e.resultList[1].letter))]),e._v(" "),a("span",{staticClass:"line"})]),e._v(" "),a("div",{staticClass:"children"},e._l(e.resultList[1].children,(function(t,n){return a("dept-check-cell",{key:"dept"+n,attrs:{item:t,label:t[e.deptConfig.value],"show-next":!1},on:{change:function(a){e.searchDeptChange(t)}}})})))])]),e._v(" "),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:e.resultList[2].children.length>0,expression:"resultList[2].children.length > 0"}],attrs:{disabled:e.disabled},model:{value:e.currentUserValue,callback:function(t){e.currentUserValue=t},expression:"currentUserValue"}},[a("div",{staticClass:"letter-block",attrs:{"data-letter":e.resultList[2].letter}},[a("div",{staticClass:"header"},[a("span",{staticClass:"label"},[e._v(e._s(e.resultList[2].letter))]),e._v(" "),a("span",{staticClass:"line"})]),e._v(" "),a("div",{staticClass:"children"},e._l(e.resultList[2].children,(function(t){return a("check-cell",{key:t[e.userConfig.value],attrs:{item:t,label:t[e.userConfig.value]},on:{change:function(a){e.searchUserChange(t)}}},[a("xr-avatar",{attrs:{disabled:"",name:t[e.userConfig.label],size:30,src:t.img}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"realname text-one-line",attrs:{title:t[e.userConfig.label]}},[e._v(e._s(t[e.userConfig.label]))]),e._v(" "),a("div",{staticClass:"dept-name text-one-line",attrs:{title:t.deptName}},[e._v(e._s(t.deptName||"无"))])])],1)})))])])],1)]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchInput,expression:"!searchInput"}],staticClass:"main-body"},[e.tabs.length>1?a("div",{staticClass:"main-tabs"},e._l(e.tabs,(function(t,n){return a("el-button",{key:n,style:{width:"calc("+parseInt(100/e.tabs.length)+"% - 8px)"},attrs:{type:t.value===e.tabIndex?"selected":""},on:{click:function(a){e.tabsClick(t)}}},[e._v(e._s(t.label))])}))):e._e(),e._v(" "),"user"===e.tabIndex?a("flexbox",{staticClass:"item-cell user-switch",nativeOn:{click:function(t){return e.userTypeChange(t)}}},[a("div",{staticClass:"item-cell__hd"},[e._v(e._s(e.userShowTypeName))]),a("i",{staticClass:"el-icon-arrow-right"})]):e._e(),e._v(" "),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:"dept"!==e.tabIndex,expression:"tabIndex !== 'dept'"}],attrs:{disabled:e.disabled},model:{value:e.currentUserValue,callback:function(t){e.currentUserValue=t},expression:"currentUserValue"}},[a("user-index-list",{directives:[{name:"show",rawName:"v-show",value:"user"===e.userShowType&&"user"===e.tabIndex,expression:"userShowType === 'user' && tabIndex === 'user'"}],attrs:{data:e.userMap,disabled:e.disabled,props:e.userConfig},on:{change:e.userChange}}),e._v(" "),a("user-tree",{directives:[{name:"show",rawName:"v-show",value:"tree"===e.userShowType&&"user"===e.tabIndex,expression:"userShowType === 'tree' && tabIndex === 'user'"}],ref:"userTree",attrs:{tree:e.userTreeData,visisble:"tree"===e.userShowType,radio:e.radio,disabled:e.disabled,"user-props":e.userConfig,"dept-props":e.deptConfig},on:{change:e.userTreeChange,action:e.userTreeAction}}),e._v(" "),a("user-list",{directives:[{name:"show",rawName:"v-show",value:"stopUser"===e.tabIndex,expression:"tabIndex === 'stopUser'"}],attrs:{data:e.disableUserList,disabled:e.disabled,props:e.userConfig},on:{change:e.userChange}})],1),e._v(" "),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:"dept"===e.tabIndex,expression:"tabIndex === 'dept'"}],attrs:{disabled:e.disabled},model:{value:e.currentDepValue,callback:function(t){e.currentDepValue=t},expression:"currentDepValue"}},[a("dept-tree",{ref:"deptTree",attrs:{tree:e.deptTreeData,radio:e.radio,disabled:e.disabled,props:e.deptConfig},on:{"all-change":e.deptTreeAllChange,action:e.deptTreeAction}})],1)],1)])]),e._v(" "),a("div",{staticClass:"main-right"},[a("div",{staticClass:"main-top"},[e._v("\n        已选："),e.config.showUser||e.config.showDisableUser?[e._v(e._s(e.currentUserValue.length)+"个员工 ")]:e._e(),e.config.showDept?[e._v(e._s(e.currentDepValue.length)+"个部门")]:e._e(),e._v(" "),a("el-button",{staticClass:"clear-btn",attrs:{type:"link",disabled:e.currentUserValue.length+e.currentDepValue.length===0},on:{click:e.clearClick}},[e._v("清空")])],2),e._v(" "),a("div",{staticClass:"main-body is-right"},[a("div",{staticClass:"main-select"},e._l(e.selectData,(function(t,n){return a("el-tag",{key:n,attrs:{size:"small",type:"info",closable:"","disable-transitions":""},on:{close:function(a){e.selectDelete(t,n)}}},[t.includes("user")?e._e():a("span",{staticClass:"is-dept"}),e._v(" "),e.userDeptMap[t]?[t.includes("user")?a("wx-open-data",{attrs:{openid:e.userDeptMap[t][e.userConfig.label]}}):a("wx-open-data",{attrs:{openid:e.userDeptMap[t][e.deptConfig.label],type:"departmentName"}})]:e._e()],2)})))])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("确定")]),e._v(" "),a("el-button",{nativeOn:{click:function(t){return e.close(t)}}},[e._v("取消")])],1)])},i=[],o=a("5530"),c=(a("b64b"),a("d81d"),a("99af"),a("caad"),a("2532"),a("a434"),a("ac1f"),a("1276"),a("c740"),a("d3b7"),a("159b"),a("4de4"),a("466d"),a("2934")),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-index-list"},[a("RecycleScroller",{ref:"recycleScroller",staticClass:"letter-block",attrs:{items:e.validLetters,"emit-update":"","key-field":"userId"},on:{update:e.scrollerUpdate},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[n.header?a("div",{staticClass:"header"},[a("span",{staticClass:"label"},[e._v(e._s(n.letter))]),e._v(" "),a("span",{staticClass:"line"})]):a("check-cell",{key:n[e.config.value],attrs:{item:n,label:n[e.config.value],disabled:e.disabled,props:e.config},on:{change:function(t){e.userCheck(n)}}})]}}])}),e._v(" "),a("div",{staticClass:"index-nav"},[a("div",{staticClass:"index-nav-wrap"},[a("ul",{staticClass:"letter-list"},e._l(e.leftUl,(function(t){return a("li",{key:t.letter,class:[{"is-invalid":!t.hasChildren},{"is-current":e.selectLetter.letter===t.letter}],on:{click:function(a){e.clickIndex(t)}}},[e._v(e._s(t.letter))])}))),e._v(" "),a("ul",{staticClass:"letter-list"},e._l(e.rightUl,(function(t){return a("li",{key:t.letter,class:[{"is-invalid":!t.hasChildren},{"is-current":e.selectLetter.letter===t.letter}],on:{click:function(a){e.clickIndex(t)}}},[e._v(e._s(t.letter))])})))])])],1)},s=[],l=(a("fb6a"),a("7db0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"check-cell"},[a("el-checkbox",e._g(e._b({ref:"checkbox",attrs:{title:e.item[e.config.label]}},"el-checkbox",e.$attrs,!1),e.$listeners),[e._v(e._s(e.item[e.config.label]))]),e._v(" "),a("div",{staticClass:"check-cell__bd",on:{click:e.selectClick}},[a("xr-avatar",{attrs:{disabled:"",name:e.item[e.config.label],size:30,src:e.item.img}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"realname text-one-line"},["realname"===e.config.label?a("wx-open-data",{attrs:{openid:e.item.realname}}):[e._v(e._s(e.item[e.config.label]))]],2),e._v(" "),a("div",{staticClass:"dept-name text-one-line"},[a("wx-open-data",{attrs:{openid:e.item.deptName,type:"departmentName"}}),e._v(e._s(e.item.deptName?"":"无"))],1)])],1)],1)}),d=[],u=a("8ed6"),m={value:"userId",label:"realname"},f={name:"CheckCell",components:{},inheritAttrs:!1,props:{item:Object,props:Object},data:function(){return{}},inject:["userDepDialog"],computed:{isChecked:function(){return this.userDepDialog.currentUserValue.includes(this.item[this.config.value])},config:function(){return Object(u["a"])(Object(o["a"])({},m),this.props||{})}},watch:{isChecked:{handler:function(){this.$set(this.item,"isChecked",this.isChecked)},deep:!0,immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{selectClick:function(){this.$refs.checkbox.$el.click()}}},h=f,p=(a("287b"),a("2877")),v=Object(p["a"])(h,l,d,!1,null,"031e09c4",null),b=v.exports,g="A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(","),y={value:"userId",label:"realname"},w={name:"UserIndexList",components:{CheckCell:b},props:{data:Object,disabled:Boolean,props:Object},data:function(){return{letters:[],scrollTop:0,selectLetter:{},validLetters:[]}},computed:{leftUl:function(){return this.letters.length>0?this.letters.slice(0,14):[]},rightUl:function(){return this.letters.length>0?this.letters.slice(14):[]},config:function(){return Object(u["a"])(Object(o["a"])({},y),this.props||{})}},watch:{},created:function(){this.initData()},mounted:function(){},beforeDestroy:function(){},methods:{initData:function(){var e=this,t=[],a=[],n=0,i=21,c=40;g.forEach((function(r){var s=e.data[r]||[],l=s.length>0,d=i+c*s.length;l&&a.push({letter:r,userId:r,size:i,header:!0}),t.push({letter:r,top:n,height:d,hasChildren:l}),l&&(n+=d),s.forEach((function(e,t){a.push(Object(o["a"])({letter:r,size:c},e))}))})),this.validLetters=a,this.letters=t,t.length>0&&(this.selectLetter=t[0])},scrollerUpdate:function(){var e=this.$refs.recycleScroller.$el.scrollTop,t=this.letters.find((function(t){return e>=t.top&&e<=t.height}));t&&(this.selectLetter=t)},clickIndex:function(e){e.hasChildren&&(this.selectLetter=e,this.$refs.recycleScroller.$el.scrollTop=e.top)},userCheck:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))}}},k=w,C=(a("6496"),Object(p["a"])(k,r,s,!1,null,"33d39d7f",null)),x=C.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-list"},[a("RecycleScroller",{attrs:{items:e.data,"item-size":40,"key-field":"userId"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("check-cell",{attrs:{item:n,label:n[e.config.value],disabled:e.disabled,props:e.config},on:{change:function(t){e.userCheck(n)}}})]}}])})],1)},_=[],j={value:"userId",label:"realname"},O={name:"UserList",components:{CheckCell:b},props:{data:Array,disabled:Boolean,props:Object},data:function(){return{}},computed:{config:function(){return Object(u["a"])(Object(o["a"])({},j),this.props||{})}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{userCheck:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))}}},F=O,T=(a("4ad2"),Object(p["a"])(F,I,_,!1,null,"217c53ee",null)),A=T.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-tree"},[a("div",{staticClass:"tree-breadcrumb"},[a("breadcrumb",{ref:"breadcrumb",attrs:{data:e.breadcrumbs},on:{select:e.breadcrumbsClick}})],1),e._v(" "),a("div",{staticClass:"user-tree__bd"},[e.currentBreadcrumb?[e.breadcrumbs.length>1&&!e.radio&&!e.disabled?a("div",{staticClass:"all-check"},[a("label",{staticClass:"el-checkbox",class:[{"is-checked":e.isAll}],on:{click:function(t){return t.stopPropagation(),e.allCheck(t)}}},[a("span",{staticClass:"el-checkbox__input",class:{"is-checked":e.isAll}},[a("span",{staticClass:"el-checkbox__inner"})])]),a("span",{staticClass:"label"},[e._v("全部")])]):e._e(),e._v(" "),e._l(e.currentBreadcrumb.children,(function(t,n){return a("flexbox",{key:"dept"+n,staticClass:"dept-cell",nativeOn:{click:function(a){e.deptClick(t,n)}}},[a("label",{staticClass:"el-checkbox",class:[{"is-disabled":e.radio||e.disabled,"is-checked":t.isChecked}],on:{click:function(a){a.stopPropagation(),e.deptCheck(t,n)}}},[a("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.radio||e.disabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate}},[a("span",{staticClass:"el-checkbox__inner"})])]),a("div",{staticClass:"dept-cell__hd text-one-line",attrs:{title:t[e.deptConfig.label]}},[a("wx-open-data",{attrs:{openid:t[e.deptConfig.label],type:"departmentName"}})],1),e._v(" "),t.children&&t.children.length>0||t.userList&&t.userList.length>0?a("i",{staticClass:"el-icon-arrow-right"}):e._e()])})),e._v(" "),e._l(e.currentBreadcrumb.userList,(function(t,n){return a("check-cell",{key:"user"+n,attrs:{item:t,label:t[e.userConfig.value],disabled:e.disabled,props:e.userConfig},on:{change:function(a){e.userCheck(t,n)}}})}))]:e._e()],2)])},S=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{ref:"breadcrumbUl",staticClass:"breadcrumb"},e._l(e.data,(function(t,n){return a("li",{key:n,staticClass:"breadcrumb-item",on:{click:function(a){e.breadcrumbsClick(t,n)}}},[a("div",{staticClass:"label",class:{"is-last":n===e.data.length-1},attrs:{title:t.name}},[a("wx-open-data",{attrs:{openid:t.name,type:"departmentName"}})],1),n<e.data.length-1?a("i",{staticClass:"el-icon-arrow-right",class:{"is-last":n===e.data.length-2}}):e._e()])})))},E=[],N={name:"Breadcrumb",components:{},props:{data:Array},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{breadcrumbsClick:function(e,t){this.$emit("select",e,t),this.updatePostion()},updatePostion:function(){var e=this;this.$nextTick((function(){var t=e.$refs.breadcrumbUl;t.style.marginLeft="".concat(t.offsetWidth-t.scrollWidth,"px")}))}}},V=N,M=(a("0b72"),Object(p["a"])(V,L,E,!1,null,"6c9ce528",null)),B=M.exports,R=a("ed08"),U={value:"userId",label:"realname"},P={value:"deptId",label:"name"},W={name:"UserTree",components:{CheckCell:b,Breadcrumb:B},props:{visisble:Boolean,tree:Array,radio:Boolean,disabled:Boolean,userProps:Object,deptProps:Object},data:function(){return{isAll:!1,breadcrumbs:[],currentBreadcrumb:null,isEdit:!1}},inject:["userDepDialog"],computed:{userConfig:function(){return Object(u["a"])(Object(o["a"])({},U),this.userProps||{})},deptConfig:function(){return Object(u["a"])(Object(o["a"])({},P),this.deptProps||{})}},watch:{"userDepDialog.currentUserValue":{handler:function(){this.isEdit=!0}},visisble:function(){this.visisble&&this.isEdit&&(this.refreshData(),this.setAllStatus())}},created:function(){this.tree&&(this.breadcrumbs.push({name:"全部",children:this.tree}),this.currentBreadcrumb={index:0,children:this.tree})},mounted:function(){this.refreshData()},beforeDestroy:function(){},methods:{refreshData:function(){var e=this.tree,t=this.userDepDialog.currentUserValue;this.loopChildren(e,t)},loopChildren:function(e,t){var a=this;e.forEach((function(e){var n=!1,i=0;e.userList&&e.userList.forEach((function(e){t.includes(e[a.userConfig.value])?(i++,n=!0,a.$set(e,"isChecked",!0)):a.$set(e,"isChecked",!1)}));var o=0;if(e.children&&(a.loopChildren(e.children,t),e.children.forEach((function(e){e.isChecked&&(o++,n=!0),e.indeterminate&&(n=!0)}))),n){var c=o,r=c+i,s=(e.userList?e.userList.length:0)+(e.children?e.children.length:0);r>0&&r===s?(a.$set(e,"isChecked",!0),a.$set(e,"indeterminate",!1)):(a.$set(e,"isChecked",!1),a.$set(e,"indeterminate",!0))}else a.$set(e,"isChecked",!1),a.$set(e,"indeterminate",!1)}))},breadcrumbsClick:function(e,t){this.isEdit&&(this.isEdit=!1,this.findAllParentInfo(this.tree,this.currentBreadcrumb[this.deptConfig.value])),this.currentBreadcrumb=e,this.breadcrumbs.splice(t+1,this.breadcrumbs.length+1-t),this.setAllStatus()},deptClick:function(e){(e.children&&e.children.length>0||e.userList&&e.userList.length)&&this.breadcrumbs[this.deptConfig.value]!==e[this.deptConfig.value]&&(this.breadcrumbs.push(e),this.currentBreadcrumb=e,this.$refs.breadcrumb.updatePostion(),this.setAllStatus())},setAllStatus:function(){var e=this;this.$nextTick((function(){var t=e.currentBreadcrumb,a=t.userList,n=t.children,i=!n||n.every((function(e){return e.isChecked}));i&&(i=!a||a.every((function(e){return e.isChecked}))),e.isAll=i}))},updateChildrenItemsByAllStatus:function(){this.loopChildrenStatus(this.currentBreadcrumb,this.isAll)},loopChildrenStatus:function(e,t){var a=this;e.children&&e.children.forEach((function(e){a.$set(e,"isChecked",t),a.$set(e,"indeterminate",!1),e.children&&a.loopChildrenStatus(e,t)}))},deptCheck:function(e){if(!this.radio&&!this.disabled){var t=!e.isChecked;this.$set(e,"isChecked",t),this.$set(e,"indeterminate",!1),this.updateValueByItemAndIsChecked(e,t),this.loopChildrenStatus(e,t),this.setAllStatus()}},updateValueByItemAndIsChecked:function(e,t){var a=[];this.getUserIds(e,a);var n=Object(R["u"])(this.userDepDialog.currentUserValue);if(t){var i=[];a.forEach((function(e){n.includes(e)||(n.push(e),i.push(e))})),this.$emit("change",n),this.$emit("action","add",i)}else{var o=[],c=[];n.forEach((function(e){a.includes(e)?c.push(e):o.push(e)})),this.$emit("change",o),this.$emit("action","remove",c)}},getUserIds:function(e,t){var a=this;e.userList&&e.userList.forEach((function(e){t.push(e[a.userConfig.value])})),e.children&&e.children.forEach((function(e){e.userList&&e.userList.forEach((function(e){t.push(e[a.userConfig.value])})),e.children&&a.getUserIds(e,t)}))},userCheck:function(e){var t=this;this.setAllStatus(),this.$nextTick((function(){t.$emit("action","addUser",e)}))},allCheck:function(){this.isAll=!this.isAll,this.updateChildrenItemsByAllStatus(),this.updateValueByItemAndIsChecked(this.currentBreadcrumb,this.isAll)},findAllParentInfo:function(e,t){var a=this,n=function t(n,i){n.map((function(n){if(n[a.deptConfig.value]===i){var o=n.userList,c=n.children,r=c||[],s=o||[],l=r.filter((function(e){return e.isChecked})).length,d=s.filter((function(e){return e.isChecked})).length,u=l+d,m=r.length+s.length;u>0?u===m?(a.$set(n,"isChecked",!0),a.$set(n,"indeterminate",!1)):(a.$set(n,"isChecked",!1),a.$set(n,"indeterminate",!0)):(a.$set(n,"isChecked",!1),a.$set(n,"indeterminate",!1)),t(e,n.parentId)}else n.children&&n.children.length>0&&t(n.children,i)}))};n(e,t)}}},$=W,z=(a("12be"),Object(p["a"])($,D,S,!1,null,"5e37b561",null)),q=z.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dept-tree"},[a("div",{staticClass:"tree-breadcrumb"},[a("breadcrumb",{ref:"breadcrumb",attrs:{data:e.breadcrumbs},on:{select:e.breadcrumbsClick}})],1),e._v(" "),a("div",{staticClass:"dept-tree__bd"},[e.currentBreadcrumb?[e.breadcrumbs.length>1&&!e.radio&&!e.disabled?a("div",{staticClass:"all-check"},[a("label",{staticClass:"el-checkbox",class:[{"is-checked":e.isAll}],on:{click:function(t){return t.stopPropagation(),e.allCheck(t)}}},[a("span",{staticClass:"el-checkbox__input",class:{"is-checked":e.isAll}},[a("span",{staticClass:"el-checkbox__inner"})])]),a("span",{staticClass:"label"},[e._v("全部")])]):e._e(),e._v(" "),e._l(e.currentBreadcrumb.children,(function(t,n){return a("dept-check-cell",{key:"dept"+n,attrs:{item:t,label:t[e.config.value],disabled:e.disabled,props:e.config},on:{change:function(a){e.deptCheck(t,n)},select:e.deptSelect}})}))]:e._e()],2)])},Y=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"dept-check-cell dept-cell",nativeOn:{click:function(t){return e.cellClick(t)}}},[a("el-checkbox",e._g(e._b({ref:"checkbox",nativeOn:{click:function(e){e.stopPropagation()}}},"el-checkbox",e.$attrs,!1),e.$listeners)),a("div",{staticClass:"dept-cell__hd text-one-line"},[a("wx-open-data",{attrs:{openid:e.item[e.config.label],type:"departmentName"}})],1),e._v(" "),e.hasChildren&&e.showNext?a("i",{staticClass:"el-icon-arrow-right"}):e._e()],1)},K=[],J=a("1d33"),H={value:"deptId",label:"name"},Q={name:"DeptCheckCell",components:{Flexbox:J["a"]},inheritAttrs:!1,props:{item:Object,showNext:{type:Boolean,default:!0},props:Object},data:function(){return{}},inject:["userDepDialog"],computed:{isChecked:function(){return this.userDepDialog.currentDepValue.includes(this.item.deptId)},hasChildren:function(){return this.item.children&&this.item.children.length>0},config:function(){return Object(u["a"])(Object(o["a"])({},H),this.props||{})}},watch:{isChecked:{handler:function(){this.$set(this.item,"isChecked",this.isChecked)},deep:!0,immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{cellClick:function(){this.hasChildren?this.$emit("select",this.item):this.$refs.checkbox.$el.click()}}},X=Q,ee=(a("8cb5"),Object(p["a"])(X,G,K,!1,null,"7616ae08",null)),te=ee.exports,ae={value:"deptId",label:"name"},ne={name:"DeptTree",components:{DeptCheckCell:te,Breadcrumb:B},props:{tree:Array,disabled:Boolean,radio:Boolean,props:Object},data:function(){return{isAll:!1,allItem:{deptId:"0",name:"全公司"},breadcrumbs:[],currentBreadcrumb:null}},inject:["userDepDialog"],computed:{config:function(){return Object(u["a"])(Object(o["a"])({},ae),this.props||{})}},watch:{},created:function(){this.tree&&(this.breadcrumbs.push({name:"全部",children:this.tree}),this.currentBreadcrumb={index:0,children:this.tree})},mounted:function(){},beforeDestroy:function(){},methods:{breadcrumbsClick:function(e,t){this.currentBreadcrumb=e,this.breadcrumbs.splice(t+1,this.breadcrumbs.length+1-t),this.setAllStatus()},deptCheck:function(e){var t=this;this.setAllStatus(),this.$nextTick((function(){t.$emit("action","addDept",e)}))},allCheck:function(){var e=this;this.isAll=!this.isAll;var t=Object(R["u"])(this.userDepDialog.currentDepValue),a=(this.currentBreadcrumb.children||[]).map((function(t){return t[e.config.value]}));if(this.isAll){var n=[];a.forEach((function(e){t.includes(e)||(t.push(e),n.push(e))})),this.$emit("action","add",n),this.$emit("all-change",t)}else{var i=[],o=[];t.forEach((function(e){a.includes(e)?o.push(e):i.push(e)})),this.$emit("action","remove",o),this.$emit("all-change",i)}},setAllStatus:function(){var e=this;this.$nextTick((function(){var t=e.currentBreadcrumb.children;e.isAll=!!t&&t.every((function(e){return e.isChecked}))}))},deptSelect:function(e){e.children&&e.children.length>0&&this.breadcrumbs[this.config.value]!==e[this.config.value]&&(this.breadcrumbs.push(e),this.currentBreadcrumb=e,this.$refs.breadcrumb.updatePostion(),this.setAllStatus())}}},ie=ne,oe=(a("dc96"),Object(p["a"])(ie,Z,Y,!1,null,"6fc48710",null)),ce=oe.exports,re=a("a318"),se=a.n(re),le=a("2f62"),de=a("8122"),ue={showUser:!0,showDept:!0,showDisableUser:!0,disableUserList:null,disableUserLabel:"停用员工"},me={value:"userId",label:"realname"},fe={value:"deptId",label:"name"},he={name:"WkDepUserDialog",components:{UserIndexList:x,UserList:A,UserTree:q,DeptTree:ce,DeptCheckCell:te,CheckCell:b},props:{radio:Boolean,disabled:Boolean,visible:{type:Boolean,required:!0,default:!1},title:{type:String,default:"选择"},userValue:{type:Array,default:function(){return[]}},depValue:{type:Array,default:function(){return[]}},props:{type:Object,default:function(){return{}}},userProps:Object,deptProps:Object},provide:function(){return{userDepDialog:this}},data:function(){return{searchInput:"",userShowType:"user",userMap:{},deptList:[],disableUserList:[],selectData:[],tabIndex:"user",currentUserValue:[],currentDepValue:[],resultList:[{letter:"员工",type:"user",children:[]},{letter:"部门",type:"dept",children:[]},{letter:"",type:"stopUser",children:[]}]}},computed:Object(o["a"])(Object(o["a"])({},Object(le["c"])(["userDeptObj","userDeptMap","searchUserDept","isWxUser"])),{},{config:function(){return Object(u["a"])(Object(o["a"])({},ue),this.props||{})},userConfig:function(){return Object(u["a"])(Object(o["a"])({},me),this.userProps||{})},deptConfig:function(){return Object(u["a"])(Object(o["a"])({},fe),this.deptProps||{})},tabs:function(){var e=[];return this.config.showUser&&e.push({label:"员工",value:"user"}),this.config.showDept&&e.push({label:"部门",value:"dept"}),this.config.showDisableUser&&e.push({label:this.config.disableUserLabel,value:"stopUser"}),e},userShowTypeName:function(){return{user:"按组织框架查看",tree:"按字母排序查看"}[this.userShowType]},deptTreeData:function(){return Object(R["u"])(this.deptList)},userTreeData:function(){return Object(R["u"])(this.deptList)}}),watch:{searchInput:{handler:function(){this.goSearch()},immediate:!0},userDeptObj:{handler:function(){this.initAllData()},immediate:!0},depValue:function(){Object(de["valueEquals"])(this.depValue,this.currentDepValue)||(this.currentDepValue=Object(R["u"])(this.depValue||[]),this.userDeptMap&&Object.keys(this.userDeptMap).length>0&&this.updateSelectData())},userValue:function(){Object(de["valueEquals"])(this.userValue,this.currentUserValue)||(this.currentUserValue=Object(R["u"])(this.userValue||[]),this.userDeptMap&&Object.keys(this.userDeptMap).length>0&&this.updateSelectData())},tabs:{handler:function(){this.tabIndex=this.tabs.length>0?this.tabs[0].value:""},immediate:!0},"config.showDisableUser":{handler:function(){this.disableUserList=this.config.showDisableUser?this.config.disableUserList||this.userDeptObj.disableUserList:[]}}},created:function(){this.resultList[2].letter=this.config.disableUserLabel},mounted:function(){},beforeDestroy:function(){},methods:{initAllData:function(){var e=this.userDeptObj,t=e.userMap,a=void 0===t?{}:t,n=e.deptList,i=void 0===n?[]:n,o=e.disableUserList,c=void 0===o?[]:o;this.userMap=this.config.showUser?a:{},this.deptList=this.config.showUser||this.config.showDept?i:[],this.disableUserList=this.config.showDisableUser?this.config.disableUserList||c:[],this.currentDepValue=Object(R["u"])(this.depValue||[]),this.currentUserValue=Object(R["u"])(this.userValue||[]),this.updateSelectData()},tabsClick:function(e){e.value!==this.tabIndex&&(this.tabIndex=e.value)},userTypeChange:function(){this.userShowType="user"===this.userShowType?"tree":"user"},updateSelectData:function(){var e=this.currentUserValue.map((function(e){return"user-".concat(e)})),t=this.currentDepValue.map((function(e){return"dept-".concat(e)}));this.selectData=e.concat(t)},selectDelete:function(e,t){if(e.includes("user-")){this.selectData.splice(t,1);var a=e.split("-")[1],n=this.currentUserValue.findIndex((function(e){return e==a}));t>-1&&this.currentUserValue.splice(n,1),this.$refs.userTree&&(this.$refs.userTree.refreshData(),this.$refs.userTree.setAllStatus())}else if(e.includes("dept-")){this.selectData.splice(t,1);var i=e.split("-")[1],o=this.currentDepValue.findIndex((function(e){return e==i}));t>-1&&this.currentDepValue.splice(o,1),this.$refs.deptTree&&this.$refs.deptTree.setAllStatus()}},userChange:function(e){var t="user-".concat(e[this.userConfig.value]);if(e.isChecked)this.selectData.includes(t)||(this.radio?(this.currentDepValue=[],this.currentUserValue=[e[this.userConfig.value]],this.selectData=[t]):this.selectData.push(t));else{var a=this.selectData.findIndex((function(e){return e===t}));a>-1&&this.selectData.splice(a,1)}},userTreeAction:function(e,t){if("addUser"===e)this.userChange(t);else if("add"===e)this.selectData=this.selectData.concat(t.map((function(e){return"user-".concat(e)})));else if("remove"===e){var a=t.map((function(e){return"user-".concat(e)})),n=[];this.selectData.forEach((function(e){a.includes(e)||n.push(e)})),this.selectData=n}},deptTreeChange:function(e){var t="dept-".concat(e[this.deptConfig.value]);if(e.isChecked)this.selectData.includes(t)||(this.radio?(this.currentUserValue=[],this.currentDepValue=[e[this.deptConfig.value]],this.selectData=[t]):this.selectData.push(t));else{var a=this.selectData.findIndex((function(e){return e===t}));a>-1&&this.selectData.splice(a,1)}},deptTreeAllChange:function(e){this.currentDepValue=e},deptTreeAction:function(e,t){if("addDept"===e)this.deptTreeChange(t);else if("add"===e)this.selectData=this.selectData.concat(t.map((function(e){return"dept-".concat(e)})));else if("remove"===e){var a=t.map((function(e){return"dept-".concat(e)})),n=[];this.selectData.forEach((function(e){a.includes(e)||n.push(e)})),this.selectData=n}},userTreeChange:function(e){this.currentUserValue=e},goSearch:function(){var e=this;this.isWxUser?this.searchInput&&(this.resultList[2].children=[],Object(c["b"])({realname:this.searchInput}).then((function(t){e.resultList[0].children=t.data.list})),Object(c["a"])({deptName:this.searchInput}).then((function(t){e.resultList[1].children=t.data.list}))):(this.resultList[0].children=this.config.showUser&&this.searchInput?this.searchUserDept.userList.filter((function(t){return se.a.match(t[e.userConfig.label],e.searchInput)})):[],this.resultList[1].children=this.config.showDept&&this.searchInput?this.searchUserDept.deptList.filter((function(t){return se.a.match(t[e.deptConfig.label],e.searchInput)})):[],this.resultList[2].children=this.config.showDisableUser&&this.searchInput?(this.config.disableUserList||this.searchUserDept.disableUserList).filter((function(t){return se.a.match(t[e.userConfig.label],e.searchInput)})):[])},searchDeptChange:function(e){var t=this;this.$nextTick((function(){t.deptTreeChange(e)}))},searchUserChange:function(e){var t=this;this.$nextTick((function(){t.userChange(e)}))},getSelectShowName:function(e,t){var a=t[e];return e.includes("user")?a?a[this.userConfig.label]:"":a?a[this.deptConfig.label]:""},clearClick:function(){this.currentUserValue=[],this.currentDepValue=[],this.selectData=[]},close:function(){this.$emit("close"),this.$emit("update:visible",!1)},handleConfirm:function(){var e=this,t=Object(R["u"])(this.currentUserValue),a=Object(R["u"])(this.currentDepValue);this.$emit("update:userValue",t),this.$emit("update:depValue",a);var n=[];t.forEach((function(t){var a=e.userDeptMap["user-".concat(t)];a&&n.push(a)}));var i=[];a.forEach((function(t){var a=e.userDeptMap["dept-".concat(t)];a&&i.push(a)})),this.$emit("change",t,a,n,i),this.close()}}},pe=he,ve=(a("c57d"),a("a423"),Object(p["a"])(pe,n,i,!1,null,"183f9086",null));t["a"]=ve.exports},2589:function(e,t,a){"use strict";a.r(t);var n,i,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ignoreFields.includes(e.item.field)?a("div",[e._t("default",null,{data:e.item,index:e.index})],2):["text","statistic","formula"].includes(e.item.formType)?a("el-input",{attrs:{disabled:e.item.disabled||e.disabled,maxlength:100,placeholder:e.item.placeholder,type:e.item.formType},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):e.isTrimInput(e.item.formType)?a("el-input",{attrs:{disabled:e.item.disabled||e.disabled,"prefix-icon":e.getInputIcon(e.item.formType),maxlength:e.getInputMaxlength(e.item.formType),placeholder:e.item.placeholder,type:"text"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,"string"===typeof t?t.trim():t)},expression:"fieldFrom[item.field]"}}):"number"===e.item.formType||"floatnumber"===e.item.formType?a("el-input-number",{attrs:{placeholder:e.item.placeholder,disabled:e.item.disabled||e.disabled,controls:!1},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"percent"===e.item.formType?a("wk-percent-input",{attrs:{placeholder:e.item.placeholder,disabled:e.item.disabled||e.disabled,controls:!1},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"textarea"===e.item.formType?a("el-input",{attrs:{disabled:e.item.disabled||e.disabled,rows:3,autosize:{minRows:3},maxlength:e.item.maxlength||800,placeholder:e.item.placeholder,type:e.item.formType,resize:"none"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):["select"].includes(e.item.formType)?a("form-field-select",{attrs:{disabled:e.item.disabled||e.disabled,clearable:e.item.clearable,placeholder:e.item.placeholder,options:e.item.optionsList,"show-type":1===e.item.precisions?"tiled":"default"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):["checkbox"].includes(e.item.formType)?a("form-field-checkbox",{attrs:{disabled:e.item.disabled||e.disabled,clearable:e.item.clearable,placeholder:e.item.placeholder,options:e.item.optionsList,"show-type":1===e.item.precisions?"tiled":"default"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"date"===e.item.formType?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.item.disabled||e.disabled,type:e.dateConfig.type,"value-format":e.dateConfig.format,clearable:"",placeholder:"选择日期"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"dateRange"===e.item.formType?a("el-date-picker",{staticStyle:{width:"100%","vertical-align":"middle"},attrs:{disabled:e.item.disabled||e.disabled,type:e.item.dateType||"daterange","value-format":e.item.dateValueFormat||"yyyy-MM-dd",clearable:"","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"datetime"===e.item.formType?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.item.disabled||e.disabled,clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"structure"===e.item.formType&&(e.item.request||e.item.props||e.item.params)?a("wk-dep-select",{staticStyle:{width:"100%"},attrs:{request:e.item.request,props:e.item.props,params:e.item.params,disabled:e.item.disabled||e.disabled,radio:!!e.isEmptyValue(e.item.radio)||e.item.radio},on:{change:function(t){e.depOrUserChange(e.item,e.index,arguments[0],arguments[1])}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"structure"===e.item.formType?a("wk-dept-dialog-select",{staticStyle:{width:"100%"},attrs:{disabled:e.item.disabled||e.disabled,radio:!!e.isEmptyValue(e.item.radio)||e.item.radio},on:{change:function(t){e.depOrUserChange(e.item,e.index,arguments[0],arguments[1])}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):["single_user","user"].includes(e.item.formType)&&(e.item.request||e.item.props||e.item.params)?a("wk-user-select",{staticStyle:{width:"100%"},attrs:{request:e.item.request,props:e.item.props,params:e.item.params,disabled:e.item.disabled||e.disabled,radio:!!e.isEmptyValue(e.item.radio)||e.item.radio},on:{change:function(t){e.depOrUserChange(e.item,e.index,arguments[0],arguments[1])}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):["single_user","user"].includes(e.item.formType)?a("wk-user-dialog-select",{staticStyle:{width:"100%"},attrs:{disabled:e.item.disabled||e.disabled,radio:!!e.isEmptyValue(e.item.radio)||e.item.radio},on:{change:function(t){e.depOrUserChange(e.item,e.index,arguments[0],arguments[1])}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"radio"===e.item.formType?a("el-radio-group",{attrs:{disabled:e.item.disabled||e.disabled,placeholder:e.item.placeholder},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}},e._l(e.item.setting,(function(t,n){return a("el-radio",{key:n,attrs:{label:e.isEmptyValue(t.value)?t:t.value}},[e._v("\n    "+e._s(e.isEmptyValue(t.value)?t:t.label||t.name)+"\n  ")])}))):"boolean_value"===e.item.formType?a("el-switch",{attrs:{disabled:e.item.disabled||e.disabled,"active-value":"1","inactive-value":"0"},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"position"===e.item.formType?a("wk-position",{attrs:{"hide-area":e.item.hideArea,"only-province":e.item.onlyProvince,"show-detail":e.item.showDetail,disabled:e.item.disabled||e.disabled,"value-format":e.formatPosition},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"location"===e.item.formType?a("wk-location",{attrs:{disabled:e.item.disabled||e.disabled},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"handwriting_sign"===e.item.formType?a("wk-signature-pad",{attrs:{disabled:e.item.disabled||e.disabled},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"desc_text"===e.item.formType?a("wk-desc-text",{attrs:{value:e.fieldFrom[e.item.field]}}):"date_interval"===e.item.formType?a("el-date-picker",{staticStyle:{width:"100%","vertical-align":"middle"},attrs:{type:e.item.dateType||"daterange","value-format":e.item.dateValueFormat||"yyyy-MM-dd",disabled:e.item.disabled||e.disabled,clearable:"","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){e.dateIntervalChange(e.item,e.index,t)}},model:{value:e.formValue,callback:function(t){e.formValue=t},expression:"formValue"}}):"address"===e.item.formType?a("v-distpicker",{attrs:{province:e.fieldFrom[e.item.field].province,city:e.fieldFrom[e.item.field].city,area:e.fieldFrom[e.item.field].area},on:{province:function(t){e.selectProvince(t,e.item,e.index)},city:function(t){e.selectCity(t,e.item,e.index)},area:function(t){e.selectArea(t,e.item,e.index)}}}):"file"===e.item.formType?a("xh-files",{attrs:{value:e.fieldFrom[e.item.field],disabled:e.item.disabled||e.disabled},on:{"value-change":function(t){e.oldChange(t,e.item,e.index)}}}):"detail_table"===e.item.formType?a("wk-detail-table",{attrs:{"prop-prefix":e.item.field,field:e.item,"field-form":e.fieldFrom,"module-id":e.moduleId,disabled:e.item.disabled||e.disabled},on:{change:function(t){e.tableFieldChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):["data_union","data_union_multi"].includes(e.item.formType)?a("wk-field-data-union",{attrs:{"field-form":e.fieldFrom,"parent-field-form":e.parentFieldForm,"app-id":e.appId,"module-id":e.moduleId,field:e.item,disabled:e.item.disabled||e.disabled},on:{change:e.relativeChooseChange},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"field_attention"===e.item.formType?a("el-rate",{attrs:{disabled:e.item.disabled||e.disabled},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"field_group"===e.item.formType?a("wk-group",{attrs:{data:e.item}}):"field_tag"===e.item.formType?a("wk-tag",{attrs:{disabled:e.item.disabled||e.disabled,placeholder:e.item.placeholder,data:e.item,"tag-list":e.item.tagList},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):"serial_number"===e.item.formType?a("el-input",{attrs:{maxlength:100,type:e.item.formType,placeholder:"根据编号规则自动生成",disabled:""},on:{change:function(t){e.commonChange(e.item,e.index,t)}},model:{value:e.fieldFrom[e.item.field],callback:function(t){e.$set(e.fieldFrom,e.item.field,t)},expression:"fieldFrom[item.field]"}}):a("div",[e._t("default",null,{data:e.item,index:e.index})],2)},c=[],r=(a("a9e3"),a("99af"),a("fb6a"),a("5c0a")),s=a("de98"),l=a("8f81"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wk-tags-view",{staticClass:"wk-dept-dialog-select",attrs:{selected:e.selected,visible:e.visible,disabled:e.disabled,placeholder:e.placeholder,"collapse-tags":e.collapseTags,"value-key":"name","wx-type-name":"departmentName"},on:{"remove-tag":e.removeTag},nativeOn:{click:function(t){return e.click(t)}}},[a("wk-dep-user-dialog",{attrs:{radio:e.radio,disabled:e.disabled,"dep-value":e.dataValue,visible:e.visible,props:{showUser:!1,showDisableUser:!1}},on:{"update:depValue":function(t){e.dataValue=t},"update:visible":function(t){e.visible=t},change:e.depUserDialogChange}})],1)},u=[],m=a("5530"),f=(a("d81d"),a("a434"),a("2581")),h=a("58fa"),p=a("8122"),v=a("ed08"),b=a("2f62"),g=a("6bfe"),y=a("8ed6"),w=a("d010"),k=a.n(w),C={value:"deptId",label:"name"},x={name:"WkDeptDialogSelect",components:{WkDepUserDialog:f["a"],WkTagsView:h["a"]},mixins:[k.a],props:{radio:Boolean,placeholder:{type:String,default:function(){return"请选择"}},collapseTags:Boolean,props:{type:Object,default:function(){return{}}},value:{required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{visible:!1,dataValue:[]}},computed:Object(m["a"])(Object(m["a"])({},Object(b["c"])(["userDeptMap"])),{},{selected:function(){var e=this;return this.dataValue.map((function(t){var a=e.userDeptMap["dept-".concat(t)];return a||{deptId:t,name:""}}))},config:function(){return Object(y["a"])(Object(m["a"])({},C),this.props||{})}}),watch:{value:function(){Object(p["valueEquals"])(this.value,this.dataValue)||this.verifyValue()},dataValue:function(){this.radio?this.$emit("input",this.dataValue&&this.dataValue.length?this.dataValue[0]:""):this.$emit("input",this.dataValue)}},created:function(){Object(p["valueEquals"])(this.value,this.dataValue)||this.verifyValue()},mounted:function(){},beforeDestroy:function(){},methods:{verifyValue:function(){var e=this;if(this.radio||Array.isArray(this.value)||this.$emit("input",[]),this.radio&&(Array.isArray(this.value)||null===this.value||void 0===this.value)&&this.$emit("input",""),this.radio)this.value!==this.dataValue&&(Object(g["b"])(this.value)?this.dataValue=[]:this.dataValue=[this.value]);else if(!Object(p["valueEquals"])(this.value,this.dataValue))if(this.value&&this.value.length){var t=this.value[0];t[this.config.value]?this.dataValue=this.value.map((function(t){return t[e.config.value]})):t.id?this.dataValue=this.value.map((function(e){return e.id})):this.dataValue=Object(v["u"])(this.value)}else this.dataValue=[]},removeTag:function(e){this.dataValue.splice(e,1),this.depUserDialogChange()},depUserDialogChange:function(){var e=this;this.$nextTick((function(){e.radio?e.dispatch("ElFormItem","el.form.change",e.dataValue&&e.dataValue.length>0?e.dataValue[0]:""):e.dispatch("ElFormItem","el.form.change",e.dataValue),e.$emit("change",e.dataValue,e.selected)}))},click:function(){this.disabled||(this.visible=!0)}}},I=x,_=a("2877"),j=Object(_["a"])(I,d,u,!1,null,"06d6c25e",null),O=j.exports,F=a("0a3e"),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-location",on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[a("el-input",{attrs:{disabled:e.disabled,readonly:"",clearable:"",placeholder:"点击定位"},on:{clear:e.inputClear},nativeOn:{click:function(t){return e.inputClick(t)}},model:{value:e.dataValue.address,callback:function(t){e.$set(e.dataValue,"address",t)},expression:"dataValue.address"}},[a("template",{slot:"suffix"},[e.dataValue.address&&e.hovering?a("i",{staticClass:"el-icon-circle-close",staticStyle:{cursor:"pointer"},on:{click:function(t){return t.stopPropagation(),e.inputClear(t)}}}):a("i",{staticClass:"wk wk-icon-location"})])],2),e._v(" "),a("wk-location-point-dialog",{attrs:{value:e.dataValue,visible:e.pointDialogVisible},on:{"update:visible":function(t){e.pointDialogVisible=t},select:e.pointSelect}})],1)},A=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"close-on-click-modal":!1,"append-to-body":"",title:"选择位置",width:"500px"},on:{close:e.close}},[a("flexbox",{attrs:{align:"stretch"}},[a("flexbox-item",[a("div",{staticClass:"area-title"},[e._v("定位")]),e._v(" "),a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入详细位置名称"},on:{blur:e.inputBlur,focus:e.inputFocus,select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("div",{staticClass:"name"},[e._v(e._s(n.address+n.title))])]}}]),model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),a("div",{ref:"myMap",staticClass:"map"})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.selectSure}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("取消")])],1)],1)},S=[],L=(a("ac1f"),a("841c"),a("5a8c")),E={name:"WkLocationPointDialog",components:{VDistpicker:L["a"]},props:{visible:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{map:null,searchInput:"",searchCopyInput:"",pointAddress:null}},computed:{},watch:{visible:function(e){var t=this;e&&this.$nextTick((function(){Object(v["j"])().then((function(){var e=new BMap.Map(t.$refs.myMap,{enableMapClick:!0}),a=new BMap.Point(116.404,39.915);if(t.value&&(Object(g["b"])(t.value.lat)||Object(g["b"])(t.value.lng)||(a=new BMap.Point(t.value.lng,t.value.lat)),Object(g["b"])(t.value.address)||(t.searchInput=t.value.address,t.searchCopyInput=t.searchInput)),!t.value||t.value&&Object(g["b"])(t.value.lat)&&Object(g["b"])(t.value.lng)&&Object(g["b"])(t.value.address)){var n=t,i=new BMap.Geolocation;i.getCurrentPosition((function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var t=new BMap.Geocoder({extensions_town:!0});t.getLocation(e.point,(function(e){e&&(n.searchInput=e.address,n.searchCopyInput=e.address,n.addMarkerLabel(e.point),e.title="",n.pointAddress=e)}))}}))}e.centerAndZoom(a,14),e.enableScrollWheelZoom(),t.map=e,t.addMarkerLabel(a)}))}))}},mounted:function(){},methods:{querySearchAsync:function(e,t){if(e){var a={onSearchComplete:function(e){if(n.getStatus()==BMAP_STATUS_SUCCESS){for(var a=[],i=0;i<e.getCurrentNumPois();i++)a.push(e.getPoi(i));t(a)}else t([])},pageCapacity:20},n=new BMap.LocalSearch(this.map,a);n.search(e)}else t([])},handleSelect:function(e){this.searchInput=e.address+e.title,this.searchCopyInput=this.searchInput,this.addMarkerLabel(e.point),this.pointAddress=e},inputBlur:function(){this.searchCopyInput!==this.searchInput&&(this.searchInput=this.searchCopyInput)},inputFocus:function(){this.searchCopyInput=this.searchInput},addMarkerLabel:function(e){this.map.clearOverlays(),this.map.centerAndZoom(e,14),this.map.addOverlay(new BMap.Marker(e))},close:function(){this.$emit("update:visible",!1)},selectSure:function(){this.$emit("select",this.pointAddress),this.close()}}},N=E,V=(a("3436"),Object(_["a"])(N,D,S,!1,null,"69e64cc9",null)),M=V.exports,B={name:"WkLocation",components:{WkLocationPointDialog:M},mixins:[k.a],props:{value:{required:!0},disabled:Boolean},data:function(){return{hovering:!1,dataValue:this.getDefaultValue(),pointDialogVisible:!1}},computed:{},watch:{value:{handler:function(e){Object(p["valueEquals"])(e,this.dataValue)||(Object(g["c"])(this.value)?this.dataValue=e:(this.dataValue=this.getDefaultValue(),this.$emit("input",this.dataValue)))},immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getDefaultValue:function(){return{lat:"",lng:"",address:""}},inputClick:function(){this.disabled||(this.pointDialogVisible=!0)},inputClear:function(){this.dataValue=this.getDefaultValue(),this.valueChange()},pointSelect:function(e){e&&(this.dataValue={lat:e.point.lat,lng:e.point.lng,address:e.address+e.title}),this.valueChange()},valueChange:function(){this.$emit("input",this.dataValue),this.$emit("change",this.dataValue),this.dispatch("ElFormItem","el.form.change",this.dataValue)}}},R=B,U=Object(_["a"])(R,T,A,!1,null,"9f75b7b2",null),P=U.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"wkSignaturePad",staticClass:"wk-signature-pad"},[e.disabled?a("wk-signature-image",{attrs:{src:e.value,height:e.height}}):[a("vue-signature-pad",{key:e.height,ref:"signaturePad",attrs:{options:e.options,height:e.height,width:"100%"}}),e._v(" "),a("div",{staticClass:"wk-signature-pad__handle"},[a("el-button",{attrs:{type:"text",icon:"wk wk-icon-reply"},on:{click:function(t){e.handleClick("undo")}}},[e._v("撤回")]),e._v(" "),a("el-button",{attrs:{type:"text",icon:"wk wk-icon-bin"},on:{click:function(t){e.handleClick("clear")}}},[e._v("清空")])],1)]],2)},$=[],z=a("b5b9"),q=a("2934"),Z=a("2909"),Y=(a("d3b7"),a("159b"),a("b64b"),a("a15b"),a("90e2")),G=(a("caad"),a("e9c4"),["image/png","image/jpeg","image/svg+xml"]),K=function(e){return G.includes(e)},J={dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7,onBegin:function(){},onEnd:function(){}},H=function(e){return JSON.parse(JSON.stringify(e))},Q={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",x:0,y:0},X={name:"VueSignaturePad",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},customStyle:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},images:{type:Array,default:function(){return[]}}},data:function(){return{signaturePad:{},cacheImages:[],signatureData:Q,onResizeHandler:null}},computed:{propsImagesAndCustomImages:function(){var e=H(this.images),t=H(this.cacheImages);return[].concat(Object(Z["a"])(e),Object(Z["a"])(t))},canvas:function(){return this.$refs.signaturePadCanvas}},watch:{options:function(e){var t=this;Object.keys(e).forEach((function(a){t.signaturePad[a]&&(t.signaturePad[a]=e[a])}))},height:function(){this.resizeCanvas()}},mounted:function(){var e=this.options,t=this.$refs.signaturePadCanvas,a=new Y["a"](t,Object(m["a"])(Object(m["a"])({},J),e));this.signaturePad=a,this.resizeCanvas()},beforeDestroy:function(){},methods:{resizeCanvas:function(){var e=this.$refs.signaturePadCanvas,t=this.signaturePad.toData(),a=Math.max(window.devicePixelRatio||1,1);e.width=e.offsetWidth*a,e.height=e.offsetHeight*a,e.getContext("2d").scale(a,a),this.signaturePad.clear(),this.signatureData=Q,this.signaturePad.fromData(t)},saveSignature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G[0],t=arguments.length>1?arguments[1]:void 0,a=this.signaturePad,n={isEmpty:!1,data:void 0};if(!K(e)){var i=G.join(", ");throw new Error("The Image type is incorrect! We are support ".concat(i," types."))}return a.isEmpty()?Object(m["a"])(Object(m["a"])({},n),{},{isEmpty:!0}):(this.signatureData=a.toDataURL(e,t),Object(m["a"])(Object(m["a"])({},n),{},{data:this.signatureData}))},undoSignature:function(){var e=this.signaturePad,t=e.toData();if(t)return e.fromData(t.slice(0,-1))},fromDataURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return this.signaturePad.fromDataURL(e,t,a)},fromData:function(e){return this.signaturePad.fromData(e)},toData:function(){return this.signaturePad.toData()},lockSignaturePad:function(){return this.signaturePad.off()},openSignaturePad:function(){return this.signaturePad.on()},isEmpty:function(){return this.signaturePad.isEmpty()},getPropImagesAndCacheImages:function(){return this.propsImagesAndCustomImages},clearCacheImages:function(){return this.cacheImages=[],this.cacheImages},clearSignature:function(){return this.signaturePad.clear()},toBlob:function(e,t,a){this.$refs.signaturePadCanvas.toBlob(e,t,a)}},render:function(e){var t=this.width,n=this.height,i=this.customStyle,o=a("d724");return e("div",{style:Object(m["a"])({width:t,height:n},i)},[e("canvas",{style:{width:"100%",height:"100%",cursor:"url(".concat(o,"),default")},ref:"signaturePadCanvas"})])}},ee=X,te=Object(_["a"])(ee,n,i,!1,null,null,null),ae=te.exports,ne=a("5b79"),ie={name:"WkSignaturePad",components:{VueSignaturePad:ae,WkSignatureImage:ne["a"]},mixins:[k.a],props:{value:String,data:String,disabled:Boolean},data:function(){return{options:{backgroundColor:"#fff",onEnd:this.onEnd,minWidth:1,maxWidth:3},height:"150px"}},computed:{},watch:{data:function(e,t){Object(p["valueEquals"])(e,t)||this.$refs.signaturePad.fromDataURL(e)}},created:function(){},mounted:function(){this.value&&this.getData(),this.height="".concat(parseInt(this.$refs.wkSignaturePad.clientWidth/2.6),"px")},beforeDestroy:function(){},methods:{getData:function(){var e=this;Object(z["f"])(this.value).then((function(t){var a=t.data;a&&Object(v["n"])(a.url).then((function(t){var a=new Image;a.onload=function(){var n=e.$refs.signaturePad.canvas.width,i=a.width,o=n/i;e.options.minWidth=e.options.minWidth*o,e.options.maxWidth=e.options.maxWidth*o,e.$nextTick((function(){e.$refs.signaturePad.fromDataURL(t.src)}))},a.src=t.src})).catch((function(){}))})).catch((function(){}))},onEnd:function(){var e=this,t=this.$refs.signaturePad.saveSignature(),a=t.isEmpty,n=t.data;this.$emit("update:data",n),a||this.$refs.signaturePad.toBlob((function(t){e.uploadFile(t)}))},uploadFile:function(e){var t=this;Object(q["g"])({file:e,batchId:this.value}).then((function(e){var a=e.data||{},n=a.batchId;n&&t.value!==n&&(t.$emit("input",n),t.dispatch("ElFormItem","el.form.change",n))})).catch((function(){}))},handleClick:function(e){var t=this;"clear"===e?(this.$refs.signaturePad.clearSignature(),this.value&&this.deleteByBatchId(this.value),this.$emit("input","")):"undo"===e&&(this.$refs.signaturePad.undoSignature(),this.$nextTick((function(){var e=t.$refs.signaturePad.saveSignature(),a=e.isEmpty;a&&(t.value&&t.deleteByBatchId(t.value),t.$emit("input","")),t.onEnd()})))},deleteByBatchId:function(e){Object(z["a"])({batchId:e}).then((function(e){})).catch((function(){}))}}},oe=ie,ce=(a("5351"),a("2dfc"),Object(_["a"])(oe,W,$,!1,null,"861d619c",null)),re=ce.exports,se=a("aebc"),le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[e.controls?a("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.decrease(t)}}},[a("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")})]):e._e(),e._v(" "),e.controls?a("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.increase(t)}}},[a("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")})]):e._e(),e._v(" "),a("el-input",{ref:"input",attrs:{value:e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInput,change:e.handleInputChange},nativeOn:{keydown:[function(t){return!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.increase(t))},function(t){return!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.decrease(t))}]}},[a("template",{slot:"suffix"},[e._v("%")])],2)],1)},de=[],ue=(a("b680"),a("25f0"),a("b044")),me=a("e7fa"),fe={name:"WkPercentInput",directives:{RepeatClick:me["a"]},mixins:[Object(ue["a"])("input")],inject:{elForm:{default:""},elFormItem:{default:""}},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(e){return e>=0&&e===parseInt(e,10)}}},data:function(){return{currentValue:0,userInput:null}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,a=this.getPrecision,n=this.precision,i=a(t);return void 0!==n?n:Math.max(a(e),i)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var e=this.currentValue;if("number"===typeof e){if(this.stepStrictly){var t=this.getPrecision(this.step),a=Math.pow(10,t);e=Math.round(e/this.step)*a*this.step/a}void 0!==this.precision&&(e=e.toFixed(this.precision))}return e}},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;if(this.stepStrictly){var a=this.getPrecision(this.step),n=Math.pow(10,a);t=Math.round(t/this.step)*n*this.step/n}void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.userInput=null,this.$emit("input",t)}}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){var e=this.$refs.input.$refs.input;e.setAttribute("aria-valuenow",this.currentValue)}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),a=t.indexOf("."),n=0;return-1!==a&&(n=t.length-a-1),n},_increase:function(e,t){if("number"!==typeof e&&void 0!==e)return this.currentValue;var a=Math.pow(10,this.numPrecision);return this.toPrecision((a*e+a*t)/a)},_decrease:function(e,t){if("number"!==typeof e&&void 0!==e)return this.currentValue;var a=Math.pow(10,this.numPrecision);return this.toPrecision((a*e-a*t)/a)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var e=this.value||0,t=this._increase(e,this.step);this.setCurrentValue(t)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var e=this.value||0,t=this._decrease(e,this.step);this.setCurrentValue(t)}},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;"number"===typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t!==e&&(this.userInput=null,this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleInput:function(e){this.userInput=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t),this.userInput=null},select:function(){this.$refs.input.select()}}},he=fe,pe=Object(_["a"])(he,le,de,!1,null,null,null),ve=pe.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-detail-table"},[1===e.field.precisions?e._l(e.value,(function(t,n){return a("div",{key:n,staticClass:"detail-item"},[a("flexbox",{staticClass:"detail-item__head"},[a("div",{staticClass:"detail-item__head-title"},[e._v(e._s(e.field.name)+"（"+e._s(n+1)+"）")]),e._v(" "),e.value.length>1&&!e.disabled?a("el-button",{attrs:{icon:"wk wk-icon-bin",type:"text"},on:{click:function(t){e.deleteClick(n)}}}):e._e()],1),e._v(" "),a("app-form-items",{key:n,attrs:{"field-from":t,"parent-field-form":e.fieldForm,"field-list":e.field.children,"prop-prefix":e.propPrefix+"["+n+"].","module-id":e.moduleId,disabled:e.disabled},on:{change:function(){var t=[],a=arguments.length;while(a--)t[a]=arguments[a];return e.formChange.apply(void 0,[n].concat(t))}}}),e._v(" "),a("div",{staticClass:"add-btn"},[e.disabled?e._e():a("el-button",{attrs:{type:"text"},on:{click:e.addClick}},[a("i",{staticClass:"wk wk-l-plus"}),e._v("\n          "+e._s(e.field.remark)+"\n        ")])],1)],1)})):2===e.field.precisions?a("div",{staticClass:"detail-item"},[a("wk-table-items",{attrs:{"field-list":e.field.children,"parent-field":e.field,"parent-field-form":e.fieldForm,"prop-prefix":e.propPrefix,disabled:e.disabled,"module-id":e.moduleId,"btn-text":e.field.remark},on:{delete:e.deleteClick,change:e.formChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):e._e()],2)},ge=[],ye=(a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-table-form"},[e.showTable?a("el-table",{staticClass:"wk-table-items",staticStyle:{width:"100%"},attrs:{data:e.value}},[a("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),e._v(" "),e._l(e.fieldList,(function(t,n){return[e.getShowValue(t)?a("el-table-column",{key:n,attrs:{"min-width":e.getMinWidth(t.formType)},scopedSlots:e._u([{key:"header",fn:function(n){return[t.isNull?a("span",{staticClass:"red"},[e._v("*")]):e._e(),e._v(e._s(t.name)+"\n        ")]}},{key:"otherHeader",fn:function(n){return[t.inputTips?a("span",{staticClass:"input-tips"},[e._v("\n            （"+e._s(t.inputTips)+"）\n          ")]):e._e()]}},{key:"default",fn:function(n){return[a("app-form-item-field",{attrs:{item:t,"field-from":e.value[n.$index],"parent-field-form":e.parentFieldForm,index:n.$index,"module-id":e.moduleId},on:{change:function(){var t=[],a=arguments.length;while(a--)t[a]=arguments[a];return e.fieldChange.apply(void 0,[n.$index].concat(t))}}})]}}])}):e._e()]})),e._v(" "),e.disabled?e._e():a("el-table-column",{attrs:{resizable:!1,fixed:"right",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){t.row,t.column;var n=t.$index;return[a("el-button",{attrs:{icon:"wk wk-icon-bin",type:"text"},on:{click:function(t){e.handleDeleteRow(n)}}})]}}])})],2):e._e(),e._v(" "),e.btnText?a("flexbox",{attrs:{justify:"flex-end"}},[a("el-button",{staticClass:"add-btn",attrs:{type:"text",icon:"el-icon-plus"},on:{click:e.handleAddRow}},[e._v(e._s(e.btnText))])],1):e._e()],1)}),we=[],ke=a("15cc"),Ce={name:"WkTableItems",components:{AppFormItemField:function(){return Promise.resolve().then(a.bind(null,"2589"))}},props:{propPrefix:{type:String,default:""},value:{type:Array,default:function(){return[]}},parentField:{type:Object,required:!0},parentFieldForm:Object,fieldList:{type:Array,default:function(){return[]}},btnText:String,disabled:Boolean,moduleId:[String,Number]},data:function(){return{formItem:{},showTable:!0}},mounted:function(){var e=this.parentField.rowDefaultValue||null;e||(e={},this.parentField.children.forEach((function(t){e[t.fieldName]=Object(ke["a"])(t.formType,t.value,t)}))),this.formItem=e,this.initCom()},methods:{initCom:function(){var e=this;this.value.length||this.handleAddRow(),this.$nextTick((function(){e.showTable=!1,e.$nextTick((function(){e.showTable=!0}))}))},getMinWidth:function(e){return"date_interval"===e||"dateRange"===e||"file"===e||"location"===e||"position"===e?250:150},handleAddRow:function(){this.value.push(Object(v["u"])(this.formItem))},handleDeleteRow:function(e){this.value.splice(e,1)},getShowValue:function(e){return!e.hasOwnProperty("show")||e.show},fieldChange:function(){this.$emit.apply(this,["change"].concat(Array.prototype.slice.call(arguments)))}}},xe=Ce,Ie=(a("8281"),Object(_["a"])(xe,ye,we,!1,null,"1048c7e4",null)),_e=Ie.exports,je={name:"WkDetailTable",components:{AppFormItems:function(){return Promise.resolve().then(a.bind(null,"3d53"))},WkTableItems:_e},mixins:[k.a],props:{propPrefix:String,moduleId:[String,Number],field:{type:Object,required:!0},fieldForm:Object,disabled:Boolean,value:null},data:function(){return{}},watch:{"field.rowDefaultValue":{handler:function(){this.value&&this.value.length||this.addClick()},deep:!0},value:{handler:function(e,t){t||!e||e.length||this.addClick()},deep:!0}},mounted:function(){this.value&&this.value.length||this.addClick()},methods:{formChange:function(){var e=Array.prototype.slice.call(arguments),t=e[0],a=e[1],n=e[2],i=e[3],o=e[4];this.dispatch("ElFormItem","el.form.change",this.value),this.$emit("change",{value:this.value,childField:a,childFieldIndex:n,childFieldValue:i,childFieldValueList:o,rowIndex:t})},addClick:function(){var e=this.field.rowDefaultValue||null;e||(e={},this.field.children.forEach((function(t){e[t.fieldName]=null}))),this.value?this.value.push(Object(v["u"])(e)):this.$emit("update:input",[Object(v["u"])(e)])},deleteClick:function(e){var t=this;1!==this.value.length?this.value.splice(e,1):Object.keys(this.value[0]).forEach((function(e){t.value[0][e]=null}))}}},Oe=je,Fe=(a("d1c0"),Object(_["a"])(Oe,be,ge,!1,null,"567c890d",null)),Te=Fe.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{disabled:e.disabled,placement:"bottom",width:"350","popper-class":"no-padding-popover",trigger:"click"},model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}},[e.disabled?e._e():a("tag",{ref:"tabview",attrs:{show:e.showPopover,options:e.options,"selected-data":e.dataValue},on:{"update:show":function(t){e.showPopover=t},changeCheckout:e.checkTag}}),e._v(" "),e.$slots.reference?e._t("reference",null,{slot:"reference"}):a("flexbox",{staticClass:"tag-container xh-form-border",class:[e.disabled?"is_disabled":"is_valid",{is_focus:e.showPopover}],attrs:{slot:"reference",wrap:"wrap"},nativeOn:{click:function(t){return e.focusClick(t)}},slot:"reference"},[e._l(e.showDataValue,(function(t,n){return a("div",{key:n,staticClass:"tag-item text-one-line",style:{"background-color":t.color}},[e._v(e._s(t.value)+"\n      "),a("i",{staticClass:"delete-icon el-icon-close",on:{click:function(t){t.stopPropagation(),e.deleteTag(n)}}})])})),e._v(" "),e.dataValue.length>e.max?a("i",{staticClass:"el-icon-more"}):e._e(),e._v(" "),a("i",{class:["el-icon-arrow-up"]}),e._v(" "),0==e.dataValue.length?a("div",{staticClass:"add-item text-one-line"},[e._v(e._s(e.placeholder))]):e._e()],2)],2)},De=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag"},[a("flexbox",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v("选择标签")]),e._v(" "),a("i",{staticClass:"el-icon-close close",on:{click:e.close}})]),e._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"搜索标签"},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})],1),e._v(" "),a("div",{directives:[{name:"empty",rawName:"v-empty",value:0===e.options.length,expression:"options.length===0"}],staticClass:"content"},e._l(e.showList,(function(t,n){return a("div",{key:n,staticClass:"group"},[a("div",{staticClass:"group-name"},[e._v(e._s(t.name))]),e._v(" "),a("flexbox",{staticClass:"group-content",attrs:{wrap:"wrap"}},e._l(t.labelList,(function(t,n){return a("div",{key:n,staticClass:"group-item",style:{"background-color":t.color},on:{click:function(a){e.select(t)}}},[e._v("\n            "+e._s(t.value)+"\n            "),t.isCheck?a("span",{staticClass:"clearable"},[a("i",{staticClass:"el-icon-close",on:{click:function(a){a.stopPropagation(),e.clear(t)}}})]):e._e()])})))],1)})))]),e._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){return t.stopPropagation(),e.close(t)}}},[e._v("取消")])],1)],1)},Le=[],Ee=(a("b0c0"),a("4de4"),a("466d"),a("a318")),Ne=a.n(Ee),Ve={name:"Tag",props:{show:{type:Boolean,default:!1},selectedData:{type:Array,default:function(){return[]}},options:{type:Array,default:function(){return[]}}},data:function(){return{list:[],searchInput:""}},computed:{showList:function(){var e=this,t=[];return this.list.forEach((function(a){var n={name:a.name,labelList:a.labelList.filter((function(t){return Ne.a.match(t.value||"",e.searchInput)}))};t.push(n)})),t}},watch:{show:{handler:function(e){e&&this.checkItems(this.selectedData)},immediate:!0},selectedData:{handler:function(e){this.show&&this.checkItems(e)},deep:!0}},methods:{checkItems:function(e){this.list=Object(v["u"])(this.options),this.list.forEach((function(t){t.labelList.forEach((function(t){e.forEach((function(e){e.key==t.key&&(t.isCheck=!0)}))}))}))},select:function(e){this.$set(e,"isCheck",!0),this.$forceUpdate()},clear:function(e){this.$set(e,"isCheck",!1),this.$forceUpdate()},close:function(){this.$emit("update:show",!1)},submit:function(){var e=[];this.list.forEach((function(t){t.labelList.forEach((function(t){t.isCheck&&e.push({value:t.value,color:t.color,key:t.key})}))})),this.$emit("changeCheckout",e)}}},Me=Ve,Be=(a("2b30"),Object(_["a"])(Me,Se,Le,!1,null,"069bde1c",null)),Re=Be.exports,Ue={name:"WKTag",components:{Tag:Re},mixins:[k.a],inheritAttrs:!1,props:{value:null,data:{type:Object,default:function(){return{}}},tagList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"选择标签"},max:{type:Number,default:3}},data:function(){return{showPopover:!1,dataValue:[]}},computed:{showDataValue:function(){return this.dataValue&&this.dataValue.length>this.max?this.dataValue.slice(0,this.max):this.dataValue},options:function(){var e="",t=-1,a=[];return this.tagList.forEach((function(n){e!==n.groupId?(a.push({labelList:[{color:n.color,key:n.key,value:n.value}],name:n.groupName}),e=n.groupId,t++):a[t].labelList.push({color:n.color,key:n.key,value:n.value})})),a}},watch:{value:{handler:function(e){this.dataValue=e?Object(v["v"])(e):[]},immediate:!0}},mounted:function(){},methods:{checkTag:function(e){var t=this;this.dataValue=e,this.$nextTick((function(){t.dispatch("ElFormItem","el.form.change",t.dataValue)})),this.$emit("input",e),this.$emit("change",{value:e}),this.showPopover=!1},deleteTag:function(e){var t=this;this.disabled||(this.dataValue.splice(e,1),this.$nextTick((function(){t.dispatch("ElFormItem","el.form.change",t.dataValue)})),this.$emit("input",this.dataValue),this.$emit("change",{value:this.dataValue}))},focusClick:function(){this.$emit("focus")}}},Pe=Ue,We=(a("f9a8"),Object(_["a"])(Pe,Ae,De,!1,null,"5634420f",null)),$e=We.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.attrs&&e.componentName?a(e.componentName,e._g(e._b({tag:"component",attrs:{radio:"data_union"===e.field.formType},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}},"component",e.attrs,!1),e.$listeners)):e._e()},qe=[],Ze=a("1da1"),Ye=(a("96cf"),a("7db0"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wk-tags-view",{staticClass:"wk-data-union",attrs:{selected:e.selectedList,visible:e.dialogVisible,disabled:e.disabled,placeholder:e.placeholderText,"value-key":"value"},on:{"remove-tag":e.removeTag},nativeOn:{click:function(t){return e.handleClick(t)}}},[a("wk-data-select",e._g(e._b({attrs:{"default-selected":e.selectedList,visible:e.dialogVisible,title:e.dialogTitle,"app-id":e.appId,"app-key":e.appKey,"module-id":e.moduleId,"module-key":e.moduleKey,"main-field-key":e.mainFieldKey,config:e.requestConfig,radio:e.radio},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.handleConfirm}},"wk-data-select",e.$attrs,!1),e.$listeners))],1)}),Ge=[],Ke=(a("0481"),a("4069"),a("bff1")),Je=a("eea8"),He=a("0edd"),Qe=a("6eca"),Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"65vw","custom-class":"no-padding-dialog","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleCancel}},[a("el-container",[e.asideMenus.length?a("el-aside",{staticClass:"aside",attrs:{width:"150px"}},[a("data-slider",{attrs:{menus:e.asideMenus},on:{change:e.handleChangeTab},model:{value:e.activeMenu,callback:function(t){e.activeMenu=t},expression:"activeMenu"}})],1):e._e(),e._v(" "),e._t("content"),e._v(" "),e.$slots.content?e._e():a("el-main",{staticClass:"container"},[a("div",{staticClass:"header"},[e._t("header"),e._v(" "),!e.$slots.header&&e.config.search?a("flexbox",{staticClass:"search-box",attrs:{justify:"flex-start",align:"center"}},[a("div",[e._v("搜索：")]),e._v(" "),a("el-input",{staticClass:"search-container",attrs:{placeholder:e.searchPlaceholder||""},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleToSearch(t)}},model:{value:e.searchKeywords,callback:function(t){e.searchKeywords=t},expression:"searchKeywords"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleToSearch},slot:"append"})],1),e._v(" "),a("flexbox-item",[a("flexbox",{attrs:{align:"center",justify:"flex-end"}},[e._t("header-right")],2)],1)],1):e._e()],2),e._v(" "),a("el-main",{staticClass:"content"},[e.showTable?a("data-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataTable",attrs:{"table-data":e.tableData,"field-list":e.fieldList,"default-selected":e.currentSelected,radio:e.radio,"primary-key":e.primaryKey,"main-field-key":e.mainFieldKey},on:{"selected-change":e.handleSelectedChange}}):e._e(),e._v(" "),e.config.page?a("flexbox",{staticClass:"page-container",attrs:{justify:"flex-end"}},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.totalSize,"pager-count":5,background:"",layout:"prev, pager, next, sizes, total, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)],1)],2),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.handleCancel}},[e._v("取消")])],1)],1)},et=[],tt=(a("c740"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-slider"},e._l(e.menus,(function(t,n){return a("div",{key:t[e.valueKey],staticClass:"menu-item text-one-ellipsis",class:{active:e.value===t[e.valueKey]},on:{click:function(a){e.handleChange(t,n)}}},[e._v("\n    "+e._s(t[e.labelKey])+"\n    "),t[e.countKey]?a("span",{staticClass:"menu-item__num"},[e._v("\n      "+e._s("("+t[e.countKey]+")")+"\n    ")]):e._e()])})))}),at=[],nt={name:"DataSlider",props:{value:null,menus:{type:Array,required:!0},countKey:{type:String,default:"count"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"}},methods:{handleChange:function(e,t){this.$emit("input",e[this.valueKey]),this.$emit("change",{value:e[this.valueKey],valueItem:e,index:t})}}},it=nt,ot=(a("3027"),Object(_["a"])(it,tt,at,!1,null,"e9ee6274",null)),ct=ot.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-table"},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"row-height":40,height:"50vh",data:e.tableData,"cell-class-name":e.cellClassName,stripe:"",border:"","highlight-current-row":""},on:{"cell-click":e.handleCellClick,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection",align:"center",width:"55",fixed:""}}),e._v(" "),e._l(e.tableFieldList,(function(e,t){return[a("data-hub-table-column",{key:t,attrs:{field:e}})]})),e._v(" "),e.tableData.length||e.tableFieldList.length?e._e():a("el-table-column")],2)],1)},st=[],lt=(a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.field.isHide?e._e():a("el-table-column",e._g(e._b({attrs:{fixed:e.field.fixed,prop:e.field.fieldName,label:e.field.name,width:e.field.width||void 0,"min-width":100,sortable:!!e.field.sortable,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e.field.formatter?[e._v("\n      "+e._s(e.field.formatter(t.row,t.column,e.getValue(t),t.$index))+"\n    ")]:e.isBaseWkFieldView?a("wk-field-view",{attrs:{props:e.field,"form-type":e.field.formType,value:e.getValue(t)}}):[e._v("\n      "+e._s(e.getValue(t))+"\n    ")]]}}])},"el-table-column",e.$attrs,!1),e.$listeners))}),dt=[],ut=a("8967"),mt={name:"DataHubTableColumn",components:{WkFieldView:ut["default"]},props:{field:{type:Object,required:!0}},computed:{isBaseWkFieldView:function(){return["text","textarea","number","floatnumber","percent","mobile","email","date","datetime","date_interval","user","structure","position"].includes(this.field.formType)}},methods:{getValue:function(e){var t=e.row[e.column.property];switch(this.field.formType){case"select":return Object(g["b"])(t)?"":Object(g["c"])(t)?t.value:Object(g["a"])(t)?t.map((function(e){return Object(g["c"])(e)?e.value:e})).join(","):t;case"checkbox":return Object(g["b"])(t)?"":Object(g["c"])(t)?t.value:Object(g["a"])(t)?t.map((function(e){return Object(g["c"])(e)?e.value:e})).join(","):t;case"data_union":return Object(g["b"])(t)?"":Object(ke["b"])(this.field.formType,t,this.field).value;case"data_union_multi":return Object(g["b"])(t)?"":Object(ke["b"])(this.field.formType,t,this.field).map((function(e){return e.value})).join("，");default:return t}}}},ft=mt,ht=Object(_["a"])(ft,lt,dt,!1,null,"69bf115b",null),pt=ht.exports,vt=a("7403"),bt={name:"DataTable",components:{DataHubTableColumn:pt},props:{tableData:{type:Array,default:function(){return[]}},fieldList:{type:Array,default:function(){return[]}},radio:{type:Boolean,default:!1},defaultSelected:{type:Array,default:function(){return[]}},primaryKey:{type:String,required:!0},mainFieldKey:{type:String,required:!0}},data:function(){return{selected:[],stopChangeEvt:!1}},computed:{tableFieldList:function(){var e=this;return this.fieldList.map((function(t){var a=null;return"checkStatus"===t.fieldName&&(a=function(e,t,a,n){return vt["a"].methods.getStatusName(a)}),Object(m["a"])(Object(m["a"])({},t),{},{formatter:a,canVisit:t.fieldName===e.mainFieldKey,fixed:t.fieldName===e.mainFieldKey?"left":void 0})}))},canVisitFields:function(){return this.tableFieldList.map((function(e){return e.canVisit?e.fieldName:null})).filter((function(e){return!!e}))}},watch:{tableData:{handler:function(){var e=this;this.stopChangeEvt=!0,this.$nextTick((function(){e.stopChangeEvt=!1}))},deep:!0}},methods:{cellClassName:function(e){e.row;var t=e.column;e.rowIndex,e.columnIndex;return this.canVisitFields.includes(t.property)?"can-visit--underline":""},setSelectedRow:function(){var e=this;this.$nextTick((function(){e.$refs.table&&(e.$refs.table.clearSelection(),e.defaultSelected.forEach((function(t){var a=t[e.primaryKey]||t.dataId||t,n=e.tableData.find((function(t){var n=t[e.primaryKey]||t.dataId||t;return n===a}));n&&e.selected.push(n)})),e.selected.forEach((function(t){e.$refs.table.toggleRowSelection(t,!0)})))}))},handleSelectionChange:function(e){var t=this;this.stopChangeEvt||(this.radio?(this.selected=[],e.forEach((function(a,n){n!==e.length-1&&t.$refs.table.toggleRowSelection(a,!1)})),this.selected=e.slice(-1)):this.selected=e,this.$emit("selected-change",this.selected))},handleCellClick:function(e,t,a,n){this.canVisitFields.includes(t.property)&&this.$emit("cell-click",e,t,a,n)}}},gt=bt,yt=Object(_["a"])(gt,rt,st,!1,null,"291ca1fa",null),wt=yt.exports,kt={listRequest:null,listDataFormatter:null,fieldRequest:null,fieldDataFormatter:null,menuRequest:null,page:!0,search:!0},Ct={name:"WkDataSelect",components:{DataSlider:ct,DataTable:wt},props:{defaultSelected:{type:Array,default:function(){return[]}},mainFieldKey:{type:String,required:!0},primaryKey:{type:String,default:"dataId"},title:{type:String,default:""},visible:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},isCommon:{type:Boolean,default:!1},config:{type:Object,default:function(){return kt}}},data:function(){return{loading:!1,dialogVisible:!1,activeMenu:"1",asideMenus:[],searchKeywords:"",searchPlaceholder:"",showTable:!0,tableData:[],fieldList:[],currentSelected:[],commonAllSelected:[],initFlag:!1,currentPage:1,pageSize:15,totalSize:0,pageSizes:[15,30,50,100]}},computed:{activeMenuItem:function(){var e=this;return this.asideMenus.length?this.asideMenus.find((function(t){return t.value===e.activeMenu})):null}},watch:{visible:{handler:function(){var e=this;this.dialogVisible=this.visible,this.dialogVisible&&(this.config.menuRequest&&!this.asideMenus.length?(this.loading=!0,this.getMenu().then((function(){e.handlePageChange(1,15)})).catch((function(){e.loading=!1}))):this.handlePageChange(1,15))},immediate:!0}},methods:{getMenu:function(){var e=this;return new Promise((function(t,a){var n=e.config.menuRequest;if(Object(g["a"])(n))return e.asideMenus=n,t();if("function"!==typeof n)return a();var i=n();if(Object(g["a"])(i))return e.asideMenus=i,t();i instanceof Promise?i.then((function(a){e.asideMenus=a,t()})).catch((function(){a()})):a()}))},getFieldList:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.config.fieldRequest,n=e.config.fieldDataFormatter,!Object(g["a"])(a)){t.next=11;break}if(!n){t.next=9;break}return t.next=6,n(a);case 6:e.fieldList=t.sent,t.next=10;break;case 9:e.fieldList=a;case 10:return t.abrupt("return");case 11:if("function"===typeof a){t.next=13;break}throw new Error("The fieldRequest argument must return an Array or Promise");case 13:if(i=a(),!Object(g["a"])(i)){t.next=23;break}if(!n){t.next=21;break}return t.next=18,n(i);case 18:e.fieldList=t.sent,t.next=22;break;case 21:e.fieldList=i;case 22:return t.abrupt("return");case 23:if(!(i instanceof Promise)){t.next=36;break}return t.next=26,i.then((function(e){return e.data||[]}));case 26:if(o=t.sent,!n){t.next=33;break}return t.next=30,n(o);case 30:e.fieldList=t.sent,t.next=34;break;case 33:e.fieldList=o;case 34:t.next=37;break;case 36:throw new Error("The fieldRequest argument must return an Array or Promise");case 37:case"end":return t.stop()}}),t)})))()},getTableData:function(e,t){var a=this;return Object(Ze["a"])(regeneratorRuntime.mark((function n(){var i,o,c,r,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.loading=!0,a.fieldList.length){n.next=11;break}return n.prev=2,n.next=5,a.getFieldList();case 5:n.next=11;break;case 7:return n.prev=7,n.t0=n["catch"](2),a.loading=!1,n.abrupt("return");case 11:if(i=a.config.listRequest,o=a.config.listDataFormatter,!Object(g["a"])(i)){n.next=20;break}if(a.loading=!1,!o){n.next=19;break}return n.next=18,o(i,a.fieldList);case 18:return n.abrupt("return",n.sent);case 19:return n.abrupt("return",i);case 20:if("function"===typeof i){n.next=23;break}throw a.loading=!1,new Error("The listRequest argument must return an Array or Promise");case 23:if(c=i(e,t,a.activeMenuItem),!Object(g["a"])(c)){n.next=31;break}if(a.loading=!1,!o){n.next=30;break}return n.next=29,o(c,a.fieldList);case 29:return n.abrupt("return",n.sent);case 30:return n.abrupt("return",c);case 31:if(!(c instanceof Promise)){n.next=55;break}return n.prev=32,n.next=35,c;case 35:if(r=n.sent,a.loading=!1,s=r.data||{},l=s.hasOwnProperty("list")?s.list:s,!o){n.next=45;break}return n.next=42,o(l,a.fieldList);case 42:a.tableData=n.sent,n.next=46;break;case 45:a.tableData=l;case 46:return a.totalSize=s.hasOwnProperty("totalRow")?s.totalRow:1,a.setDefaultSelected(),n.abrupt("return");case 51:return n.prev=51,n.t1=n["catch"](32),a.loading=!1,n.abrupt("return");case 55:throw a.loading=!1,new Error("The listRequest argument must return an Array or Promise");case 57:case"end":return n.stop()}}),n,null,[[2,7],[32,51]])})))()},handleChangeTab:function(e){var t=this,a=e.value;this.activeMenu=a,this.showTable=!1,this.searchKeywords="",this.fieldList=[],this.tableData=[],this.$nextTick((function(){t.showTable=!0,t.handlePageChange(1)}))},handleToSearch:function(){this.handlePageChange(1)},handleSizeChange:function(e){this.handlePageChange(void 0,e)},handleCurrentChange:function(e){this.handlePageChange(e)},handlePageChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0!==e&&(this.currentPage=e),void 0!==t&&(this.pageSize=t),this.getTableData(this.searchKeywords,{page:this.currentPage,limit:this.pageSize})},setDefaultSelected:function(){var e=this;this.activeMenuItem?this.initFlag?this.$nextTick((function(){e.setSelected(e.activeMenuItem.selectedList)})):(this.asideMenus.forEach((function(t){var a=e.defaultSelected.find((function(e){return e.menuId===t.value}));a&&(e.$set(t,"selectedList",a.list||[]),e.$set(t,"count",(a.list||[]).length),t.value===e.activeMenu&&e.setSelected(a.list))})),this.initFlag=!0):(this.setSelected(this.defaultSelected),this.commonAllSelected=this.currentSelected)},setSelected:function(e){var t=this;this.currentSelected=e,this.$nextTick((function(){t.$refs.dataTable.setSelectedRow()}))},handleSelectedChange:function(e){var t=this;this.radio&&(e=e.slice(-1));var a=[];e.forEach((function(e){var n=e[t.primaryKey]||e.dataId||e,i=a.findIndex((function(e){var a=e[t.primaryKey]||e.dataId||e;return n===a}));-1!==i&&a.splice(i,1),a.push(e)})),this.currentSelected=a,this.activeMenuItem?(this.$set(this.activeMenuItem,"selectedList",a),this.$set(this.activeMenuItem,"count",a.length)):this.commonAllSelected=a},handleConfirm:function(){var e=[];this.activeMenuItem||(e=this.commonAllSelected),this.$emit("confirm",{aside:!!this.activeMenuItem,menus:this.asideMenus,values:e})},handleCancel:function(){this.$emit("update:visible",!1)}}},xt=Ct,It=(a("201c"),Object(_["a"])(xt,Xe,et,!1,null,"6e3b50ed",null)),_t=It.exports,jt={components:{WkTagsView:h["a"],WkDataSelect:_t},props:{value:{required:!0},field:{type:Object,default:function(){}},radio:{type:Boolean,default:!1},title:{type:String,default:""},placeholder:{type:String,default:void 0},disabled:{type:Boolean,default:!1},fieldForm:{type:Object,default:function(){}},parentFieldForm:{type:Object,default:null},appId:[String,Number],appKey:[String,Number],moduleId:[String,Number],moduleKey:[String,Number]},data:function(){return{dialogVisible:!1,selectedList:[],mainFieldKey:"",requestConfig:{}}},computed:{dialogTitle:function(){return this.title?this.title:"选择".concat(this.field?this.field.name:"")},placeholderText:function(){return void 0!==this.placeholder?this.placeholder||"":this.field.inputTips||"请选择"},relationParams:function(){return{appId:this.appId,appKey:this.appKey,moduleId:this.moduleId,moduleKey:this.moduleKey}}},watch:{relationParams:{handler:function(){this.initCom()},deep:!0}},mounted:function(){this.initCom()},inject:{rootForm:{default:void 0}},methods:{handleClick:function(){this.requestConfig={listRequest:this.listRequest,listDataFormatter:this.listDataFormatter||null,fieldRequest:this.fieldRequest,fieldDataFormatter:this.fieldDataFormatter||null,menuRequest:null,page:!0,search:!0},this.dialogVisible=!0},removeTag:function(e){this.selectedList.splice(e,1)},emitChange:function(){this.$emit("input",this.selectedList),this.$emit("change",this.field,{valData:this.selectedList,data:this.selectedList}),this.dispatch("ElFormItem","el.form.change",this.selectedList)}}},Ot=a("3f26"),Ft={name:"ExternalUnionCustom",mixins:[jt,k.a],props:{externalModule:{type:Object,default:null},relationConfig:{type:Object,default:null},mappingField:{type:Object,default:null},relationField:{type:Object,default:null}},data:function(){return{targetModule:null,targetModuleFields:[],targetMainField:null}},methods:{initCom:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTargetMainField();case 2:e.targetMainField&&(e.mainFieldKey=e.targetMainField.fieldName),e.selectedList=e.value;case 4:case"end":return t.stop()}}),t)})))()},listRequest:function(e,t,a){return this.mappingField&&this.relationField&&this.targetMainField?Object(Ke["b"])(Object(m["a"])(Object(m["a"])({},t),{},{moduleId:this.relationConfig.module.moduleId,version:this.relationConfig.module.version,fieldId:this.relationField.fieldId,targetModuleId:this.relationField.fieldUnionSaveBO.targetModuleId,searchList:this.getSearchList(e),fieldValues:this.getFilterValue()})):[]},fieldRequest:function(){var e=this;return new Promise((function(t,a){Object(Je["c"])({moduleId:e.targetModule.moduleId,version:e.targetModule.version}).then((function(e){e.data=Object(Ot["a"])(e.data||[]),t(e)})).catch((function(e){a(e)}))}))},getTargetMainField:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.relationField){t.next=3;break}return e.targetMainField=null,t.abrupt("return");case 3:return a=e.relationField.fieldUnionSaveBO.targetModuleId,t.next=6,Object(He["m"])({moduleId:a,isLatest:!1}).then((function(e){return e.data})).catch((function(){return null}));case 6:if(e.targetModule=t.sent,e.targetModule){t.next=10;break}return e.$message.error("没有找到关联模块"),t.abrupt("return");case 10:return t.next=12,Object(He["d"])({moduleId:e.targetModule.moduleId,version:e.targetModule.version}).then((function(e){return e.data}));case 12:e.targetModuleFields=t.sent,e.targetMainField=e.targetModuleFields.find((function(t){return t.fieldId===e.targetModule.mainFieldId}));case 15:case"end":return t.stop()}}),t)})))()},getSearchList:function(e){return this.targetMainField&&e?[{fieldName:this.targetMainField.fieldName,formType:"text",type:3,values:[e]}]:[]},getRelationMappingField:function(e){var t=this.relationConfig,a=t.mapping,n=t.fieldList,i=n.find((function(t){return t.fieldId===e.currentFieldId})),o=a.find((function(t){return t.fieldId===e.currentFieldId})),c=this.rootForm.fieldList.flat().find((function(e){return e.fieldId===o.targetFieldId}));return{mapping:i,real:c}},getFilterValue:function(){var e=this;if(!this.rootForm)return[];var t=[],a=this.relationField.fieldUnionSaveBO||{},n=(a.fieldUnionConditionList||[]).find((function(e){return 1===e.model}));if(n);else{var i=(a.fieldUnionConditionList||[]).filter((function(e){return 1===e.type}));i.forEach((function(a){var n,i=e.getRelationMappingField(a.search),o=i.mapping,c=i.real,r=c.fieldName;n=e.parentFieldForm&&e.parentFieldForm.hasOwnProperty(r)?e.parentFieldForm[r]:e.fieldForm[r];var s=Qe["a"].methods.getSaveFieldValue(n,o.formType,o);(Object(g["a"])(s)||Object(g["c"])(s))&&(s=JSON.stringify(s)),t.push({fieldId:o.fieldId,fieldName:o.fieldName,formType:o.formType,moduleId:e.relationConfig.module.moduleId,value:s})}))}return t},handleConfirm:function(e){var t=this;e.aside||(this.selectedList=e.values.map((function(e){return Object(m["a"])({dataId:e.dataId,value:e[t.mainFieldKey]},e)}))),this.dialogVisible=!1,this.emitChange()}}},Tt=Ft,At=(a("ee37"),Object(_["a"])(Tt,Ye,Ge,!1,null,"53a03391",null)),Dt=At.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wk-tags-view",{staticClass:"wk-data-union",attrs:{selected:e.selectedList,visible:e.dialogVisible,disabled:e.disabled,placeholder:e.placeholderText,"value-key":"value"},on:{"remove-tag":e.removeTag},nativeOn:{click:function(t){return e.handleClick(t)}}},[a("wk-data-select",e._g(e._b({attrs:{"default-selected":e.selectedList,visible:e.dialogVisible,title:e.dialogTitle,"app-id":e.appId,"app-key":e.appKey,"module-id":e.moduleId,"module-key":e.moduleKey,"main-field-key":e.mainFieldKey,"primary-key":e.typeObj.primaryKey,config:e.requestConfig,radio:e.radio},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.handleConfirm}},"wk-data-select",e.$attrs,!1),e.$listeners))],1)},Lt=[],Et=(a("5319"),a("b775"));function Nt(e){return Object(Et["a"])({url:"hubExternal/queryByModuleId/".concat(e.moduleId),method:"post"})}var Vt=a("e170");function Mt(e){return Object(Et["a"])({url:"/moduleExternalFieldMapping/queryList/".concat(e.moduleId,"/").concat(e.version),method:"post"})}var Bt=a("163e"),Rt=[],Ut=[],Pt=a("18b2"),Wt={name:"CustomUnionExternal",mixins:[jt,Bt["a"],k.a],props:{fieldList:{type:Array,default:function(){return[]}}},data:function(){return{targetModule:null,currentModule:null,externalModule:null,mappingConfig:null,typeObj:{},targetModuleFields:[]}},methods:{initCom:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.field.fieldUnionSaveBO||{},n=a.targetModuleId,n){t.next=4;break}return t.abrupt("return");case 4:return e.currentModule=e.getModuleObjById(e.moduleId),t.next=7,e.asyncGetModuleObjById(n,!1);case 7:return e.targetModule=t.sent,t.next=10,e.getTargetModuleFields();case 10:if(!e.targetModule.relateModuleId){t.next=14;break}return t.next=13,Mt({moduleId:e.targetModule.moduleId,version:e.targetModule.version}).then((function(e){return e.data}));case 13:e.mappingConfig=t.sent;case 14:return t.next=16,Nt({moduleId:e.targetModule.moduleId}).then((function(e){return e.data}));case 16:e.externalModule=t.sent,t.t0=e.externalModule.applicationId,t.next="1"===t.t0?21:"2"===t.t0?23:25;break;case 21:return e.typeObj=Rt.find((function(t){return t.key.toUpperCase()===e.externalModule.key.toUpperCase()})),t.abrupt("break",25);case 23:return e.typeObj=Ut.find((function(t){return t.key.toUpperCase()===e.externalModule.key.toUpperCase()})),t.abrupt("break",25);case 25:e.mainFieldKey=e.typeObj.mainFieldKey,e.selectedList=e.value;case 29:case"end":return t.stop()}}),t)})))()},listRequest:function(e,t,a){return this.currentModule&&this.targetModule?Object(Ke["b"])(Object(m["a"])(Object(m["a"])({},t),{},{moduleId:this.currentModule.moduleId,version:this.currentModule.version,fieldId:this.field.fieldId,targetModuleId:this.targetModule.moduleId,searchList:this.getSearchList(e),fieldValues:this.getFilterValue()})):[]},fieldRequest:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.externalModule.applicationId,t.next="1"===t.t0?3:4;break;case 3:return t.abrupt("return",Object(Vt["d"])({label:e.typeObj.type}));case 4:return t.abrupt("return",e.targetModuleFields);case 5:case"end":return t.stop()}}),t)})))()},listDataFormatter:function(e,t){var a=this;return Object(Ze["a"])(regeneratorRuntime.mark((function n(){var i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=regeneratorRuntime.mark((function n(i){var o,c,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t[i],["data_union","data_union_multi"].includes(o.formType)){n.next=3;break}return n.abrupt("return","continue");case 3:if(c=a.mappingConfig.find((function(e){return e.targetFieldId===o.fieldId})),c){n.next=6;break}return n.abrupt("return","continue");case 6:if(r=e.map((function(e){return e[o.fieldName]})).filter((function(e){return!!e})).map((function(e){return e.split(",")})).flat(),r.length){n.next=9;break}return n.abrupt("return","continue");case 9:return n.next=11,Object(Pt["a"])(a.targetModule.moduleId,c.fieldId,r).catch((function(){return{}}));case 11:s=n.sent,e.forEach((function(e){if(!Object(g["b"])(e[o.fieldName])){var t=e[o.fieldName].split(",");e[o.fieldName]=t.map((function(e){return s[e]}))}}));case 14:case"end":return n.stop()}}),n)})),o=0;case 2:if(!(o<t.length)){n.next=10;break}return n.delegateYield(i(o),"t0",4);case 4:if(c=n.t0,"continue"!==c){n.next=7;break}return n.abrupt("continue",7);case 7:o++,n.next=2;break;case 10:return n.abrupt("return",e);case 11:case"end":return n.stop()}}),n)})))()},getTargetModuleFields:function(){var e=this;return new Promise((function(t,a){Object(Je["c"])({moduleId:e.targetModule.moduleId,version:e.targetModule.version}).then((function(a){e.targetModuleFields=a.data||[],t()})).catch((function(){e.targetModuleFields=[],a()}))}))},getSearchList:function(e){var t=this,a=this.targetModuleFields.find((function(e){return e.fieldId===t.targetModule.mainFieldId}))||{};return a&&e?[{fieldName:a.fieldName,formType:"text",type:3,values:[e]}]:[]},getFilterValue:function(){var e=this,t=[],a=this.field.fieldUnionSaveBO||{},n=a.targetModuleId;if(n){var i=(a.fieldUnionConditionList||[]).find((function(e){return 1===e.model}));if(i){var o=Qe["a"].methods.getSubmitParams(this.fieldList,this.parentFieldForm||this.fieldForm);t=o.fieldDataList||[]}else{var c=(a.fieldUnionConditionList||[]).filter((function(e){return 1===e.type}));c.forEach((function(a){var n=a.search.currentFieldObj;if(n){var i,o=n.fieldName;i=e.parentFieldForm&&e.parentFieldForm.hasOwnProperty(o)?e.parentFieldForm[o]:e.fieldForm[o];var c=Qe["a"].methods.getSaveFieldValue(i,n.formType,n);(Object(g["a"])(c)||Object(g["c"])(c))&&(c=JSON.stringify(c)),t.push({fieldId:n.fieldId,fieldName:n.fieldName,formType:n.formType,moduleId:e.moduleId,value:c})}}))}return t}},getMappingValue:function(e){var t=this,a={};return this.mappingConfig.forEach((function(n){var i=t.targetModuleFields.find((function(e){return e.fieldId===n.fieldId})),o=n.targetFieldName.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}));a[i.fieldName]=e[o]})),a},handleConfirm:function(e){var t=this;e.aside||(this.selectedList=e.values.map((function(e){var a=t.getMappingValue(e);return Object(m["a"])({dataId:e[t.typeObj.primaryKey],value:e[t.mainFieldKey]},a)}))),this.dialogVisible=!1,this.emitChange()}}},$t=Wt,zt=(a("37c4"),Object(_["a"])($t,St,Lt,!1,null,"79b41e5f",null)),qt=zt.exports,Zt=a("604f"),Yt=a("b4f4"),Gt={name:"WkDataUnion",components:{ExternalUnionCustom:Dt,CustomUnionExternal:qt,RelativeChoose:Zt["a"]},mixins:[Bt["a"]],props:{value:{required:!0},field:Object,isExternal:Boolean,appId:[String,Number],appKey:[String,Number],moduleId:[String,Number],moduleKey:[String,Number]},data:function(){return{dataValue:[],componentName:null,attrs:null}},computed:{relationParams:function(){return{appId:this.appId,appKey:this.appKey,moduleId:this.moduleId,moduleKey:this.moduleKey}}},watch:{value:{handler:function(){this.dataValue=this.value||[]},deep:!0,immediate:!0},dataValue:{handler:function(){this.dataValue!==this.value&&this.$emit("input",this.dataValue)},deep:!0}},mounted:function(){this.isExternal?this.initExternal():this.initCustom()},methods:{initExternal:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Yt["b"])(e.relationParams).catch((function(){}));case 2:if(a=t.sent,a){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Object(Yt["c"])(a.id);case 7:if(n=t.sent,i=n.mapping.find((function(t){return t.targetFieldId===e.field.fieldId})),i){t.next=12;break}return e.$message.error("未找到对应的匹配字段"),t.abrupt("return");case 12:if(o=n.fieldList.find((function(e){return e.fieldId===i.fieldId})),o){t.next=16;break}return e.$message.error("未找到对应的匹配字段"),t.abrupt("return");case 16:if(!e.value||"string"!==typeof e.value){t.next=23;break}return t.next=21,Object(Pt["a"])(n.module.moduleId,i.fieldId,e.value.split(",")).catch((function(){}));case 21:c=t.sent,e.dataValue=Object.keys(c).map((function(e){return c[e]}));case 23:e.componentName="ExternalUnionCustom",e.setAttrs({externalModule:a,relationConfig:n,mappingField:i,relationField:o});case 25:case"end":return t.stop()}}),t)})))()},initCustom:function(){var e=this;return Object(Ze["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.field.fieldUnionSaveBO||{},n=a.targetModuleId,t.next=4,e.asyncGetModuleObjById(n,!1);case 4:if(i=t.sent,i){t.next=7;break}return t.abrupt("return");case 7:if(!i.relateModuleId){t.next=19;break}if(e.componentName="CustomUnionExternal",Object(g["b"])(e.value)){t.next=16;break}return o="string"===typeof e.value?e.value.split(","):e.value,t.next=13,Object(Pt["a"])(e.moduleId,e.field.fieldId,o).catch((function(){}));case 13:c=t.sent,e.dataValue=Object.keys(c).map((function(e){return c[e]}));case 16:e.setAttrs({targetModule:i}),t.next=22;break;case 19:e.componentName="RelativeChoose",e.dataValue=e.value,e.setAttrs({});case 22:case"end":return t.stop()}}),t)})))()},setAttrs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=["appId","appKey","moduleId","moduleKey","field"],n=Object(m["a"])(Object(m["a"])({},this.$attrs),t);a.forEach((function(t){n[t]=e[t]})),this.attrs=n}}},Kt=Gt,Jt=Object(_["a"])(Kt,ze,qe,!1,null,null,null),Ht=Jt.exports,Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-select"},["default"===e.showType?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,clearable:e.clearable,placeholder:e.placeholder},on:{change:e.valueChange},model:{value:e.valueId,callback:function(t){e.valueId=t},expression:"valueId"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:1===e.type?"其他":e.value,value:e.key}})}))):"tiled"===e.showType?a("el-radio-group",{on:{change:e.valueChange},model:{value:e.valueId,callback:function(t){e.valueId=t},expression:"valueId"}},e._l(e.options,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.key}},[e._v("\n      "+e._s(1===t.type?"其他":t.value)+"\n    ")])}))):e._e(),e._v(" "),e.dataValue&&1===e.dataValue.type?a("el-input",{attrs:{disabled:e.disabled,maxlength:100,placeholder:"其他选项需填写，否则为无效选项"},on:{blur:e.inputBlur},model:{value:e.dataValue.value,callback:function(t){e.$set(e.dataValue,"value",t)},expression:"dataValue.value"}}):e._e()],1)},Xt=[],ea={name:"FormFieldSelect",components:{},mixins:[k.a],props:{value:[String,Number,Object],otherShowInput:{type:Boolean,default:!1},disabled:Boolean,clearable:Boolean,placeholder:String,options:{type:Array,default:function(){return[]}},showType:{type:String,default:"default"}},data:function(){return{dataValue:null,valueId:null}},watch:{value:{handler:function(){this.validValue()},immediate:!0},options:{handler:function(){this.validValue()},immediate:!0}},methods:{validValue:function(){var e=this;if(this.options&&this.value){var t=this.options.find((function(t){return t.key===e.value.key||t.value===e.value.value}));t?(1===t.type&&this.value.value&&(t.value=this.value.value),this.dataValue=t,this.valueId=t.key,this.value.value&&this.valueId===this.value.key||this.valueChange()):(this.dataValue=null,this.valueId=null,this.valueChange())}},valueChange:function(){var e=this,t=this.options.find((function(t){return t.key===e.valueId}));t&&(this.dataValue=t,this.$emit("input",this.dataValue),this.$emit("change",this.dataValue),this.dispatch("ElFormItem","el.form.change",this.dataValue))},inputBlur:function(){this.valueChange()}}},ta=ea,aa=(a("c953"),Object(_["a"])(ta,Qt,Xt,!1,null,"9468b3ee",null)),na=aa.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-checkbox"},["default"===e.showType?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.disabled,clearable:e.clearable,placeholder:e.placeholder,multiple:""},on:{change:e.valueChange},model:{value:e.valueIds,callback:function(t){e.valueIds=t},expression:"valueIds"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:1===e.type?"其他":e.value,value:e.key}})}))):"tiled"===e.showType?a("el-checkbox-group",{attrs:{disabled:e.disabled},on:{change:e.valueChange},model:{value:e.valueIds,callback:function(t){e.valueIds=t},expression:"valueIds"}},e._l(e.options,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.key}},[e._v("\n      "+e._s(1===t.type?"其他":t.value)+"\n    ")])}))):e._e(),e._v(" "),e.otherValObj?a("el-input",{attrs:{disabled:e.disabled,maxlength:100,placeholder:"其他选项需填写，否则为无效选项"},on:{blur:e.inputBlur},model:{value:e.otherValObj.value,callback:function(t){e.$set(e.otherValObj,"value",t)},expression:"otherValObj.value"}}):e._e()],1)},oa=[],ca={name:"FormFieldCheckbox",components:{},mixins:[k.a],props:{value:{},otherShowInput:{type:Boolean,default:!1},disabled:Boolean,clearable:Boolean,placeholder:String,options:{type:Array,default:function(){return[]}},showType:{type:String,default:"default"}},data:function(){return{dataValue:[],valueIds:[],otherValObj:null}},watch:{value:{handler:function(){this.validValue()},immediate:!0,deep:!0},options:{handler:function(){this.validValue()},immediate:!0}},methods:{validValue:function(){var e=this;if(this.options&&this.value){if(!Object(g["a"])(this.value))return this.valueIds=[],this.otherValObj=null,void this.valueChange();var t=!1,a=[];this.valueIds=[],this.value.forEach((function(n){var i=e.options.find((function(e){return e.key===n.key}));i&&(e.valueIds.push(n.key),1===i.type&&(t=!0,i.value=n.value||i.value,e.otherValObj=i),a.push(i))})),this.dataValue=Object(v["u"])(a),this.valueIds.length!==this.dataValue.length&&this.valueChange();for(var n=function(t){var a=e.dataValue[t],n=e.value.find((function(e){return e.key===a.key})),i=!1;if(Object.keys(a).forEach((function(e){a[e]!==n[e]&&(i=!0)})),i)return e.valueChange(),"break"},i=0;i<this.dataValue.length;i++){var o=n(i);if("break"===o)break}t||(this.otherValObj=null)}},valueChange:function(){var e=this,t=[];this.valueIds.forEach((function(a){var n=e.options.find((function(e){return e.key===a}));n&&t.push(n)})),this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",t)},inputBlur:function(){this.valueChange()}}},ra=ca,sa=(a("ee8e"),Object(_["a"])(ra,ia,oa,!1,null,"4923e2d7",null)),la=sa.exports,da=a("2444"),ua=a("f068"),ma=a("4180"),fa={name:"AppFormItemField",components:{WkUserSelect:r["a"],WkDepSelect:s["a"],WkUserDialogSelect:l["a"],WkDeptDialogSelect:O,WkPosition:F["a"],WkLocation:P,WkSignaturePad:re,WkDescText:se["a"],WkPercentInput:ve,WkDetailTable:Te,VDistpicker:L["a"],XhFiles:ua["a"],WkTag:$e,WkFieldDataUnion:Ht,FormFieldSelect:na,FormFieldCheckbox:la,WkGroup:da["a"]},mixins:[ma["a"]],props:{item:Object,index:Number,fieldFrom:{type:Object,default:function(){return{}}},parentFieldForm:{type:Object,default:function(){}},ignoreFields:{type:Array,default:function(){return[]}},disabled:Boolean,appId:[String,Number],moduleId:[String,Number]},data:function(){return{formatPosition:Ot["d"],formValue:[]}},computed:{dataValue:function(){return this.fieldFrom[this.item.field]},dateConfig:function(){return"date"!==this.item.formType?{}:Object(Ot["e"])(this.item.precisions)}},watch:{dataValue:{handler:function(e){"date_interval"===this.item.formType&&(Object(g["b"])(e)?this.formValue=[]:this.formValue=[e.fromDate,e.toDate])},deep:!0,immediate:!0}},methods:{dateIntervalChange:function(){Object(g["b"])(this.formValue)?this.fieldFrom[this.item.field]=null:this.fieldFrom[this.item.field]={fromDate:this.formValue[0],toDate:this.formValue[1]},this.commonChange.apply(this,arguments)},tableFieldChange:function(){this.$emit.apply(this,["table-change"].concat(Array.prototype.slice.call(arguments)))}}},ha=fa,pa=(a("d1b4"),Object(_["a"])(ha,o,c,!1,null,"13d43159",null));t["default"]=pa.exports},"25ae":function(e,t,a){e.exports=a.p+"static/img/hrm.1483160b.png"},"26a1":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));var n=function(){return document.addEventListener?function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}:function(e,t,a){e&&t&&a&&e.attachEvent("on"+t,a)}}(),i=function(){return document.removeEventListener?function(e,t,a){e&&t&&e.removeEventListener(t,a,!1)}:function(e,t,a){e&&t&&e.detachEvent("on"+t,a)}}()},"27c0":function(e,t,a){"use strict";a("8860")},2807:function(e,t,a){"use strict";a("a5c4")},"287b":function(e,t,a){"use strict";a("2e26")},"28d9":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},"28e0":function(e,t,a){"use strict";a("3f50")},2934:function(e,t,a){"use strict";a.d(t,"p",(function(){return c})),a.d(t,"h",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"q",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return h})),a.d(t,"n",(function(){return p})),a.d(t,"o",(function(){return v})),a.d(t,"j",(function(){return b})),a.d(t,"k",(function(){return g})),a.d(t,"i",(function(){return y})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return C}));var n=a("5530"),i=(a("d3b7"),a("159b"),a("b64b"),a("b775")),o=a("db49");function c(e){return Object(i["a"])({url:o["a"].iDCenterUrl+"idsUser/queryUserList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["a"])({url:o["a"].iDCenterUrl+"idsDept/queryDeptTree",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new FormData;return Object.keys(e).forEach((function(t){a.append(t,e[t])})),Object(i["a"])(Object(n["a"])(Object(n["a"])({url:"adminFile/upload",method:"post",data:a},t),{},{headers:{"Content-Type":"multipart/form-data"}}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new FormData;return Object.keys(e).forEach((function(t){a.append(t,e[t])})),Object(i["a"])(Object(n["a"])(Object(n["a"])({url:"adminFile/uploadBySingle",method:"post",data:a},t),{},{headers:{"Content-Type":"multipart/form-data"}}))}function d(e){var t=new FormData;return Object.keys(e).forEach((function(a){t.append(a,e[a]),t.append("isPublic","1")})),Object(i["a"])({url:"adminFile/upload",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}function u(e){return Object(i["a"])({url:"adminFile/deleteById/".concat(e.id),method:"post",data:e})}function m(e){return Object(i["a"])({url:"adminFile/deleteByBatchId",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i["a"])({url:"adminMessage/queryList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["a"])({url:"adminMessage/readMessage",method:"post",data:e})}function p(e){return Object(i["a"])({url:"adminMessage/readAllMessage",method:"post",data:e})}function v(e){return Object(i["a"])({url:"adminUser/queryUserInfo",method:"post",data:e})}function b(e){return Object(i["a"])({url:"adminMessage/clear",method:"post",data:e})}function g(e){return Object(i["a"])({url:"adminMessage/deleteById/".concat(e),method:"post"})}function y(e){return Object(i["a"])({url:e,method:"post",data:{},responseType:"blob"})}function w(e){return Object(i["a"])({url:o["a"].iDCenterUrl+"idsUser/queryOrganizationInfo",method:"post",data:e})}function k(e){return Object(i["a"])({url:"adminUser/getWxUserIdVagueRealName",method:"post",data:e})}function C(e){return Object(i["a"])({url:"adminDept/getWxDeptIdVagueDeptName",method:"post",data:e})}},"2aff":function(e,t,a){"use strict";a("fd83")},"2b30":function(e,t,a){"use strict";a("df03")},"2b67":function(e,t,a){e.exports=a.p+"static/img/file_zip.218bff27.png"},"2b74":function(e,t,a){},"2bc3":function(e,t,a){e.exports=a.p+"static/img/crm.01f89234.png"},"2ca9":function(e,t,a){},"2dfc":function(e,t,a){"use strict";a("31eb")},"2e0e":function(e,t,a){"use strict";a("f2bc")},"2e26":function(e,t,a){},"2f77":function(e,t,a){},3:function(e,t){},3027:function(e,t,a){"use strict";a("01a7")},"30c6":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-container",class:{"is-collapse":e.collapse}},[e.collapse?e._e():e._t("header"),e._v(" "),a("el-scrollbar",{style:{"border-right-color":e.variables.menuBg,"padding-top":e.paddingTop,height:e.menusHeight},attrs:{"wrap-class":"scrollbar-wrapper"}},[a("el-menu",{staticClass:"el-menu-vertical",style:{paddingBottom:e.paddingBottom},attrs:{"default-active":e.activeMenu,collapse:e.collapse,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"active-text-color":e.variables.menuActiveText,mode:"vertical"},on:{select:e.handleSelect}},e._l(e.items,(function(t,n){return a("sidebar-item",{key:""+t.path+n,attrs:{item:t,collapse:e.collapse,"base-path":t.path,"active-menu":e.activeMenu}})})))],1),e._v(" "),e._t("bottom"),e._v(" "),a("div",{ref:"wkControlBar",staticClass:"wk-side-bar",class:{"is-close":e.collapse}},[a("div",{staticClass:"wk-side-bar__shadow"}),e._v(" "),a("div",{staticClass:"wk-side-bar__control"},[a("el-button",{class:{"is-close":e.collapse},attrs:{icon:"el-icon-arrow-right",circle:""},on:{click:e.toggleSideBarClick}})],1),e._v(" "),a("div",{staticClass:"wk-side-bar__control-line"})])],2)},i=[],o=a("5530"),c=a("2f62"),r=a("e9ca"),s=a("55f9"),l=a.n(s),d=a("999a"),u={components:{SidebarItem:r["a"]},mixins:[d["a"]],props:{items:{type:Array,default:function(){return[]}},paddingTop:{type:String,default:"0"},paddingBottom:{type:String,default:"48px"},menusHeight:{type:String,default:"calc(100% - 70px)"}},data:function(){return{buttonCollapse:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["collapse"])),{},{activeMenu:function(){var e=this.$route,t=e.meta,a=e.path;return t.activeMenu?t.activeMenu:a},variables:function(){return l.a}}),watch:{collapse:function(e){var t=this;e?this.buttonCollapse=e:setTimeout((function(){t.buttonCollapse=e}),300)},$route:function(e,t){this.initMenuColor()}},created:function(){this.initMenuColor()},mounted:function(){this.buttonCollapse=this.collapse},methods:{collapseClick:function(){this.collapse=!this.collapse},toggleSideBarClick:function(){this.$store.commit("SET_COLLAPSE",!this.collapse)},quicklyCreate:function(){this.$emit("quicklyCreate")},handleSelect:function(e,t){this.$emit("select",e,t)}}},m=u,f=(a("97f3"),a("2877")),h=Object(f["a"])(m,n,i,!1,null,"360b6808",null);t["a"]=h.exports},3153:function(e,t,a){},"31c2":function(e,t,a){"use strict";a.r(t),a.d(t,"getFirstApp",(function(){return p})),a.d(t,"generateCustomRouter",(function(){return v}));var n=a("1da1"),i=a("5530"),o=(a("96cf"),a("d3b7"),a("159b"),a("b0c0"),a("25f0"),a("caad"),a("8a79"),a("99af"),a("7db0"),a("4de4"),a("a18c")),c=a("2b0e"),r=a("df7c"),s=a.n(r),l=a("4360"),d=a("e56b");function u(e,t){return!0}var m=function e(t,a){var n=[];return t.forEach((function(t){var o=Object(i["a"])({},t);u(o,a)&&(o.children&&(o.children=e(o.children,a)),l["a"].getters.isWxUser?"application"!=o.name&&n.push(o):n.push(o))})),n},f=function e(t){var a=[];return t.forEach((function(t){var n=Object(i["a"])({},t);n.ignore||(n.children&&(n.children=e(n.children)),a.push(n))})),a},h=function(e,t,a){var c={};t.forEach((function(e){c[e.applicationId]=e.applicationId.toString()})),g(e,function(){var r=Object(n["a"])(regeneratorRuntime.mark((function n(r){var l,u,h,v,g,y,w,k,C,x,I,_,j,O;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:l={},u=[],h="",v="",g=0;case 5:if(!(g<o["a"].length)){n.next=35;break}if(y=o["a"][g],w=[],!["crm","jxc"].includes(y.type)){n.next=16;break}return n.next=12,Object(d["a"])(y.type);case 12:k=n.sent,w=m(k,e),n.next=17;break;case 16:w=m(y.router,e);case 17:C=0;case 18:if(!(C<w.length)){n.next=30;break}if(x=w[C],"manage"==y.type&&r.requiresAuth&&function(){var e=b(w),a=[];if(t&&t.length&&t.forEach((function(e){var t=e.name||"";t.endsWith("管理")?t+="角色":t+="管理角色",a.push({name:"custom-role-auth",path:"custom-role-auth/".concat(e.applicationId,"/").concat(encodeURI(e.name)),ignore:!0,meta:{title:t}})})),a&&a.length>0){var n=e.children[0];n.meta.redirect=a[0].path,a.forEach((function(t){var a=e.children.find((function(e){return e.path===t.path}));a||e.children.push(t)}))}}(),!(x.children&&x.children.length>0)||x.meta&&x.meta.ignoreRedirect||(I=x.children[0],_=I.meta&&I.meta.redirect||I.path,x.redirect=s.a.resolve(x.path,_)),!x.redirect){n.next=27;break}return h||(h=x.redirect),e.wkFirstModel&&!v&&(j=Object(i["a"])({},c)[e.wkFirstModel],j==y.type&&(v=x.redirect)),w.push({path:"/".concat(y.type),name:y.type,redirect:x.redirect,hidden:!0}),n.abrupt("break",30);case 27:C++,n.next=18;break;case 30:l[y.type]=w,u=u.concat(f(w));case 32:g++,n.next=5;break;case 35:(h||v)&&(O=p(),O&&(v="/userApp/".concat(O.applicationId)),u.push({path:"/",redirect:v||h,hidden:!0})),a&&a({router:l,addRouter:u});case 37:case"end":return n.stop()}}),n)})));return function(e){return r.apply(this,arguments)}}())},p=function(){for(var e=l["a"].state.appModule.appList,t=0;t<e.length;t++){var a=e[t],n=window.app.$auth("".concat(a.applicationId));if(n)return a}return null},v=function(e,t){var a=m(t,e);return a.forEach((function(e){if(e.children&&e.children.length){var t=e.children[0],a=t.meta&&t.meta.redirect||t.path;e.redirect="".concat(e.path,"/").concat(a)}})),a.filter((function(e){return!e.hasOwnProperty("children")||e.children.length>0}))};function b(e){return e.find((function(e){return"manage-role-auth"==e.name}))}function g(e,t){t&&t({requiresAuth:!0})}var y={state:{addRouters:[],crmRouters:[],taskExamineRouters:[],workLogRouters:[],addressBookRouters:[],projectRouters:[],biRouters:[],manageRouters:[],hrmRouters:[],jxcRouters:[],oaRouters:[],fmRouters:[],scrmRouters:[],userAppRouterObj:{},getAppFlag:!1},mutations:{SET_ROUTERS:function(e,t){e.addRouters=t.addRouter,e.crmRouters=t.router.crm||[],e.workLogRouters=t.router.workLog||[],e.taskExamineRouters=t.router.taskExamine||[],e.addressBookRouters=t.router.addressBook||[],e.projectRouters=t.router.project||[],e.biRouters=t.router.bi||[],e.manageRouters=t.router.manage||[],e.hrmRouters=t.router.hrm||[],e.jxcRouters=t.router.jxc||[],e.oaRouters=t.router.oa||[],e.fmRouters=t.router.fm||[],e.scrmRouters=t.router.scrm||[]},SET_CRMROUTERSNUM:function(e,t){var a=e.crmRouters[1];a.children[0].meta.num=t,c["default"].set(e.crmRouters,1,a)}},actions:{GenerateRoutes:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,i=e.dispatch,a.next=3,i("appModule/getAllAppList").catch((function(){return[]}));case 3:return o=a.sent,a.abrupt("return",new Promise((function(e){h(t,o,(function(t){n("SET_ROUTERS",t),e()}))})));case 5:case"end":return a.stop()}}),a)})))()}},getters:{addRouters:function(e,t,a,n){return e.addRouters},crmRouters:function(e){return e.crmRouters},taskExamineRouters:function(e){return e.taskExamineRouters},workLogRouters:function(e){return e.workLogRouters},addressBookRouters:function(e){return e.addressBookRouters},projectRouters:function(e){return e.projectRouters},biRouters:function(e){return e.biRouters},manageRouters:function(e){return e.manageRouters},hrmRouters:function(e){return e.hrmRouters},jxcRouters:function(e){return e.jxcRouters},oaRouters:function(e){return e.oaRouters},fmRouters:function(e){return e.fmRouters},scrmRouters:function(e){return e.scrmRouters},userAppRouterObj:function(e){return e.userAppRouterObj}}};t["default"]=y},"31eb":function(e,t,a){},"326a":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("53ca"),i=a("d4ec"),o=a("bee2"),c=a("ade3"),r=(a("caad"),a("33d1"),a("ea98"),a("ac1f"),a("00b4"),a("d3b7"),a("159b"),a("b64b"),/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/),s=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,l=Math.pow(2,53),d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(){function e(t){if(Object(i["a"])(this,e),Object(c["a"])(this,"options",{strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"}),Object(c["a"])(this,"ch",void 0),Object(c["a"])(this,"text",void 0),Object(c["a"])(this,"at",void 0),t){var a=["error","ignore","preserve"];if(t.constructorAction&&!a.includes(t.constructorAction))throw new Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '.concat(t.constructorAction));if(t.protoAction&&!a.includes(t.protoAction))throw new Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '.concat(t.protoAction));this.options=Object.assign(this.options,t)}}return Object(o["a"])(e,[{key:"errorFunc",value:function(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}}},{key:"nextFunc",value:function(e){return e&&e!==this.ch&&this.errorFunc("Expected '"+e+"' instead of '"+this.ch+"'"),this.ch=this.text.charAt(this.at),this.at+=1,this.ch}},{key:"numberFunc",value:function(){var e="";"-"===this.ch&&(e="-",this.nextFunc("-"));while(this.ch>="0"&&this.ch<="9")e+=this.ch,this.nextFunc();if("."===this.ch){e+=".";while(this.nextFunc()&&this.ch>="0"&&this.ch<="9")e+=this.ch}if("e"===this.ch||"E"===this.ch){e+=this.ch,this.nextFunc(),"-"!==this.ch&&"+"!==this.ch||(e+=this.ch,this.nextFunc());while(this.ch>="0"&&this.ch<="9")e+=this.ch,this.nextFunc()}var t=+e;if(isFinite(t))return t>=l?e:t;this.errorFunc("Bad number")}},{key:"stringFunc",value:function(){var e,t,a,n="";if('"'===this.ch){var i=this.at;while(this.nextFunc()){if('"'===this.ch)return this.at-1>i&&(n+=this.text.substring(i,this.at-1)),this.nextFunc(),n;if("\\"===this.ch){if(this.at-1>i&&(n+=this.text.substring(i,this.at-1)),this.nextFunc(),"u"===this.ch){for(a=0,t=0;t<4;t+=1){if(e=parseInt(this.nextFunc(),16),!isFinite(e))break;a=16*a+e}n+=String.fromCharCode(a)}else{if("string"!==typeof d[this.ch])break;n+=d[this.ch]}i=this.at}}}this.errorFunc("Bad string")}},{key:"whiteFunc",value:function(){while(this.ch&&this.ch<=" ")this.nextFunc()}},{key:"wordFunc",value:function(){switch(this.ch){case"t":return this.nextFunc("t"),this.nextFunc("r"),this.nextFunc("u"),this.nextFunc("e"),!0;case"f":return this.nextFunc("f"),this.nextFunc("a"),this.nextFunc("l"),this.nextFunc("s"),this.nextFunc("e"),!1;case"n":return this.nextFunc("n"),this.nextFunc("u"),this.nextFunc("l"),this.nextFunc("l"),null}this.errorFunc("Unexpected '"+this.ch+"'")}},{key:"arrayFunc",value:function(){var e=[];if("["===this.ch){if(this.nextFunc("["),this.whiteFunc(),"]"===this.ch)return this.nextFunc("]"),e;while(this.ch){if(e.push(this.valueFunc()),this.whiteFunc(),"]"===this.ch)return this.nextFunc("]"),e;this.nextFunc(","),this.whiteFunc()}}this.errorFunc("Bad array")}},{key:"objectFunc",value:function(){var e,t={};if("{"===this.ch){if(this.nextFunc("{"),this.whiteFunc(),"}"===this.ch)return this.nextFunc("}"),t;while(this.ch){if(e=this.stringFunc(),this.whiteFunc(),this.nextFunc(":"),!0===r.test(e)?"error"===this.options.protoAction?this.errorFunc("Object contains forbidden prototype property"):"ignore"===this.options.protoAction?this.valueFunc():t[e]=this.valueFunc():!0===s.test(e)?"error"===this.options.constructorAction?this.errorFunc("Object contains forbidden constructor property"):"ignore"===this.options.constructorAction?this.valueFunc():t[e]=this.valueFunc():t[e]=this.valueFunc(),this.whiteFunc(),"}"===this.ch)return this.nextFunc("}"),t;this.nextFunc(","),this.whiteFunc()}}this.errorFunc("Bad object")}},{key:"valueFunc",value:function(){switch(this.whiteFunc(),this.ch){case"{":return this.objectFunc();case"[":return this.arrayFunc();case'"':return this.stringFunc();case"-":return this.numberFunc();default:return this.ch>="0"&&this.ch<="9"?this.numberFunc():this.wordFunc()}}},{key:"parse",value:function(e,t){this.text=e+"",this.at=0,this.ch=" ";var a=this.valueFunc();return this.whiteFunc(),this.ch&&this.errorFunc("Syntax error"),"function"===typeof t?function e(a,i){var o,c=a[i];return c&&"object"===Object(n["a"])(c)&&Object.keys(c).forEach((function(t){o=e(c,t),void 0!==o?c[t]=o:delete c[t]})),t.call(a,i,c)}({"":a},""):a}}]),e}()},"33a8":function(e,t,a){},3436:function(e,t,a){"use strict";a("c4a3")},"34b3":function(e,t,a){"use strict";a("c25a")},"367d":function(e,t,a){},3726:function(e,t,a){"use strict";a("6d30")},"37ba":function(e,t,a){},"37c4":function(e,t,a){"use strict";a("847c")},"384e":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},"38e2":function(e,t,a){"use strict";a.d(t,"b",(function(){return ot})),a.d(t,"a",(function(){return vt}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"navbar",attrs:{align:"center",justify:"flex-start"}},[a("flexbox",{staticClass:"navbar-left"},[a("el-popover",{attrs:{placement:"bottom",width:"320",trigger:"manual","popper-class":"no-padding-popover"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[e.popoverVisible?a("app-menu",{on:{close:function(t){e.popoverVisible=!1}}}):e._e(),e._v(" "),a("el-button",{staticClass:"more",attrs:{slot:"reference",type:"bg-icon",circle:""},on:{click:function(t){e.popoverVisible=!0}},slot:"reference"},[a("i",{staticClass:"wk wk-grid"})])],1),e._v(" "),a("img",{directives:[{name:"src",rawName:"v-src",value:e.logo,expression:"logo"}],key:e.logo,staticClass:"logo",on:{click:e.enterMainPage}}),e._v(" "),e.title?a("div",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),a("div",{staticClass:"menus"},[a("el-tabs",{staticClass:"header-menu",attrs:{"nav-mode":e.navMode},on:{"tab-click":e.navItemsClick},model:{value:e.menuTab,callback:function(t){e.menuTab=t},expression:"menuTab"}},e._l(e.menus,(function(t,n){return a("el-tab-pane",{key:n,attrs:{index:t.path,name:t.path,label:t.label}},[a("template",{slot:"label"},[a("router-link",{staticClass:"router-link",attrs:{to:{path:t.fullPath}}},[a("span",{staticClass:"label"},[e._v(e._s(t.label))])]),t.num?a("span",{staticClass:"el-badge__content el-badge__content--undefined",attrs:{type:"primary"}},[e._v(e._s(t.num))]):e._e()],1)],2)})))],1),e._v(" "),e._t("left")],2),e._v(" "),a("flexbox",{staticClass:"navbar-right"},[a("el-tooltip",{attrs:{content:"通知/待办",effect:"dark",placement:"bottom"}},[a("el-badge",{staticClass:"nav-badge",attrs:{value:e.messageCount,hidden:0===e.messageCount,max:99,type:"primary"}},[a("el-button",{attrs:{type:"bg-icon",circle:""},on:{click:function(t){e.checkMessageDetail(!1)}}},[a("i",{staticClass:"wk wk-bell"})])],1)],1),e._v(" "),a("el-tooltip",{attrs:{content:"系统设置",effect:"dark",placement:"bottom"}},[e.manage?a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"bg-icon",circle:""},on:{click:e.enterSystemSet}},[a("i",{staticClass:"wk wk-manage"})]):e._e()],1),e._v(" "),e.sysMessageShow?a("messages",{attrs:{"unread-nums":e.unreadNums},on:{close:function(t){e.sysMessageShow=!1},"update-unread":e.sendSystemUnreadNum}}):e._e(),e._v(" "),a("el-dropdown",{staticStyle:{"margin-left":"6px"},attrs:{trigger:"click"},on:{command:e.moreMenuClick}},[e.userInfo&&Object.keys(e.userInfo).length>0?a("xr-avatar",{attrs:{disabled:"",name:e.userInfo.realname,size:24,src:e.userInfo.img}}):e._e(),e._v(" "),a("el-dropdown-menu",{staticClass:"el-dropdown-unarrow",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.moreMenu,(function(t,n){return a("el-dropdown-item",{key:n,staticStyle:{"white-space":"nowrap"},attrs:{command:t.command,divided:t.divided,icon:t.icon,disabled:t.disabled}},[e._v("\n          "+e._s(t.label)+"\n        ")])})))],1)],1),e._v(" "),e.helpSideShow?a("help-side",{attrs:{props:e.helpSideProps},on:{close:function(t){e.helpSideShow=!1}}}):e._e()],1)},i=[],o=a("5530"),c=(a("99af"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("7db0"),a("d3b7"),a("b0c0"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-view",{staticClass:"d-view",attrs:{"append-to-body":"","body-style":{padding:0,height:"100%"}},on:{afterEnter:e.viewAfterEnter,close:function(t){e.$emit("close")}}},[a("div",{staticClass:"messages"},[a("div",{staticClass:"messages-menus"},[a("div",{staticClass:"title"},[e._v("通知/待办")]),e._v(" "),a("div",{staticClass:"menus-wrap"},e._l(e.menus,(function(t,n){return a("menu-item",{key:n,attrs:{icon:t.iconClass,title:t.name,num:t.num,selectd:e.menuIndex===t.infoType},nativeOn:{click:function(a){e.menuClick(t,n)}}})})))]),e._v(" "),e.show?a("div",{staticClass:"messages-body"},[e.showCustomApp?a("custom-message",{attrs:{"app-id":e.menuItem.infoType,list:e.menuItem.messageList},on:{update:e.loadCustomMenus}}):[a("system-message",{attrs:{"unread-nums":e.unreadNums,lazy:"",show:"message"==e.menuIndex},on:{"update-count":e.sendSystemUnreadNum}}),e._v(" "),a("system-message",{attrs:{"unread-nums":e.unreadNums,"only-announcement":"",lazy:"",show:"announce"==e.menuIndex},on:{"update-count":e.sendSystemUnreadNum}})]],2):e._e()])])}),r=[],s=(a("4de4"),a("0edd")),l=a("130f"),d=a("b2c3"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!e.lazy||e.loaded||e.active?a("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"sm-main"},[a("div",{staticClass:"sm-main__hd"},[a("div",[e.onlyAnnouncement?e._e():[a("el-select",{staticStyle:{width:"200px"},attrs:{mode:"no-border"},on:{change:e.refreshList},model:{value:e.menuLabel,callback:function(t){e.menuLabel=t},expression:"menuLabel"}},e._l(e.menuList,(function(e){return a("el-option",{key:e.label,attrs:{label:e.name,value:e.label}})})))],e._v(" "),a("span",{staticClass:"filter-label"},[e._v("显示:")]),e._v(" "),e._l([{label:"未读",value:0},{label:"已读",value:1}],(function(t,n){return a("el-button",{key:n,attrs:{type:t.value===e.isRead?"selected":null},on:{click:function(a){e.typeClick(t.value)}}},[e._v(e._s(t.label))])})),e._v(" "),a("div",{staticClass:"handle"},[e.permissionSave&&e.onlyAnnouncement?a("el-button",{staticClass:"notice-btn",on:{click:e.createNotice}},[e._v("新建公告")]):e._e(),e._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("el-button",{staticClass:"dropdown-btn",attrs:{icon:"el-icon-more"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"read"}},[e._v(e._s("全部"+("all"==e.currentMenu.label?"":e.currentMenu.name)+"标记为已读"))]),e._v(" "),a("el-dropdown-item",{attrs:{command:"delete"}},[e._v(e._s("删除"+e.currentMenu.name+"已读消息"))])],1)],1)],1)],2),e._v(" "),a("div",{staticClass:"total-row"},[e._v("共"),a("span",[e._v(e._s(e.totalRow))]),e._v("条")])]),e._v(" "),a("div",{staticClass:"sm-content"},[a("div",{staticClass:"sm-list"},[a("div",{staticClass:"sm-main__bd"},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.getList,expression:"getList"}],key:e.scrollKey,attrs:{"infinite-scroll-distance":"80","infinite-scroll-disabled":"scrollDisabled"}},e._l(e.list,(function(t,n){return a("message-cell",{key:n,attrs:{data:t,"data-index":n},on:{detail:e.checkCRMDetail,download:e.downloadError,read:e.readMessageClick,delete:e.deleteMessageClick,action:e.messageCellAction}})}))),e._v(" "),e.loading?a("p",{staticClass:"scroll-bottom-tips"},[e._v("加载中...")]):e._e(),e._v(" "),e.noMore?a("p",{staticClass:"scroll-bottom-tips"},[e._v("没有更多了")]):e._e()])])])]):e._e()},m=[],f=(a("2ca0"),a("a434"),a("2934")),h=a("e170"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"message-cell",attrs:{align:"stretch"}},[a("div",{staticClass:"message-cell__hd"},[a("i",{class:e.typeObj.icon})]),e._v(" "),a("div",{staticClass:"message-cell__bd"},[a("div",{staticClass:"message-cell-title"},[e._v(e._s(e.getTitle()))]),e._v(" "),a("div",{staticClass:"message-cell-des"},[e.realNameShow?a("wx-open-data",{attrs:{openid:e.data.realname}}):e._e(),e._v(" "),a("span",[e._v(e._s(e.leftContent))]),e._v(" "),a("span",{class:[{"is-invalid":e.isInvalid},"click-content"],on:{click:e.enterDetail}},[e._v(e._s(e.centerCotent))]),e._v(" "),a("span",[80===e.data.type?[e._v("\n          ，有问题请及时与"),a("wx-open-data",{attrs:{openid:e.data.realname}}),e._v("反馈\n        ")]:[e._v(e._s(e.rightContent))]],2)],1),e._v(" "),a("div",{staticClass:"brief"},[a("div",{staticClass:"text-one-line"},[e._v(e._s(e.getBrief()))]),e._v(" "),e._l(e.contentFields,(function(t,n){return a("div",{key:n,staticClass:"brief-cell"},[a("div",{staticClass:"brief-label"},[e._v(e._s(t.name))]),e._v(" "),"relative"===t.formType?a("div",{staticClass:"brief-value"},e._l(t.value,(function(t,n){return a("div",{key:n,staticClass:"relative-item"},[a("span",[e._v(e._s(""+t.label)+"-")]),a("span",{on:{click:function(a){e.relativeClick(t)}}},[e._v(e._s(t.name))])])}))):t.hasDetails?a("div",{staticClass:"brief-value text-one-line is-visit",on:{click:function(a){e.relativeClick(t)}}},[e._v(e._s(t.value))]):a("div",{staticClass:"brief-value text-one-line"},[e._v(e._s(t.value))])])}))],2)]),e._v(" "),a("div",{staticClass:"message-cell__ft"},[a("div",[e._v(e._s(e._f("formatTime")(e.data.createTime))+" ")]),e._v(" "),a("flexbox",{attrs:{justify:"end"}},[a("el-tooltip",{attrs:{effect:"dark",disabled:1==e.data.isRead,content:"标记为已读",placement:"left"}},[a("el-button",{staticClass:"check-btn",class:{"is-unread":0==e.data.isRead},on:{click:e.messageReadClick}},[e._v(e._s(""))])],1)],1),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{type:"link"},on:{click:e.messageDeleteClick}},[e._v("删除")])],1)])},v=[],b=(a("a9e3"),a("a15b"),a("d81d"),a("1d33")),g=a("6bfe"),y=a("ed08"),w={name:"MessageCell",components:{Flexbox:b["a"]},props:{data:Object,dataIndex:Number},data:function(){return{}},computed:{typeObj:function(){var e={leads:{icon:"wk wk-leads",color:"#6995FF",type:"leads"},customer:{icon:"wk wk-customer",color:"#6995FF",type:"customer"},contacts:{icon:"wk wk-contacts",color:"#6995FF",type:"contacts"},business:{icon:"wk wk-business",color:"#6995FF",type:"business"},contract:{icon:"wk wk-contract",color:"#6995FF",type:"contract"},receivables:{icon:"wk wk-receivables",color:"#6995FF",type:"receivables"},product:{icon:"wk wk-product",color:"#6995FF",type:"product"},stage_examine:{icon:"wk wk-approve",color:"#6995FF",type:"stage_examine"},log:{icon:"wk wk-log",color:"#6995FF",type:"log"},examine:{icon:"wk wk-approve",color:"#6995FF",type:"examine"},task:{icon:"wk wk-o-task",color:"#6995FF",type:"task"},announcement:{icon:"wk wk-announcement",color:"#6995FF",type:"announcement"},schedule:{icon:"wk wk-schedule",color:"#6995FF",type:"schedule"},invoice:{icon:"wk wk-invoice",color:"#6995FF",type:"invoice"},knowledge:{icon:"wk wk-book",color:"#6995FF",type:"knowledge"},hrm:{icon:"wk wk-employees",color:"#6995FF",type:"hrm"},jxc_purchase:{icon:"wk wk-icon-shop-cart",color:"#ffb940",type:"jxc_purchase"},jxc_retreat:{icon:"wk wk-drafts",color:"#fd964a",type:"jxc_retreat"},jxc_sale:{icon:"wk wk-record",color:"#23bbfb",type:"jxc_sale"},jxc_saleReturn:{icon:"wk wk-approval-13",color:"#fd964a",type:"jxc_saleReturn"},jxc_payment:{icon:"wk wk-icon-category-note",color:"#33d08f",type:"jxc_payment"},jxc_collection:{icon:"wk wk-l-record",color:"#00e4bc",type:"jxc_collection"},jxc_inventory:{icon:"wk wk-icon-search-note",color:"#fd5b4a",type:"jxc_inventory"},jxc_allocation:{icon:"wk wk-approval-11",color:"#23bbfb",type:"jxc_allocation"},wx_login_export:{icon:"wk wk-export",color:"#6995FF",type:"wx_login_export"}},t="";return this.data.label&&(this.data.label<=5||[8,9].includes(this.data.label))?this.data.label<=5?t=["task","log","examine","announcement","schedule"][this.data.label-1]:9===this.data.label?[53,54,55].includes(this.data.type)?t="jxc_purchase":[56,57,58].includes(this.data.type)?t="jxc_retreat":[59,60,61].includes(this.data.type)?t="jxc_sale":[62,63,64].includes(this.data.type)?t="jxc_saleReturn":[65,66,67].includes(this.data.type)?t="jxc_payment":[68,69,70].includes(this.data.type)?t="jxc_collection":[71,72,73].includes(this.data.type)?t="jxc_inventory":[74,75,76].includes(this.data.type)&&(t="jxc_allocation"):8===this.data.label&&(t="hrm"):20===this.data.label?t="stage_examine":[1,2,3].includes(this.data.type)?t="task":[4,5,34].includes(this.data.type)?t="log":[6,7,25].includes(this.data.type)?t="examine":[8].includes(this.data.type)?t="announcement":[10,11,24,26,30,33].includes(this.data.type)?t="contract":[12,13,27].includes(this.data.type)?t="receivables":[14,15,23,29,32].includes(this.data.type)?t="customer":[16,17].includes(this.data.type)?t="contacts":[18,19].includes(this.data.type)?t="leads":[20,21].includes(this.data.type)?t="product":[22,28,31].includes(this.data.type)?t="business":[35,36,37].includes(this.data.type)?t="invoice":[41].includes(this.data.type)?t="knowledge":[132].includes(this.data.type)&&(t="wx_login_export"),e[t]},leftContent:function(){return{1:"将",2:"邀请您参与",3:"将",4:"评论了您的",5:"将日志",6:"拒绝您的",7:"已经审核通过您的",8:"您有一个新公告",9:"邀请您参与",10:"拒绝您的",11:"已经审核通过您的",12:"拒绝您的",13:"已经审核通过您的",14:"导入客户数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),15:"取消导入客户数据，已导入".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),16:"导入联系人数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),17:"取消导入联系人数据，已导入".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),18:"导入线索数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),19:"取消导入线索数据，已导入".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),20:"导入产品数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),21:"取消导入产品数据，已导入".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),22:"将您添加为商机",23:"将您添加为客户",24:"将您添加为合同",25:"提交了",26:"提交了",27:"提交了",28:"退出了您商机",29:"退出了您客户",30:"退出了您合同",31:"将您移出了商机",32:"将您移出了客户",33:"将您移出了合同",34:"回复了您评论的日志",35:"拒绝您的",36:"已经审核通过您的",37:"提交了",41:"将文档",50:"导入员工数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),53:"提交了",54:"拒绝您的",55:"已经审核通过您的",56:"提交了",57:"拒绝您的",58:"已经审核通过您的",59:"提交了",60:"拒绝您的",61:"已经审核通过您的",62:"提交了",63:"拒绝您的",64:"已经审核通过您的",65:"提交了",66:"拒绝您的",67:"已经审核通过您的",68:"提交了",69:"拒绝您的",70:"已经审核通过您的",71:"提交了",72:"拒绝您的",73:"已经审核通过您的",74:"提交了",75:"拒绝您的",76:"已经审核通过您的",77:"点赞了您的",80:"更新了您",81:"导入定薪数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),82:"导入调薪数据".concat(this.data.title||0,"条，").concat(this.getImportContent(this.data)),83:"邀请您填写",84:"已经审核通过您的",85:"拒绝您的",86:"提交了",87:"您有新的绩效目标",88:"待确认".concat(this.data.realname,"的绩效目标"),89:"待评定".concat(this.data.realname,"的考核"),90:"待确认考核结果",91:"您的绩效考核",92:"您的绩效目标",93:"您评定的".concat(this.data.realname,"的考核"),94:"您发起的考核",95:"您发起的考核",96:"您发起的考核",97:"已为您开通",98:"您的",99:"您有新的面试安排，候选人".concat(this.data.title),120:"将您添加为联系人",121:"将您添加为回款",122:"退出了您联系人",123:"退出了您回款",124:"将您移出了联系人",125:"将您移出了回款",132:"",133:"提交了",134:"通过了",135:"拒绝了",136:"评论了",137:"评论了"}[this.data.type]},realNameShow:function(){var e=this.data.type;return e<=86?8!==e:[97,120,121,122,123,124,125,133,134,135,136,137].includes(e)},centerCotent:function(){if(this.isImportType){var e=this.data.content?this.data.content.split(","):[],t=Number(e[0]||0);return t>0?0===this.data.valid?"已失效":"点击下载错误数据":""}if(80===this.data.type){var a=this.data.content?this.data.content.split(","):[];if(a&&a.length>1)return"《".concat(a[0],"年").concat(a[1],"月的工资条》")}else{if(83===this.data.type)return"《我的档案》";if(97===this.data.type)return"人力资源";if(99===this.data.type)return""}return"《".concat(this.data.title,"》")},isInvalid:function(){return!!this.isImportType&&0==this.data.valid},isImportType:function(){return this.data.type>=14&&this.data.type<=21||50==this.data.type||81==this.data.type||82==this.data.type},rightContent:function(){return{1:"任务分配给您，请及时查看",2:"任务，请及时查看",3:"任务标记结束",4:"日志，请及时查看",5:"发送给您，请及时查看",6:"，请及时处理",7:"，请及时查看",8:"，请及时查看",9:"的日程，请及时查看",10:"，请及时处理",11:"合同，请及时查看",12:"，请及时处理",13:"回款，请及时查看",14:"",15:"",16:"",17:"",18:"",19:"",20:"",21:"",22:"的成员",23:"的成员",24:"的成员",25:"，请及时处理",26:"合同审批，请及时处理",27:"回款审批，请及时处理",28:"的团队",29:"的团队",30:"的团队",31:"的团队",32:"的团队",33:"的团队",34:"：“".concat(this.data.content,"”，请及时查看"),35:"，请及时处理",36:"发票审批，请及时查看",37:"发票审批，请及时处理",41:"分享给您，请及时查看",53:"采购订单审批，请及时处理",54:"，请及时处理",55:"采购订单，请及时查看",56:"采购退货单审批，请及时处理",57:"采购退货单审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),58:"采购退货单，请及时查看",59:"销售订单审批，请及时处理",60:"销售订单审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),61:"销售订单，请及时查看",62:"销售退货单审批，请及时处理",63:"销售退货单审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),64:"销售退货单，请及时查看",65:"付款单审批，请及时处理",66:"付款单审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),67:"付款单，请及时查看",68:"回款单审批，请及时处理",69:"回款单审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),70:"回款单，请及时查看",71:"盘点审批，请及时处理",72:"盘点审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),73:"盘点，请及时查看",74:"调拨审批，请及时处理",75:"调拨审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),76:"调拨，请及时查看",77:"日志，请及时查看",80:"，有问题请及时与".concat(this.data.realname,"反馈"),81:"",82:"",83:"，请及时处理",84:"薪资审批，请及时查看",85:"薪资审批，拒绝理由：“".concat(this.data.content,"”，请及时处理"),86:"薪资审批，请及时处理",87:"待填写，请及时处理",88:"，请及时处理",89:"，请及时处理",90:"，请及时处理",91:"已完成，请及时查看",92:"被".concat(this.data.content,"驳回，请重新填写"),93:"被".concat(this.data.content,"驳回，请重新评定"),94:"已全部完成填写，请及时开启评定",95:"已全部完成评定，请及时开启结果确认",96:"已完成结果确认，请及时归档",97:"员工端，请及时查看",98:"已生成，请及时查看",99:"，请及时查看",120:"的成员",121:"的成员",122:"的团队",123:"的团队",124:"的团队",125:"的团队",132:"导出成功",136:"任务，请及时查看",137:"任务，请及时查看"}[this.data.type]||this.getRightContent(this.data.type)},contentFields:function(){return this.getContentFields()}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{enterDetail:function(){if(!this.isInvalid)if(132!==this.data.type)if(this.isImportType)this.$emit("download",this.data.messageId,this.dataIndex);else{0==this.data.isRead&&this.$emit("read",this.data.messageId,this.dataIndex);var e=this.typeObj.type;if("stage_examine"===e){JSON.parse(this.data.content);e=void 0}this.$emit("detail",e,this.data.typeId,this.dataIndex,this.data)}else this.$emit("action","wx-login-export",this.data)},relativeClick:function(e){this.$emit("detail",e.type,e.id,this.dataIndex,this.data)},messageReadClick:function(){0==this.data.isRead&&this.$emit("read",this.data.messageId,this.dataIndex)},messageDeleteClick:function(){this.$emit("delete",this.data.messageId,this.dataIndex)},getImportContent:function(e){var t=e.title,a=e.content,n=[14,15,16,17,18,19,20,21,50,81,82];if(n.includes(this.data.type)){var i=a?a.split(","):[],o=Number(t||"0"),c=Number(i[1]||"0"),r=Number(i[0]||"0");return"覆盖".concat(c,"条，导入成功").concat(o-r,"条，导入失败").concat(r,"条。")}},getTitle:function(){return{1:"任务分配提醒",2:"任务邀请提醒",3:"任务完成提醒",4:"日志评论提醒",5:"日志发送提醒",6:"审批拒绝提醒",7:"审批通过提醒",8:"公告提醒",9:"日程提醒",10:"审批拒绝提醒",11:"审批通过提醒",12:"审批拒绝提醒",13:"审批通过提醒",14:"导入提醒",15:"取消导入提醒",16:"导入提醒",17:"取消导入提醒",18:"导入提醒",19:"取消导入提醒",20:"导入提醒",21:"取消导入提醒",22:"添加团队成员提醒",23:"添加团队成员提醒",24:"添加团队成员提醒",25:"待审批提醒",26:"待审批提醒",27:"待审批提醒",28:"退出团队成员提醒",29:"退出团队成员提醒",30:"退出团队成员提醒",31:"移出团队提醒",32:"移出团队提醒",33:"移出团队提醒",34:"日志评论提醒",35:"审批拒绝提醒",36:"审批通过提醒",37:"待审批提醒",41:"文档分享提醒",50:"导入提醒",53:"待审批提醒",54:"审批拒绝提醒",55:"审批通过提醒",56:"待审批提醒",57:"审批拒绝提醒",58:"审批通过提醒",59:"待审批提醒",60:"审批拒绝提醒",61:"审批通过提醒",62:"待审批提醒",63:"审批拒绝提醒",64:"审批通过提醒",65:"待审批提醒",66:"审批拒绝提醒",67:"审批通过提醒",68:"待审批提醒",69:"审批拒绝提醒",70:"审批通过提醒",71:"待审批提醒",72:"审批拒绝提醒",73:"审批通过提醒",74:"待审批提醒",75:"审批拒绝提醒",76:"审批通过提醒",77:"日志点赞提醒",80:"个人档案更新提醒",81:"导入提醒",82:"导入提醒",83:"个人档案填写提醒",84:"审批通过提醒",85:"审批拒绝提醒",86:"待审批提醒",87:"考核目标待填写提醒",88:"考核目标待确认提醒",89:"考核目标待评定提醒",90:"考核结果待确认提醒",91:"考核完成提醒",92:"考核目标被驳回提醒",93:"考核评定被驳回提醒",94:"考核评定待开启提醒",95:"考核结果确认待开启提醒",96:"考核待归档提醒",97:"员工端开通提醒",98:"社保核算提醒",99:"候选人面试提醒",120:"添加团队成员提醒",121:"添加团队成员提醒",122:"退出团队成员提醒",123:"退出团队成员提醒",124:"移出团队提醒",125:"移出团队提醒",133:"待审批提醒",134:"审批通过提醒",135:"审批拒绝提醒"}[this.data.type]},getRightContent:function(){var e=this.data,t=e.content,a=e.type;if([133,134,135].includes(a)){JSON.parse(t);var n="";return{133:"".concat(n,"阶段审批，请及时处理"),134:"".concat(n,"阶段审批，请及时查看"),135:"".concat(n,"阶段审批，请及时处理")}[a]}return""},getBrief:function(){var e=this.data.type;return[4,136,137].includes(e)?"评论内容 ".concat(this.data.content||""):""},getContentFields:function(){var e=this.data,t=e.type,a=e.content,n=e.title,i=Object(g["e"])(a)||{};if(9==t)return[{name:"日程内容",formType:"text",value:i.content},{name:"日程类型",formType:"text",value:i.type},{name:"起止时间",formType:"text",value:"".concat(Object(y["A"])(i.startTime,"YYYY-MM-DD HH:mm:ss"),"-").concat(Object(y["A"])(i.endTime,"YYYY-MM-DD HH:mm:ss"))},{name:"关联业务",formType:"relative",value:this.getRelativeList(i)}];if(1==t||2==t||3==t)return[{name:"任务标题",formType:"text",value:n},{name:"开始时间",formType:"text",value:i.startTime},{name:"结束时间",formType:"text",value:i.endTime},{name:"关联业务",formType:"relative",value:this.getRelativeList(i)}];if(10==t||11==t||26==t){var o=Object(g["c"])(i.customer)?i.customer:null,c=Object(g["a"])(i.products)?i.products:[],r=[{name:"合同名称",formType:"text",value:n},{name:"合同金额",formType:"text",value:i.money},{name:"关联客户",module:"crm",hasDetails:!0,type:"customer",id:o?o.id:"",value:o?o.name:""},{name:"关联产品",formType:"text",value:c.map((function(e){return e.name})).join("、")}];return 10==t&&r.push({name:"拒绝理由",formType:"text",value:i.remarks}),r}if(12==t||13==t||27==t){var s=Object(g["c"])(i.customer)?i.customer:null,l=Object(g["c"])(i.contract)?i.contract:null,d=[{name:"回款编号",formType:"text",value:n},{name:"回款金额",formType:"text",value:i.money},{name:"关联客户",module:"crm",hasDetails:!0,type:"customer",id:s?s.id:"",value:s?s.name:""},{name:"关联合同",module:"crm",hasDetails:!0,type:"contract",id:l?l.id:"",value:l?l.name:""}];return 12==t&&d.push({name:"拒绝理由",formType:"text",value:i.remarks}),d}if(35==t||36==t||37==t){var u=Object(g["c"])(i.customer)?i.customer:null,m=Object(g["c"])(i.contract)?i.contract:null,f=[{name:"发票名称",formType:"text",value:n},{name:"开票金额",formType:"text",value:i.money},{name:"关联客户",module:"crm",hasDetails:!0,type:"customer",id:u?u.id:"",value:u?u.name:""},{name:"关联合同",module:"crm",hasDetails:!0,type:"contract",id:m?m.id:"",value:m?m.name:""},{name:"开票日期",formType:"text",value:i.createTime}];return 35==t&&f.push({name:"拒绝理由",formType:"text",value:i.remarks}),f}if(6==t||7==t||25==t){var h=i.type,p=[];return p=6==h?[{name:"审批类型",formType:"text",value:i.examineName},{name:"借款事由",formType:"text",value:i.content},{name:"借款金额",formType:"text",value:i.money}]:2==h?[{name:"审批类型",formType:"text",value:i.examineName},{name:"请假事由",formType:"text",value:i.content},{name:"请假起止时间",formType:"text",value:"".concat(Object(y["A"])(i.startTime,"YYYY-MM-DD HH:mm:ss"),"-").concat(Object(y["A"])(i.endTime,"YYYY-MM-DD HH:mm:ss"))},{name:"请假时长",formType:"text",value:i.duration}]:3==h?[{name:"审批类型",formType:"text",value:i.examineName},{name:"出差事由",formType:"text",value:i.content},{name:"出差总天数",formType:"text",value:i.duration}]:4==h?[{name:"审批类型",formType:"text",value:i.examineName},{name:"加班原因",formType:"text",value:i.content},{name:"加班起止时间",formType:"text",value:"".concat(Object(y["A"])(i.startTime,"YYYY-MM-DD HH:mm:ss"),"-").concat(Object(y["A"])(i.endTime,"YYYY-MM-DD HH:mm:ss"))},{name:"加班总天数",formType:"text",value:i.duration}]:5==h?[{name:"审批类型",formType:"text",value:i.examineName},{name:"差旅事由",formType:"text",value:i.content},{name:"报销总金额",formType:"text",value:i.money}]:[{name:"审批类型",formType:"text",value:i.examineName},{name:"审批内容",formType:"text",value:i.content}],6==t&&p.push({name:"拒绝理由",formType:"text",value:i.remarks}),p}if(99==t)return[{name:"面试时间",formType:"text",value:i.createTime},{name:"面试轮次",formType:"text",value:i.content}];if([133,134,135].includes(t)){var v=[{name:"阶段名称",formType:"text",value:i.name}];return 135===t&&v.push({name:"拒绝理由",formType:"text",value:i.remarks}),v}return[]},getRelativeList:function(e){for(var t=[{fieldName:"customers",type:"customer",label:"客户"},{fieldName:"contactss",type:"contacts",label:"联系人"},{fieldName:"businesss",type:"business",label:"商机"},{fieldName:"contracts",type:"contract",label:"合同"}],a=[],n=function(n){var i=t[n],c=e[i.fieldName];Object(g["a"])(c)&&c.length>0&&c.forEach((function(e){a.push(Object(o["a"])(Object(o["a"])({},i),e))}))},i=0;i<t.length;i++)n(i);return a}}},k=w,C=(a("5464"),a("2877")),x=Object(C["a"])(k,p,v,!1,null,"26a2b2c1",null),I=x.exports,_=a("2f62"),j={name:"SystemMessage",components:{MessageCell:I},props:{onlyAnnouncement:{type:Boolean,default:!1},unreadNums:Object,show:Boolean,lazy:Boolean},data:function(){return{showTodayDetail:!1,todayDetailData:{},menuLabel:"all",announcementAddShow:!1,list:[],loading:!1,noMore:!1,scrollKey:Date.now(),page:1,isRead:0,totalRow:0,showFullDetail:!1,relationID:"",relationCrmType:"",showJxcDetail:!1,jxcId:null,jxcType:null,loaded:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(_["c"])(["oa","crm","project","knowledge","hrm","jxc"])),{},{active:function(){var e=this.show;return e&&(this.loaded=!0),e},permissionSave:function(){return this.oa&&this.oa.announcement&&this.oa.announcement.save},title:function(){return this.onlyAnnouncement?this.unreadNums.announceCount&&this.unreadNums.announceCount>0?"公告（".concat(this.unreadNums.announceCount,"）"):"公告":this.unreadNums.allCount>0?"通知（".concat(this.unreadNums.allCount,"）"):"通知"},scrollDisabled:function(){return this.loading||this.noMore},labelValue:function(){return this.onlyAnnouncement?4:"all"==this.menuLabel?"":this.menuLabel},menuList:function(){var e=[{name:"全部",label:"all",countKey:"allCount"}];return this.oa&&this.oa.taskExamine&&e.push({name:"办公审批",label:3,countKey:"examineCount"}),(this.oa&&this.oa.taskExamine||this.project)&&e.push({name:"任务",label:1,countKey:"taskCount"}),this.oa&&this.oa.log&&e.push({name:"日志",label:2,countKey:"logCount"}),this.crm&&e.push({name:"客户管理",label:6,countKey:"crmCount"}),this.oa&&this.oa.calendar&&e.push({name:"日程",label:5,countKey:"eventCount"}),this.hrm&&e.push({name:"人力资源",label:8,countKey:"hrmCount"}),this.jxc&&e.push({name:"进销存",label:9,countKey:"jxcCount"}),e},currentMenu:function(){var e=this;return this.menuList.find((function(t){return t.label===e.menuLabel}))}}),watch:{unreadNums:function(){0==this.isRead&&(this.onlyAnnouncement?this.totalRow=this.unreadNums.announceCount:this.totalRow=this.unreadNums.allCount)}},mounted:function(){},beforeDestroy:function(){},methods:{todayHandle:function(){this.$bus.emit("handleSuccess"),this.showTodayDetail=!1},createNotice:function(){this.announcementAddShow=!0},announcementSubmiteSuccess:function(){this.refreshList(),this.$emit("update-count")},refreshList:function(){this.page=1,this.list=[],this.noMore=!1,this.scrollKey=Date.now()},typeClick:function(e){this.isRead=e,this.refreshList()},getList:function(){var e=this;this.loading=!0;var t={page:this.page,limit:15,label:this.labelValue};t.isRead=this.isRead,Object(f["l"])(t).then((function(a){if(e.loading=!1,e.labelValue==t.label){var n=a.data||{};e.noMore||(1==e.page?e.list=n.list:e.list=e.list.concat(n.list),e.page++),e.noMore=n.lastPage,e.totalRow=n.totalRow}else e.refreshList()})).catch((function(){e.noMore=!0,e.loading=!1}))},checkCRMDetail:function(e,t,a,n){"schedule"===e?(this.relationID=t,n.content&&(this.todayDetailData=JSON.parse(n.content)),this.showTodayDetail=!0):e.startsWith("jxc_")?(this.jxcId=t,this.jxcType=e,this.showJxcDetail=!0):"hrm"===e?83===n.type?this.$router.push({name:"myArchives"}):80===n.type?this.$router.push({name:"mySalarySlip"}):84===n.type||85===n.type||86===n.type?this.$router.push({name:"hrmSalary"}):87===n.type||92===n.type?this.$router.push({name:"myPerformance",query:{tabType:"my",subTabType:"0"}}):91===n.type?this.$router.push({name:"myPerformance",query:{tabType:"my",subTabType:"1",id:t}}):88===n.type?this.$router.push({name:"myPerformance",query:{tabType:"target"}}):89===n.type||93===n.type?this.$router.push({name:"myPerformance",query:{tabType:"evaluato",subTabType:"0"}}):90===n.type?this.$router.push({name:"myPerformance",query:{tabType:"result"}}):94===n.type||95===n.type||96===n.type?this.$router.push({name:"hrmPerformance",query:{tabType:{94:"1",95:"2",96:"3"}[n.type]}}):97===n.type?this.$router.push("/hrm"):98===n.type&&this.$router.push({name:"myInsuranceScheme"}):(this.relationID=t,this.relationCrmType=e,this.showFullDetail=!0)},downloadError:function(e){Object(h["a"])({messageId:e}).then((function(e){Object(y["d"])(e)})).catch((function(){}))},messageCellAction:function(e,t){},readMessageClick:function(e,t){var a=this;Object(f["m"])({messageId:e}).then((function(e){a.list.splice(t,1),a.$emit("update-count")})).catch((function(){}))},deleteMessageClick:function(e,t){var a=this;this.$confirm("确定删除这条消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(f["k"])(e).then((function(e){a.refreshList(),a.$emit("update-count"),a.$message.success("操作成功")})).catch((function(){}))})).catch((function(){}))},handleCommand:function(e){"delete"===e?this.allDeleteClick():this.allMarkDoneClick()},allMarkDoneClick:function(){var e=this;Object(f["n"])({label:this.labelValue}).then((function(t){e.list.forEach((function(e){e.isRead=1})),e.$emit("update-count")})).catch((function(){}))},allDeleteClick:function(){var e=this;if(this.currentMenu){var t="all"==this.currentMenu.label?"":this.currentMenu.name;this.$confirm("确定删除全部".concat(t,"已读消息?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(f["j"])({label:e.labelValue}).then((function(t){e.refreshList(),e.$emit("update-count"),e.$message.success("操作成功")})).catch((function(){}))})).catch((function(){}))}}}},O=j,F=(a("0f7e"),Object(C["a"])(O,u,m,!1,null,"456efb49",null)),T=F.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:e.loading,expression:"loading",modifiers:{fullscreen:!0}}],staticClass:"sm-main custom-message"},[a("div",{staticClass:"sm-main__hd"},[a("div",[a("span",{staticClass:"filter-label"},[e._v("显示:")]),e._v(" "),e._l(e.readStatusOptions,(function(t,n){return a("el-button",{key:n,attrs:{type:t.value===e.readStatus?"selected":null},on:{click:function(a){e.typeClick(t.value)}}},[e._v(e._s(t.label))])})),e._v(" "),a("div",{staticClass:"handle"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("el-button",{staticClass:"dropdown-btn",attrs:{icon:"el-icon-more"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"read"}},[e._v("全部标记为已读")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"delete"}},[e._v("删除已读消息")])],1)],1)],1)],2),e._v(" "),a("div",{staticClass:"total-row"},[e._v("共"),a("span",[e._v(e._s(e.messageList.length))]),e._v("条")])]),e._v(" "),a("div",{staticClass:"sm-main__bd"},e._l(e.messageList,(function(t,n){return a("custom-message-cell",{key:n,attrs:{"message-data":t,"data-index":n},on:{detail:e.handleClick,read:e.readMessageClick,delete:e.deleteMessageClick}})}))),e._v(" "),e.showDetail?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.rowId,"module-id":e.rowModuleId,"page-list":[]},on:{"update:id":function(t){e.rowId=t},handle:e.refreshList,"hide-view":function(t){e.showDetail=!1}}})],1):e._e()])},D=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"message-cell",class:{"is-unread":0===e.messageData.isRead},attrs:{align:"stretch"}},[a("div",{staticClass:"message-cell__hd"},[a("i",{class:e.icon})]),e._v(" "),a("div",{staticClass:"message-cell__bd"},[0===e.messageData.type?[a("span",[e._v(e._s(e.messageData.value))])]:1===e.messageData.type?[a("span",[e._v(e._s(e.getFlowContentLeft()))]),e._v(" "),a("span",{staticClass:"can-visit--underline",on:{click:function(t){e.handleToDetail(e.messageData||{})}}},[e._v("《"+e._s(e.messageData.value)+"》")]),e._v(" "),a("span",[e._v(e._s(e.getFlowContentRight()))])]:2===e.messageData.type?[a("span",[e._v(e._s(e.formatCustomMsg(e.messageData)))]),e._v(" "),a("el-button",{staticStyle:{padding:"0 5px"},attrs:{type:"primary-text"},on:{click:function(t){e.handleToDetail(e.messageData||{})}}},[e._v("去查看")])]:3===e.messageData.type?[a("span",[e._v(" "+e._s(e.messageData.moduleName)+"中")]),e._v(" "),a("span",{staticClass:"can-visit--underline",on:{click:function(t){e.handleToDetail(e.messageData||{})}}},[e._v("《"+e._s(e.messageData.value)+"》")]),e._v(" "),a("span",[e._v("自定义按钮-"+e._s(e.messageData.typeName)+"的执行结果："+e._s(1===e.messageData.status?"成功":"失败"))])]:4===e.messageData.type?[a("span",[e._v(e._s(e.messageData.value))]),e._v(" "),a("span",{staticClass:"can-visit--underline",on:{click:function(t){e.handleToDetail(e.messageData||{})}}},[e._v("《"+e._s(e.messageData.typeName)+"》")]),e._v("的成员")]:e._e()],2),e._v(" "),a("div",{staticClass:"message-cell__ft"},[a("div",[e._v(e._s(e._f("formatTime")(e.messageData.createTime))+" ")]),e._v(" "),a("div",{staticClass:"handle"},[a("el-button",{staticClass:"delete-btn",attrs:{type:"link"},on:{click:e.messageDeleteClick}},[e._v("删除")]),e._v(" "),a("el-tooltip",{attrs:{disabled:1===e.messageData.isRead,effect:"dark",content:"标记为已读",placement:"left"}},[a("el-button",{staticClass:"check-btn",class:{"is-unread":0===e.messageData.isRead},on:{click:e.messageReadClick}},[e._v("\n          "+e._s("")+"\n        ")])],1)],1)])])},L=[],E=(a("00b4"),a("fb6a"),a("5319"),a("5b81"),a("163e")),N=a("15cc"),V=a("3f26"),M={name:"CustomMessageCell",mixins:[E["a"]],props:{messageData:Object,dataIndex:Number},data:function(){return{icon:"",iconColor:""}},computed:Object(o["a"])(Object(o["a"])({},Object(_["c"])("appModule",["userAppList"])),{},{entityObj:function(){var e=Object(y["v"])(this.messageData.extData)||{};return e.entity||null}}),created:function(){this.getMessageIcon()},methods:{getFlowContentLeft:function(){var e=this.messageData;if(!this.entityObj)return"";switch(this.entityObj.flowType){case 1:return"".concat(e.createUser.realname,"提交了");case 2:return"".concat(e.moduleName,"中的");case 3:return"".concat(e.createUser.realname,"将").concat(e.moduleName);default:return"".concat(e.moduleName,"中的")}},getFlowContentRight:function(){var e=this.messageData;if(!this.entityObj)return"";switch(this.entityObj.flowType){case 1:return e.timeValue?"".concat(e.moduleName,"已超过 ").concat(this.formatTimeValue(e.timeValue)," 未处理，请及时处理"):"".concat(e.moduleName,"的审批，请及时处理");case 2:return e.timeValue?"已超过 ".concat(this.formatTimeValue(e.timeValue)," 未处理，请及时处理"):"已进入".concat(this.entityObj.flowName,"，请及时处理");case 3:return"发送给您，请及时查看";default:return"".concat(this.entityObj.flowName,"已自动处理，请及时查看")}},formatTimeValue:function(e){if(!e)return"";var t={m:"分钟",h:"小时",d:"天"},a=/\d+[mhd]$/;return a.test(e)?"".concat(e.slice(0,-1)).concat(t[e.slice(-1)]):e},handleToDetail:function(e){var t=e.dataId,a=e.moduleId,n=e.messageId;this.$emit("detail",{dataId:t,moduleId:a}),this.$emit("read",n)},messageReadClick:function(){this.$emit("read",this.messageData.messageId,this.dataIndex)},messageDeleteClick:function(){this.$emit("delete",this.messageData.messageId,this.dataIndex)},getMessageIcon:function(){var e=this,t=this.userAppList.find((function(t){return t.applicationId===e.messageData.appId}));if(t){var a=this.getModuleObjById(this.messageData.moduleId);this.icon=a?a.icon:"wk wk-customer"}else this.icon="wk wk-customer"},formatCustomMsg:function(e){var t=e.value;return Object(g["a"])(this.entityObj)?(this.entityObj.forEach((function(e){var a="#{".concat(e.fieldId,"}");if(t.includes(a)){var n="";switch(e.formType){case"user":n=Object(N["b"])(e.formType,e.value,e),Object(g["c"])(n)?n=n.realname:Object(g["a"])(n)&&(n=n.map((function(e){return e.realname})).join(","));break;case"structure":n=Object(N["b"])(e.formType,e.value,e),Object(g["c"])(n)?n=n.deptName||n.name:Object(g["a"])(n)&&(n=n.map((function(e){return e.deptName||e.name})).join(","));break;case"data_union":case"data_union_multi":n=Object(y["v"])(e.value),Object(g["c"])(n)?n=n.value:Object(g["a"])(n)&&(n=n.map((function(e){return e.value})).join(","));break;case"position":n=Object(y["v"])(e.value),Object(g["a"])(n)&&(n=n.map((function(e){return e.name})).join(","));break;case"location":n=Object(y["v"])(e.value),Object(g["c"])(n)&&(n=n.address);break;case"field_tag":n=Object(y["v"])(e.value),Object(g["a"])(n)&&(n=n.map((function(e){return e.value})).join(","));break;default:"currentFlowId"===e.fieldName?(n=Object(y["v"])(e.value),n=n.name):n="flowStatus"===e.fieldName?(V["c"].find((function(t){return t.key==e.value}))||{}).value:Object(N["b"])(e.formType,e.value,e)}t=t.replaceAll(a,Object(g["b"])(n)?"":n)}})),t):e.value}}},B=M,R=(a("4ce3"),Object(C["a"])(B,S,L,!1,null,"31c2f099",null)),U=R.exports,P=a("b0a1"),W={name:"CustomMessage",components:{CustomMessageCell:U,ModuleDetail:P["default"]},props:{list:Array,appId:[String,Number]},data:function(){return{loading:!1,readStatusOptions:[{label:"未读",value:0},{label:"已读",value:1}],readStatus:0,messageList:[],showDetail:!1,rowId:null,rowModuleId:null,zIndex:10}},computed:Object(o["a"])({},Object(_["c"])({userAppDataList:"appModule/userAppDataList"})),watch:{list:{handler:function(){this.getMessageList()},deep:!0,immediate:!0}},methods:Object(o["a"])(Object(o["a"])({},Object(_["b"])({getActiveModuleByAppId:"appModule/getActiveModuleByAppId"})),{},{typeClick:function(e){this.readStatus=e,this.getMessageList()},getMessageList:function(){var e=this;this.messageList=[],this.list&&(this.messageList=this.list.filter((function(t){return t.isRead==e.readStatus})))},handleCommand:function(e){var t=this;"delete"===e?Object(s["i"])({deleteReadMessage:!0}).then((function(){t.refreshList()})).catch((function(){})):Object(s["k"])({allRead:!0}).then((function(){t.refreshList()})).catch((function(){}))},handleClick:function(e){var t=this,a=this.userAppDataList.find((function(e){return e.applicationId===t.appId}));a?a.activeModule&&a.activeModule.length?(this.rowId=e.dataId,this.rowModuleId=e.moduleId,this.zIndex=Object(y["o"])(),this.showDetail=!0):(this.loading=!0,this.getActiveModuleByAppId(a.applicationId).then((function(){t.loading=!1,t.rowId=e.dataId,t.rowModuleId=e.moduleId,t.zIndex=Object(y["o"])(),t.showDetail=!0})).catch((function(){t.loading=!1}))):this.$message.error("未找到应用")},readMessageClick:function(e){Object(s["k"])({messageId:[e]}),this.refreshList()},deleteMessageClick:function(e){var t=this;this.$confirm("确定删除这条消息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["i"])({messageId:[e]}).then((function(){t.refreshList()})).catch((function(){}))})).catch((function(){}))},refreshList:function(){this.$emit("update")}})},$=W,z=(a("2aff"),Object(C["a"])($,A,D,!1,null,"2f1b5ab8",null)),q=z.exports,Z={name:"Messages",components:{SlideView:l["a"],MenuItem:d["a"],SystemMessage:T,CustomMessage:q},props:{unreadNums:Object},data:function(){return{menuIndex:"message",todoSides:[],show:!1,menus:[],menuItem:null}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(_["c"])("appModule",["userAppDataList"])),Object(_["c"])(["messageNum","moduleAuth"])),{},{observerObj:function(){return[this.unreadNums,this.messageNum]},showCustomApp:function(){return this.moduleAuth&&this.moduleAuth.customApp&&this.menuItem&&this.menuItem.isCustom}}),watch:{observerObj:{handler:function(){this.menus=[],this.loadCustomMenus()},deep:!0,immediate:!0}},created:function(){},mounted:function(){this.show=!0},beforeDestroy:function(){},methods:{viewAfterEnter:function(){},requestNumCount:function(){},menuClick:function(e){this.menuIndex=e.infoType,this.menuItem=e},sendSystemUnreadNum:function(){this.$emit("update-unread")},loadCustomMenus:function(){var e=this,t=this.moduleAuth&&this.moduleAuth.customApp;if(!t||!this.userAppDataList)return[];var a=[];this.userAppDataList.forEach((function(t){if(!t.relateApplicationId){var n=e.menus.find((function(e){return e.infoType===t.applicationId}));n||a.push({name:t.name+"消息",infoType:t.applicationId,iconClass:"wk wk-bell",num:0,isCustom:!0,messageList:[]})}})),this.menus=this.menus.concat(a),Object(s["j"])().then((function(t){var a=t.data||[];a.forEach((function(t){var a=e.menus.find((function(e){return e.isCustom&&e.infoType===t.applicationId}));if(a){var n=t.messages.filter((function(e){return!e.isRead})).length;e.$set(a,"num",n),e.$set(a,"messageList",t.messages)}}))})).catch((function(){}))}}},Y=Z,G=(a("52b9"),Object(C["a"])(Y,c,r,!1,null,"a06e0e6e",null)),K=G.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-view",{staticClass:"d-view",attrs:{"append-to-body":"","body-style":{padding:0,height:"100%"},"no-listener-class":["wk-help-tips"]},on:{afterEnter:e.viewAfterEnter,close:function(t){e.$emit("close")}}},[a("div",{staticClass:"help"},[a("div",{staticClass:"help-menus"},[a("div",{staticClass:"title"},[e._v("帮助")]),e._v(" "),"Handbook"!==e.menuIndex?a("div",{staticClass:"menus-wrap"},e._l(e.menus,(function(t,n){return a("menu-item",{key:n,attrs:{icon:t.iconClass,title:t.name,selectd:e.menuIndex===t.value},nativeOn:{click:function(a){e.menuClick(t,n)}}},["Handbook"===t.value?a("i",{staticClass:"wk wk-icon-circle-right"}):e._e()])}))):a("div",{staticClass:"menus-wrap is-sub"},[a("div",{staticClass:"menus-wrap-hd"},[a("el-button",{attrs:{type:"text",icon:"wk wk-icon-circle-left"},on:{click:e.backClick}},[e._v("返回")])],1),e._v(" "),a("div",{staticClass:"menus-wrap-bd"},e._l(e.subMenus,(function(t,n){return a("div",{key:n,staticClass:"letter-block"},[a("div",{staticClass:"header"},[a("span",{staticClass:"label"},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticClass:"line"})]),e._v(" "),a("div",{staticClass:"children"},e._l(t.children,(function(n,i){return a("menu-item",{key:i,attrs:{icon:n.iconClass,title:n.name,selectd:e.subMenuIndex===n.services_menu_id},nativeOn:{click:function(a){e.subMenuClick(n,t.type)}}})})))])})))])]),e._v(" "),a("div",{staticClass:"help-body",class:{"no-padding":e.isNoPadding}},[a(e.menuIndex,{tag:"component",class:"is-"+e.menuIndex,attrs:{id:e.subMenuIndex,type:e.subType,"q-id":e.props&&"Question"===e.props.menuIndex?e.props.id:null,"q-type":e.props&&"Question"===e.props.menuIndex?e.props.type:null}})],1)])])},H=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-title"},[e._v("\n    提供反馈\n  ")]),e._v(" "),a("div",{staticClass:"main-body feedback"},[a("div",{staticClass:"text"},[e._v("\n      如果您在使用过程中遇到任何困难或发现任何缺陷，可在此处提出反馈意见或"),a("a",{attrs:{href:e.WKConfig.contactUrl,target:"_blank"}},[e._v("联系我们")]),e._v("，悟空会尽快做出回应，给您更好的使用体验。\n    ")]),e._v(" "),a("div",{staticClass:"field-item"},[a("div",{staticClass:"lable"},[e._v("我的反馈关于：")]),e._v(" "),a("el-select",{attrs:{multiple:"",clearable:"",placeholder:"选择一个选项"},model:{value:e.feedbackValue,callback:function(t){e.feedbackValue=t},expression:"feedbackValue"}},e._l(e.feedbackOptions,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})))})))],1),e._v(" "),a("div",{staticClass:"field-item"},[a("div",{staticClass:"lable"},[e._v("我的反馈是：")]),e._v(" "),a("el-input",{staticStyle:{"max-width":"500px"},attrs:{rows:4,maxlength:2e3,type:"textarea",placeholder:"告诉我们你的想法"},model:{value:e.idea,callback:function(t){e.idea=t},expression:"idea"}})],1),e._v(" "),a("div",{staticClass:"field-item"},[a("add-image-list",{attrs:{data:e.imgFiles},on:{delete:e.deleteImage,"delete-all":function(t){e.deleteAllFile(2)},upload:e.uploadFile}})],1),e._v(" "),a("div",{staticClass:"field-item"},[a("flexbox",[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("悟空CRM可就此反馈联系我。")])],1)],1),e._v(" "),a("div",{staticClass:"feedback-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.sendClick}},[e._v("发送反馈")])],1)])])},X=[],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"img-cont"},[a("flexbox",{attrs:{wrap:"wrap"}},[e._l(e.data,(function(t,n){return a("div",{directives:[{name:"src",rawName:"v-src:background-image",value:t.url||t.filePath,expression:"item.url || item.filePath",arg:"background-image"}],key:n,staticClass:"img-item",on:{mouseover:function(a){e.mouseImgOver(t,n)},mouseleave:function(a){e.mouseImgLeave(t,n)}}},[t.showDelete?a("el-button",{staticClass:"img-delete",attrs:{type:"selected",icon:"el-icon-close"},on:{click:function(a){e.deleteItem(t,n)}}}):e._e()],1)})),e._v(" "),a("div",{staticClass:"el-upload el-upload--text"},[a("div",{staticClass:"el-upload-dragger"},[a("i",{staticClass:"el-icon-plus uploader-icon"}),e._v(" "),a("input",{staticClass:"img-item-iput",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:e.uploadFile}})])])],2),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.deleteAll}},[e._v("全部删除")])],1)},te=[],ae={name:"AddImageList",components:{},props:{data:Array},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{mouseImgOver:function(e,t){e.showDelete=!0,this.$set(this.data,t,e)},mouseImgLeave:function(e,t){e.showDelete=!1,this.$set(this.data,t,e)},deleteItem:function(e,t){this.$emit("delete",e,t)},deleteAll:function(){this.$emit("delete-all")},uploadFile:function(e){this.$emit("upload",e)}}},ne=ae,ie=(a("0903"),Object(C["a"])(ne,ee,te,!1,null,"0791f10d",null)),oe=ie.exports,ce={name:"Feedback",components:{AddImageList:oe},props:{},data:function(){return{feedbackValue:"",feedbackOptions:[{label:"分组标题",options:[{value:1,label:"UI界面、布局"},{value:2,label:"技术问题"},{value:3,label:"计费和定价"},{value:4,label:"产品问题"}]},{label:"产品",options:[{value:5,label:"仪表盘"},{value:6,label:"客户"},{value:7,label:"联系人"},{value:8,label:"商机"},{value:9,label:"合同"},{value:10,label:"回款"},{value:11,label:"其他"}]}],idea:"",checked:!1,imgFiles:[],batchId:Object(y["s"])()}},computed:{},methods:{target:function(){},openPrivacy:function(){},sendClick:function(){},deleteImage:function(e,t){this.deleteImgOrFile("image",e,t)},deleteImgOrFile:function(e,t,a){var n=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(f["d"])({id:t.fileId}).then((function(t){"image"==e&&n.imgFiles.splice(a,1),n.$message.success("操作成功")})).catch((function(){}))})).catch((function(){}))},deleteAllFile:function(e){var t=this;this.batchId&&this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(f["e"])({batchId:t.batchId,type:e}).then((function(a){2==e&&(t.imgFiles=[]),t.$message.success("操作成功")})).catch((function(){}))})).catch((function(){}))},uploadFile:function(e){var t=e.target.files;if(t.length){for(var a=0;a<t.length;a++){var n=t[a];if(-1==n.type.indexOf("image")&&"img"==this.showRelativeType)return void this.$message.error("请上传正确的文件类型")}for(var i="image/*"==e.target.accept?"img":"file",o=0;o<t.length;o++){var c=t[o];this.uploadFileRequest(c,i)}e.target.value=""}},uploadFileRequest:function(e,t,a){var n=this;this.$wkUploadFile.upload({file:e,params:{type:t,batchId:this.batchId}}).then((function(i){var o=i.res,c=o.data||{};if(c.size=Object(y["g"])(e.size),"img"==t){if(n.imgFiles.length>=5)return void n.$message.warning("只能上传5张图片！");n.imgFiles.push(c)}else c["icon"]=Object(y["m"])(e);a&&a()})).catch((function(){}))}}},re=ce,se=(a("2e0e"),Object(C["a"])(re,Q,X,!1,null,"4904d3e1",null)),le=se.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xr-download"},[e._m(0),e._v(" "),a("div",{staticClass:"xr-download__title"},[e._v("悟空移动办公平台")]),e._v(" "),a("div",{staticClass:"down-des"},[e._v("\n    您可以通过悟空移动端，实现销售管理CRM、人资管理HRM、财务管理FS。全面支持安卓、IOS，无缝接入企业微信、钉钉。\n  ")]),e._v(" "),a("flexbox",{staticClass:"xr-download__body",attrs:{justify:"center"}},e._l(e.list,(function(t,n){return a("div",{key:n,staticClass:"down-item"},[a("img",{attrs:{src:t.icon}}),e._v(" "),a("div",[e._v(e._s(t.label))])])}))),e._v(" "),e._m(1)],1)},ue=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xr-download__header"},[n("img",{staticClass:"download-img",attrs:{src:a("5eef")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xr-download__footer"},[a("div",{staticClass:"logo"},[a("i",{staticClass:"wk wk-icon-android"}),a("i",{staticClass:"wk wk-icon-ios"})]),e._v(" "),a("div",[e._v("扫描二维码，下载Android、iPhone客户端")])])}],me={name:"Download",components:{},props:{},data:function(){return{list:[{icon:a("2bc3"),label:"客户管理CRM",url:WKConfig.androidUrl},{icon:a("25ae"),label:"人资管理HRM",url:WKConfig.iOSUrl},{icon:a("b601"),label:"财务管理FS",url:WKConfig.winUrl}]}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{}},fe=me,he=(a("3d1b"),Object(C["a"])(fe,de,ue,!1,null,"5e5f05ef",null)),pe=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-title"},[e._v("\n    "+e._s(e.name)+"\n  ")]),e._v(" "),a("div",{staticClass:"main-body"},[a("div",{ref:"preview",staticClass:"md-body",domProps:{innerHTML:e._s(e.content)}})])])},be=[],ge=(a("a630"),a("3ca3"),a("bc3a")),ye=a.n(ge),we=ye.a.create({baseURL:"https://www.5kcrm.com/center/index.php/center/api/",method:"post"});we.interceptors.request.use((function(e){return delete e.headers["AUTH-TOKEN"],e}),(function(e){return Promise.reject(e)}));var ke=we,Ce=a("7c5c"),xe={name:"Handbook",components:{},props:{type:[String,Number],id:[String,Number]},data:function(){return{name:"",content:"",imgs:[]}},computed:{},watch:{id:{handler:function(){this.id&&(this.name="",this.content="",this.getData())},immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getData:function(){var e=this;ke.post("/docInfo",{item:this.type,menu_id:this.id}).then((function(t){var a=t.data;if(200===t.status&&200===a.code){var n=a.data||[];e.name=n.name,e.content=Ce["marked"].parse(n.content),e.$nextTick((function(){e.loadImages()}))}})).catch((function(){}))},loadImages:function(){var e=this,t=this.imgs;if(t.length>0)for(var a=0,n=t.length;a<n;a++)t[a].onclick=null;setTimeout((function(){e.imgs=e.$refs.preview.querySelectorAll("img");for(var t=function(t,a){e.imgs[t].onclick=function(){var a=Array.from(e.imgs).map((function(e){return e.getAttribute("src")}));e.$wkPreviewFile.preview({index:t,data:a.map((function(e){return{url:e,name:e}}))})}},a=0,n=e.imgs.length;a<n;a++)t(a,n)}),600)}}},Ie=xe,_e=(a("4b30"),a("3726"),Object(C["a"])(Ie,ve,be,!1,null,"3646f96e",null)),je=_e.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-title"},[e._v("\n    系统功能介绍\n  ")]),e._v(" "),a("div",{staticClass:"main-des"},[e._v("\n    为了帮助您更好地使用悟空CRM，现对系统功能做进一步介绍，其中包括操作方法、术语解释、数据来源等。\n  ")]),e._v(" "),a("div",{staticClass:"main-filter"},[a("el-select",{attrs:{mode:"no-border"},on:{change:e.moduleChange},model:{value:e.moduleId,callback:function(t){e.moduleId=t},expression:"moduleId"}},e._l(e.moduleList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))),e._v(" "),a("el-select",{attrs:{mode:"no-border"},on:{change:e.getData},model:{value:e.menuId,callback:function(t){e.menuId=t},expression:"menuId"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})))],1),e._v(" "),a("div",{staticClass:"main-body"},[a("el-collapse",{attrs:{accordion:""},model:{value:e.currentMenuId,callback:function(t){e.currentMenuId=t},expression:"currentMenuId"}},e._l(e.list,(function(t,n){return a("el-collapse-item",{key:n,attrs:{name:t.id}},[a("template",{slot:"title"},[a("i",{staticClass:"wk wk-icon-success"}),e._v(" "+e._s(t.name)+"\n        ")]),e._v(" "),a("div",{ref:"preview",refInFor:!0,staticClass:"item-content",domProps:{innerHTML:e._s(e.getContent(t.content))}})],2)})))],1)])},Fe=[],Te=a("2909"),Ae=(a("c740"),{name:"Question",components:{},props:{qType:Number,qId:[String,Number]},data:function(){return{list:[],moduleId:"",moduleList:[],menuId:"",currentMenuId:"",options:[],imgs:[]}},computed:Object(o["a"])({},Object(_["c"])(["isWxUser"])),watch:{qId:{handler:function(){this.menuId=this.qType?this.qType:4,this.getDefaultModuleIdAndOptions(),this.getData()},immediate:!0}},created:function(){this.getMenus()},mounted:function(){},beforeDestroy:function(){},methods:{getMenus:function(){var e=this,t="/platformList";this.isWxUser&&(t="/platformList/type/weixin"),ke.post(t).then((function(t){var a=t.data;200===t.status&&200===a.code&&(e.moduleList=a.data||[],e.getDefaultModuleIdAndOptions())})).catch((function(){}))},getDefaultModuleIdAndOptions:function(){if(this.menuId&&this.moduleList.length>=2){var e=this.moduleList[this.moduleListCoord()];this.moduleId=e.id,this.options=e.children}},moduleListCoord:function(){switch(!0){case this.menuId<=17:return 0;case this.menuId<=28:return 1;case this.menuId<=35:return 2;case this.menuId<=42:return 3;case 43==this.menuId:return 1}},moduleChange:function(){var e=this;this.options=this.moduleList.find((function(t){return t.id===e.moduleId})).children,this.menuId=this.options.length>0?this.options[0].id:"",this.menuId?this.getData():this.list=[]},getData:function(){var e=this;ke.post("/platform",{menu_id:this.menuId}).then((function(t){var a=t.data;200===t.status&&200===a.code&&(e.list=a.data||[],e.$nextTick((function(){e.qId?(e.currentMenuId=e.qId||"",setTimeout((function(){var t=e.list.findIndex((function(t){return t.id==e.currentMenuId}));t>=5&&(e.$el.scrollTop=52*(t-4))}),300)):e.currentMenuId="",e.loadImages()})))})).catch((function(){}))},getContent:function(e){return e},loadImages:function(){var e=this,t=this.imgs;if(t.length>0)for(var a=0,n=t.length;a<n;a++)t[a].onclick=null;setTimeout((function(){e.$refs.preview.forEach((function(t){var a=t.querySelectorAll("img");0!==a.length&&(e.imgs=[].concat(Object(Te["a"])(e.imgs),Object(Te["a"])(a)))}));for(var t=function(t,a){e.imgs[t].onclick=function(){var a=Array.from(e.imgs).map((function(e){return e.getAttribute("src")}));e.$wkPreviewFile.preview({index:t,data:a.map((function(e){return{url:e,name:e}}))})}},a=0,n=e.imgs.length;a<n;a++)t(a,n)}),600)}}}),De=Ae,Se=(a("f6c0"),Object(C["a"])(De,Oe,Fe,!1,null,"ce1e0da6",null)),Le=Se.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-title"},[e._v("\n    升级日志\n  ")]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"main-body"},[a("el-timeline",e._l(e.list,(function(t,n){return a("el-timeline-item",{key:n,attrs:{type:"primary",color:"#0052CC",placement:"top",timestamp:t.title}},[a("div",{domProps:{innerHTML:e._s(t.content)}})])})))],1)])},Ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-des"},[a("i",{staticClass:"wk wk-announcement icon"}),e._v(" "),a("div",{staticClass:"content"},[e._v("悟空SAAS云平台会不定期进行日常bug更新及新增功能更新， 可实时关注悟空社区或悟空CRM交流群获取更新信息。")])])}],Ve={name:"Update",components:{},props:{},data:function(){return{list:[]}},computed:{},watch:{},created:function(){this.getData()},mounted:function(){},beforeDestroy:function(){},methods:{getData:function(){var e=this;ke({url:"/upgradeLog",method:"post"}).then((function(t){var a=t.data;if(200===t.status&&200===a.code){var n=a.data||[];e.list=n}})).catch((function(){}))}}},Me=Ve,Be=(a("9afe"),Object(C["a"])(Me,Ee,Ne,!1,null,"1e1798f1",null)),Re=Be.exports,Ue={name:"HelpSide",components:{SlideView:l["a"],MenuItem:d["a"],Feedback:le,Download:pe,Handbook:je,Question:Le,Update:Re},props:{props:Object},data:function(){return{menuIndex:"Question",subMenus:[],subMenuIndex:"",subType:""}},computed:Object(o["a"])(Object(o["a"])({},Object(_["c"])(["isWxUser"])),{},{isNoPadding:function(){return"Download"===this.menuIndex},menus:function(){var e=[{name:"系统功能介绍",value:"Question",iconClass:"wk wk-icon-issue-line",tips:""},{name:"帮助手册",value:"Handbook",iconClass:"wk wk-icon-intro-line",tips:""},{name:"升级日志",value:"Update",iconClass:"wk wk--icon-idea-line",tips:""}];return this.isWxUser||e.splice(2,0,{name:"移动版获取",value:"Download",iconClass:"wk wk-icon-mobile-line",tips:""}),e}}),watch:{},created:function(){this.getData()},mounted:function(){},beforeDestroy:function(){},methods:{viewAfterEnter:function(){},menuClick:function(e){if(this.menuIndex=e.value,"Handbook"===e.value&&this.subMenus.length>0){var t=this.subMenus[0];this.subMenuIndex=t.children[0].services_menu_id,this.subType=t.type}},subMenuClick:function(e,t){this.subType=t,this.subMenuIndex=e.services_menu_id},backClick:function(){this.menuIndex="Question"},getData:function(){var e=this,t="/doc";this.isWxUser&&(t="/doc/type/weixin"),ke.post(t).then((function(t){var a=t.data;if(200===t.status&&200===a.code){var n=a.data||[];e.subMenus=n}e.props&&"Question"===e.props.menuIndex&&(e.menuIndex=e.props.menuIndex)}))}}},Pe=Ue,We=(a("3f28"),Object(C["a"])(Pe,J,H,!1,null,"074b60a7",null)),$e=We.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flexbox",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"app-menu",class:{"wx-width":e.isWxUser},attrs:{gutter:0}},[e.isWxUser?e._e():n("flexbox-item",{ref:"rightWrapper",staticClass:"right"},[e.filterAppAuth(e.collectionList).length?n("section",{staticClass:"section"},[n("div",{staticClass:"section-title"},[e._v("\n        我的收藏\n      ")]),e._v(" "),n("flexbox",{staticClass:"section-body",attrs:{wrap:"wrap"}},e._l(e.filterAppAuth(e.collectionList),(function(t,a){return n("flexbox",{key:a,staticClass:"app-item favorite",class:{active:t.applicationId===e.currentModule},nativeOn:{click:function(a){e.handleNavigateTo(t)}}},[n("flexbox",{staticClass:"app-item__icon",class:t.icon,attrs:{align:"center",justify:"center"}}),e._v(" "),n("flexbox-item",[n("div",{staticClass:"app-item__title"},[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"app-item__desc text-one-line"},[e._v(e._s(t.description||" "))])]),e._v(" "),n("i",{staticClass:"wk wk-focus-on app-item__favorite",on:{click:function(a){a.stopPropagation(),e.handleChangeCollection(t,!0)}}})],1)})))],1):e._e(),e._v(" "),n("section",{staticClass:"section"},[n("div",{staticClass:"section-title"},[e._v("\n        已安装应用\n      ")]),e._v(" "),e.filterAppAuth(e.allList).length?n("flexbox",{staticClass:"section-body",attrs:{wrap:"wrap"}},e._l(e.filterAppAuth(e.allList),(function(t,a){return n("flexbox",{key:a,staticClass:"app-item",class:{active:t.applicationId===e.currentModule,favorite:e.getFavoriteStatus(t)},nativeOn:{click:function(a){e.handleNavigateTo(t)}}},[n("flexbox",{staticClass:"app-item__icon",class:t.icon,attrs:{align:"center",justify:"center"}}),e._v(" "),n("flexbox-item",[n("div",{staticClass:"app-item__title"},[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"app-item__desc text-one-line"},[e._v(e._s(t.description||" "))])]),e._v(" "),n("i",{staticClass:"wk wk-focus-on app-item__favorite",on:{click:function(a){a.stopPropagation(),e.handleChangeCollection(t,!1)}}})],1)}))):n("flexbox",{staticClass:"section-body empty",attrs:{align:"center",justify:"center",direction:"column"}},[n("img",{staticClass:"pic",attrs:{src:a("2143"),alt:""}}),e._v(" "),n("p",{staticClass:"text"},[e._v(e._s(e.getEmptyMessage()))])])],1)])],1)},qe=[],Ze=a("1da1"),Ye=(a("96cf"),a("88b6")),Ge={name:"AppMenu",data:function(){return{loading:!1,collectionList:[],allList:[],activeApp:null,stopClose:!1,appCreateVisible:!1,payGoodsId:null,showPay:!1}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(_["c"])(["manage","moduleAuth","isWxUser"])),Object(_["c"])({userAppList:"appModule/userAppList"})),{},{sysAppLib:function(){return[]},canUseCustom:function(){return this.moduleAuth&&this.moduleAuth.customApp},currentModule:function(){var e=this.$route,t=e.path,a=e.query,n=a.module;if(!n){var i=t.split("/");i.forEach((function(e){e&&!n&&"userApp"!==e&&(n=e)}))}n=n?n.toLowerCase():"";var o=this.sysAppLib.find((function(e){return e.applicationId===n}));return o?n:(o=this.userAppList.find((function(e){return e.applicationId==n})),o?n:"")}}),watch:{appCreateVisible:{handler:function(e){var t=this;e?this.stopClose=!0:setTimeout((function(){t.stopClose=!1}),20)}}},mounted:function(){this.getList(),this.getOrderList()},methods:Object(o["a"])(Object(o["a"])({},Object(_["b"])({getActiveModuleByAppId:"appModule/getActiveModuleByAppId"})),{},{getList:function(){var e=[];this.userAppList.forEach((function(t){e.push(Object(o["a"])(Object(o["a"])({},t),{},{isSys:!1,path:"/userApp/".concat(t.applicationId),auth:t.applicationId}))})),this.allList=e,this.getCollectionList()},getOrderList:function(){},getCollectionList:function(){var e=this;Object(Ye["c"])().then((function(t){var a=t.data,n=a.find((function(e){return 1===e.type})),i=[];n&&(n.applicationIds||[]).forEach((function(t){var a=e.allList.find((function(e){return e.applicationId===t}));a&&i.push(a)})),e.collectionList=i})).catch((function(){}))},getFavoriteStatus:function(e){return!!e&&!!this.collectionList.find((function(t){return t.applicationId===e.applicationId}))},filterAppAuth:function(e){var t=this;return e.filter((function(e){return t.$auth("".concat(e.applicationId))}))},getEmptyMessage:function(){return this.allList.length?"暂无已安装可用应用":"目前您还没有安装应用，安装应用来开展您的业务吧"},handleChangeCollection:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a){var n=this.collectionList.find((function(t){return t.applicationId===e.applicationId}));if(n)return}Object(Ye["b"])({applicationId:e.applicationId,isCancel:a}).then((function(){t.getCollectionList()})).catch((function(){}))},handleToAppDetail:function(e){this.$router.push({name:"appDetail",query:{id:e.applicationId,name:e.name}})},handleNavigateTo:function(e){var t=this;return Object(Ze["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.$auth(e.auth),n){a.next=4;break}return t.$message.error("无权操作"),a.abrupt("return");case 4:return a.next=6,t.getActiveModuleByAppId(e.applicationId);case 6:if(i=a.sent,i.length){a.next=10;break}return t.$message.error("该应用下暂无可用模块"),a.abrupt("return");case 10:t.handleClose(),t.$router.push(e.path);case 12:case"end":return a.stop()}}),a)})))()},validateEnterData:function(e){var t=this;return new Promise((function(a){e.includes("hrm")?t.hrm?t.hrmUserInfo?a(!0):(t.$store.commit("CLEAR_CANCELTOKENARR"),t.$store.dispatch("GetHrmUserInfo").then((function(){a(!0)})).catch((function(){a(!1)}))):(t.$router.push({name:"hrmTips"}),a(!1)):a(!0)}))},handleClose:function(){var e=this;this.stopClose||this.$nextTick((function(){e.$emit("close")}))}})},Ke=Ge,Je=(a("6acf"),Object(C["a"])(Ke,ze,qe,!1,null,"338197c3",null)),He=Je.exports,Qe=a("5c96"),Xe=a("26a1"),et=a("b010"),tt=a("4360"),at={filters:{langName:function(e){return e?{cn:"中文",en:"English"}[e]:"中文"}},components:{Messages:K,HelpSide:$e,AppMenu:He},props:{title:String,menus:Array,navMode:String},data:function(){return{unreadNums:{allCount:0,announceCount:0,crmCount:0,examineCount:0,eventCount:0,logCount:0,taskCount:0},mesOnlyAnnouncement:!1,sysMessageShow:!1,intervalId:null,menuTab:"",helpSideProps:null,appSideProps:null,helpSideShow:!1,appreciationSideShow:!1,appCreateVisible:!1,popoverVisible:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(_["c"])(["userInfo","lang","logo","crm","bi","manage","oa","project","email","emailBinding","knowledge","hrm","jxc","finance","collapse","app","hrmUserInfo","oaRouters","messageNum","scrm","moduleAuth","moduleData"])),{},{messageCount:function(){return(this.messageNum.totalNum||0)+(this.unreadNums.allCount||0)},moreMenu:function(){var e=[{command:"baseInfo",divided:!1,label:"基本信息",icon:"wk wk-user"}];return e.concat([{command:"logOut",divided:!1,label:"退出登录",icon:"wk wk-logout"},{command:"version",divided:!1,label:"版本 ".concat(WKConfig.version),icon:"wk wk-version",disabled:!0}])},logLeftMenus:function(){return Object(et["a"])(this.oaRouters||[],"/oa")}}),watch:{$route:{handler:function(e){var t=this,a=this.$route,n=a.path,i=a.query;if(n.includes("/subs/")?this.menuTab=n.split("/subs/")[0]:this.menuTab=n,i&&i.navActiveMenu&&(this.menuTab=i.navActiveMenu),this.menus){var o=this.menus.find((function(e){return e.path===t.menuTab}));o&&this.$emit("select",o,!1)}},immediate:!0}},mounted:function(){var e=this;Object(Xe["b"])(document,"mousedown",this.handleDocumentClick),this.getSystemUnreadNum("visible"),this.$bus.on("document-visibility",(function(t){e.getSystemUnreadNum(t)}))},beforeDestroy:function(){this.$bus.off("document-visibility"),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),Object(Xe["a"])(document,"mousedown",this.handleDocumentClick)},methods:{navItemsClick:function(e){var t=this.menus[parseInt(e.index)];this.$router.push(t.fullPath)},enterSystemSet:function(){this.$router.push({name:"manage"})},switchLang:function(e){this.$store.commit("SET_LANG",e.lang),this.langName=e.name},getSystemUnreadNum:function(e){var t=this;this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),"visible"==e&&(this.sendSystemUnreadNum(),this.intervalId=setInterval((function(){t.sendSystemUnreadNum()}),6e5))},sendSystemUnreadNum:function(){},enterMainPage:function(){this.$router.push("/")},moreMenuClick:function(e){var t=this;if("baseInfo"==e){var a=Date.parse(new Date);this.$router.push({name:"person",query:{selectedIndex:0,time:a}})}else if("myOrder"==e){var n=Date.parse(new Date);this.$router.push({name:"person",query:{selectedIndex:2,time:n}})}else if("recommended"==e){var i=Date.parse(new Date);this.$router.push({name:"person",query:{selectedIndex:3,time:i}})}else if("logOut"==e){var o=tt["a"].state.user.userInfo||{},c=o.loginType||"";this.$confirm("退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=Qe["Loading"].service({target:document.getElementById("#app")});t.$store.dispatch("LogOut").then((function(){e.close(),location.reload(),3==c&&(window.location.href=WKConfig.wechatLoginUrl)})).catch((function(){e.close(),location.reload(),3==c&&(window.location.href=WKConfig.wechatLoginUrl)}))})).catch((function(){}))}},handleDocumentClick:function(e){if("string"===typeof e.target.className){if(e.target.className.includes("wk-icon-fill-help")){var t=e.target.dataset.type,a=e.target.dataset.id;t&&a&&(this.helpSideProps={menuIndex:"Question",type:parseInt(t),id:parseInt(a)},this.helpSideShow=!0)}if(e.target.className.includes("wk-premium-info")){var n=e.target.dataset.type,i=e.target.dataset.force;if(n){if("BusinessInformation"===n&&"1"!==i){var o=this.moduleData.find((function(e){return"enterprise"===e.module&&1===e.status}));if(o.number>0)return}this.appSideProps={type:n},this.appreciationSideShow=!0}}}},checkMessageDetail:function(e){this.mesOnlyAnnouncement=e,this.sysMessageShow=!0},logClick:function(e){var t="",a=this.$route,n=a.path,i=a.query;if(n){var o=n.split("/");o.forEach((function(e){e&&!t&&(t=e)}))}"oa"===t?t=i.module?i.module:this.getAuthModule():t||(t=this.getAuthModule());var c="".concat(e.path,"?module=").concat(t);if("hrm"===t){var r="hrm"===i.module&&i.role?i.role:this.$route.fullPath.includes("self-server")?"2":"1";c="".concat(c,"&role=").concat(["1","2"].includes(r)?r:"1")}this.$router.push(c)},getAuthModule:function(){return this.crm?"crm":this.moduleAuth&&this.moduleAuth.hrm?"hrm":this.moduleAuth&&this.moduleAuth.finance&&this.finance&&!Object(g["b"])(this.finance)?"finance":this.oa?"oa":this.knowledge?"knowledge":this.jxc?"jxc":""},enterHelp:function(){this.helpSideProps=null,this.helpSideShow=!0}}},nt=at,it=(a("e176"),a("efec"),Object(C["a"])(nt,n,i,!1,null,"1b859f85",null)),ot=it.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("flexbox",{staticStyle:{width:"auto"}},[a("img",{directives:[{name:"src",rawName:"v-src",value:e.logo,expression:"logo"}],key:e.logo,staticClass:"logo",on:{click:e.enterMainPage}}),e._v(" "),a("div",{staticClass:"nav-title"},[e._v("\n      系统设置\n    ")])]),e._v(" "),a("flexbox",{staticStyle:{width:"auto"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.enterHome}},[e._v("返回首页")]),e._v(" "),a("el-button",{on:{click:e.enterLogin}},[e._v("退出系统")])],1)],1)},rt=[],st={components:{},props:{navIndex:String},data:function(){return{}},computed:Object(o["a"])({},Object(_["c"])(["logo","crm"])),mounted:function(){},methods:{enterHome:function(){this.$router.replace({path:"/"})},enterLogin:function(){var e=this;this.$confirm("退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=Qe["Loading"].service({target:document.getElementById("#app")});e.$store.dispatch("LogOut").then((function(){t.close(),location.reload()})).catch((function(){t.close(),location.reload()}))})).catch((function(){}))},enterMainPage:function(){this.$router.push("/")}}},lt=st,dt=(a("8a75"),Object(C["a"])(lt,ct,rt,!1,null,"1b60885e",null)),ut=(dt.exports,a("30c6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-main"},[e._t("header"),e._v(" "),a("router-view",{staticClass:"app-main-content"}),e._v(" "),e._t("default")],2)}),mt=[],ft={name:"AppMain",computed:{}},ht=ft,pt=(a("08dd"),Object(C["a"])(ht,ut,mt,!1,null,"7e9c0972",null)),vt=pt.exports},"3b08":function(e,t,a){"use strict";a("86897")},"3c43":function(e,t,a){},"3cd8":function(e,t,a){"use strict";var n=a("2909"),i=a("5530"),o=(a("99af"),a("d81d"),a("caad"),a("2532"),a("d3b7"),a("159b"),a("8122")),c=a("ed08"),r=a("8ed6"),s={value:"",label:"",searchRequest:null,searchParams:null};t["a"]={props:{radio:Boolean,data:Array,value:Array,props:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{dataValue:[],otherValue:[],currentValue:[],ignoreCurrentChange:!1,ignoreOtherChange:!1}},computed:{config:function(){return Object(r["a"])(Object(i["a"])({},s),this.props||{})}},watch:{value:function(){Object(o["valueEquals"])(this.value,this.dataValue)||(this.dataValue=Object(c["u"])(this.value),this.getCurrentAndOtherValue(!1))},data:function(){var e=this;this.data?this.$nextTick((function(){e.getCurrentAndOtherValue()})):this.currentValue=[]},currentValue:function(e,t){var a=this;this.data&&(this.radio&&(this.otherValue.length>0&&(this.ignoreOtherChange=!0,this.otherValue=[],this.$nextTick((function(){a.ignoreOtherChange=!1}))),this.currentValue.length>1)?this.currentValue=this.currentValue.length?[this.currentValue[this.currentValue.length-1]]:[]:(this.$emit("all-select",this.data.length>0&&this.data.length===e.length),this.ignoreCurrentChange||Object(o["valueEquals"])(e,t)||(this.checkboxChange([].concat(Object(n["a"])(this.currentValue),Object(n["a"])(this.otherValue))),this.$nextTick((function(){a.$emit("change",Object(c["u"])(a.dataValue))})))))},otherValue:function(e,t){var a=this;if(this.data){if(this.radio){var i=this.currentValue.length+this.otherValue.length>1;if(i)return this.currentValue.length>0&&(this.ignoreCurrentChange=!0,this.currentValue=[],this.$nextTick((function(){a.ignoreCurrentChange=!1}))),void(this.otherValue.length>1&&(this.otherValue=[this.otherValue[this.otherValue.length-1]]))}Object(o["valueEquals"])(e,t)||this.ignoreOtherChange||(this.checkboxChange([].concat(Object(n["a"])(this.currentValue),Object(n["a"])(this.otherValue))),this.$nextTick((function(){a.$emit("change",Object(c["u"])(a.dataValue))})))}}},mounted:function(){this.dataValue=Object(c["u"])(this.value||[]),this.getCurrentAndOtherValue(!0)},methods:{searchSelect:function(e){var t=this,a=e[this.config.value],i=this.data.map((function(e){return e[t.config.value]}));i.includes(a)?this.currentValue.includes(a)||(this.currentValue=[].concat(Object(n["a"])(this.currentValue),[a])):this.otherValue.includes(a)||(this.otherValue=[].concat(Object(n["a"])(this.otherValue),[a]))},checkboxChange:function(e){this.dataValue=e,this.$emit("input",e)},handleCheckAllChange:function(e){var t=this;if(this.data&&this.data.length>0)if(e){var a=this.data.map((function(e){return e[t.config.value]}));Object(o["valueEquals"])(this.currentValue,a)||(this.currentValue=a)}else this.currentValue=[]},clearAll:function(){this.currentValue=[]},getCurrentAndOtherValue:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.data){this.ignoreCurrentChange=t,this.ignoreOtherChange=t;var a=[],n=[],i=this.data.map((function(t){return t[e.config.value]}));this.dataValue.forEach((function(e){i.includes(e)?n.push(e):a.push(e)})),Object(o["valueEquals"])(this.otherValue,a)||(this.otherValue=a),Object(o["valueEquals"])(this.currentValue,n)||(this.currentValue=n),this.$nextTick((function(){e.ignoreCurrentChange=!1,e.ignoreOtherChange=!1}))}}}}},"3cfd":function(e,t,a){},"3d1b":function(e,t,a){"use strict";a("8346")},"3d53":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"wk-form-items",attrs:{align:"flex-start",wrap:"wrap",justify:"flex-start"}},[e._l(e.fieldList,(function(t,n){return[a("app-form-item",{key:n,attrs:{"prop-prefix":e.propPrefix,item:t,index:n,"field-from":e.fieldFrom,"parent-field-form":e.parentFieldForm,"ignore-fields":e.ignoreFields,disabled:e.disabled,"app-id":e.appId,"module-id":e.moduleId},on:{change:e.fieldChange,"table-change":e.tableFieldChange},scopedSlots:e._u([{key:"default",fn:function(a){return[e._t("default",null,{data:t,index:n})]}}])})]}))],2)},i=[],o=(a("a9e3"),a("99af"),a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.getShowValue(e.item)?a("el-form-item",{key:e.index,staticClass:"wk-form-item",class:[e.item.className||"","is-"+e.item.formType],style:{width:e.item.stylePercent?e.item.stylePercent+"%":"auto"},attrs:{prop:""+(e.propPrefix||"")+e.item.field,rules:e.item.rules}},["field_group"!==e.item.formType?a("template",{slot:"label"},[e._v("\n    "+e._s(e.item.name)+"\n    "),"tooltip"===e.item.tipType?a("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.getTips(e.item))},slot:"content"}),e._v(" "),a("i",{staticClass:"wk wk-help wk-help-tips"})]):a("span",{staticStyle:{color:"#999"}},[e._v("\n      "+e._s(e.getTips(e.item))+"\n    ")])],1):e._e(),e._v(" "),a("app-form-item-field",{attrs:{item:e.item,index:e.index,"field-from":e.fieldFrom,"parent-field-form":e.parentFieldForm,"ignore-fields":e.ignoreFields,disabled:e.disabled,"app-id":e.appId,"module-id":e.moduleId},on:{change:e.fieldChange,"table-change":e.tableFieldChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[e._t("default",null,{data:a,index:e.index})]}}])})],2):e._e()}),c=[],r=a("2589"),s=a("4180"),l={name:"AppFormItem",components:{AppFormItemField:r["default"]},mixins:[s["a"]],props:{propPrefix:{type:String,default:""},item:Object,index:Number,fieldFrom:{type:Object,default:function(){return{}}},parentFieldForm:{type:Object,default:function(){}},ignoreFields:{type:Array,default:function(){return[]}},disabled:Boolean,appId:[String,Number],moduleId:[String,Number]},data:function(){return{}},methods:{fieldChange:function(e,t,a,n){this.$emit("change",e,t,a,n)},tableFieldChange:function(){this.$emit.apply(this,["table-change"].concat(Array.prototype.slice.call(arguments)))}}},d=l,u=(a("9a10"),a("d3a1"),a("2877")),m=Object(u["a"])(d,o,c,!1,null,"53cdf2fa",null),f=m.exports,h={name:"AppFormItems",components:{AppFormItem:f},props:{propPrefix:{type:String,default:""},fieldFrom:{type:Object,default:function(){return{}}},parentFieldForm:{type:Object,default:function(){}},fieldList:{type:Array,default:function(){return[]}},ignoreFields:{type:Array,default:function(){return[]}},disabled:Boolean,appId:[String,Number],moduleId:[String,Number]},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{fieldChange:function(e,t,a,n){this.$emit("change",e,t,a,n)},tableFieldChange:function(){this.$emit.apply(this,["table-change"].concat(Array.prototype.slice.call(arguments)))}}},p=h,v=(a("0162"),Object(u["a"])(p,n,i,!1,null,"db9ee10c",null));t["default"]=v.exports},"3dd3":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},"3e95":function(e,t,a){},"3f17":function(e,t,a){},"3f26":function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"i",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"e",(function(){return g}));var n=a("5530"),i=(a("4de4"),a("d3b7"),a("caad"),a("2532"),a("d81d"),a("7db0"),a("159b"),a("a9e3"),a("ac1f"),a("5319"),a("4042")),o=a("6bfe");a("1276"),a("25f0");function c(e,t){var a=0,n=e.toString(),i=t.toString();try{a+=(n.split(".")[1]||[]).length}catch(o){return e*t}try{a+=(i.split(".")[1]||[]).length}catch(o){return e*t}return Number(n.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,a)}function r(e,t){var a=0,n=e.toString(),i=t.toString();try{a+=(n.split(".")[1]||[]).length}catch(s){return e/t}try{a+=(i.split(".")[1]||[]).length}catch(s){return e/t}var o=c(e,Math.pow(10,a)),r=c(t,Math.pow(10,a));return Number(o)/Number(r)}var s=a("ed08"),l=[{label:"数值",value:1,type:"number"},{label:"货币",value:2,type:"floatnumber"},{label:"百分比",value:3,type:"percent"},{label:"日期",value:4,type:"date"},{label:"日期时间",value:5,type:"datetime"},{label:"文本",value:6,type:"text"},{label:"布尔值",value:7,type:"boolean_value"}],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.rules,n=t.filterSys,i=t.excludesFieldName,c=["dataId","moduleId","currentFlowId","categoryId","stageId","teamMember"];return e.filter((function(e){return!(i&&Object(o["a"])(i)&&i.includes(e.fieldName))&&((!0!==i||!c.includes(e.fieldName))&&((!n||0!==e.fieldType)&&(!a||"function"!==typeof a||a(e))))}))},u=function(e){return e.map((function(e,t){return Object(n["a"])(Object(n["a"])({},e),{},{sort:t+1})}))},m=function(e){if("formula"===e.formType){var t=l.find((function(t){return t.value===e.precisions}));return t?i["a"].methods.getAdvancedFilterOptions(t.type,e.fieldName).filter((function(e){return!["isNull","isNotNull"].includes(e.value)})):null}if(["flowStatus","flowType","stageStatus"].includes(e.fieldName))return[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}];if(["position","date_interval"].includes(e.formType))return[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"contains",label:"包含",disabled:!1,type:3},{value:"notContains",label:"不包含",disabled:!1,type:4},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}];if("date"===e.formType){var a=i["a"].methods.getAdvancedFilterOptions(e.formType,e.fieldName);if(4===e.precisions)return a.filter((function(e){return"range"!==e.value}))}return null},f=function(e){var t=Object(s["u"])(e);return t.forEach((function(e){if("formula"===e.formType){var t=l.find((function(t){return t.value===e.precisions}));e.formType=t?t.type:"text"}})),t},h={controls:[{name:"编辑",isHidden:0,value:"edit",extra:null},{name:"删除",isHidden:0,value:"delete",extra:null},{name:"转移",isHidden:0,value:"transfer",extra:null},{name:"移动到分类",isHidden:1,value:"moveCategory",extra:null},{name:"打印",isHidden:1,value:"print",extra:null}],quickAdd:[],mainFields:[],tabs:[{name:"详情信息",moduleId:"sys_base_info"},{name:"附件",moduleId:"sys_file"},{name:"操作记录",moduleId:"sys_record"}],showFlow:!0},p=[{key:0,type:0,value:"待处理"},{key:1,type:0,value:"已处理"},{key:2,type:0,value:"审批拒绝"},{key:3,type:0,value:"处理中"},{key:4,type:0,value:"已撤回"},{key:5,type:0,value:"未提交"},{key:7,type:0,value:"失败"},{key:8,type:0,value:"已作废"},{key:9,type:0,value:"忽略"}],v=[{key:0,type:0,value:"未开始"},{key:1,type:0,value:"已完成"},{key:2,type:0,value:"草稿"},{key:3,type:0,value:"成功"},{key:4,type:0,value:"失败"}],b=function(e,t){return e?isNaN(Number(e))?e:"*"===t?c(e,100):"/"===t?r(e,100):e:e};function g(e){var t={1:{type:"datetime",rangeType:"datetimerange",format:"yyyy-MM-dd HH:mm:ss"},2:{type:"date",rangeType:"daterange",format:"yyyy-MM-dd"},3:{type:"month",rangeType:"monthrange",format:"yyyy-MM"},4:{type:"year",rangeType:"year",format:"yyyy"}};return t[e]||t["2"]}},"3f28":function(e,t,a){"use strict";a("04a7")},"3f50":function(e,t,a){},"3ffd":function(e,t,a){"use strict";a("57d9")},4042:function(e,t,a){"use strict";a("caad"),a("d3b7"),a("159b");var n=a("6bfe");t["a"]={methods:{getAdvancedFilterOptionName:function(e,t){var a="date"===t||"datetime"===t;return{1:"等于",2:"不等于",3:"包含",4:"不包含",5:"为空",6:"不为空",7:a?"晚于":"大于",8:a?"不早于":"大于等于",9:a?"早于":"小于",10:a?"不晚于":"小于等于",12:"开始于",13:"结束于",14:a?"等于（时间段）":"等于（范围）"}[e]||""},getAdvancedFilterOptions:function(e,t){return"text"==e||"textarea"==e||"website"==e||"mobile"==e||"email"==e||"module"==e||"serial_number"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"contains",label:"包含",disabled:!1,type:3},{value:"notContains",label:"不包含",disabled:!1,type:4},{value:"startWith",label:"开始于",disabled:!1,type:12},{value:"endWith",label:"结束于",disabled:!1,type:13},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}]:"invoiceStatus"===t||"checkStatus"==e||"dealStatus"==e||"status"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2}]:"select"==e||"field_attention"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}]:"boolean_value"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2}]:"checkbox"==e||"location"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"contains",label:"包含",disabled:!1,type:3},{value:"notContains",label:"不包含",disabled:!1,type:4},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}]:"number"==e||"floatnumber"==e||"percent"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"gt",label:"大于",disabled:!1,type:7},{value:"egt",label:"大于等于",disabled:!1,type:8},{value:"lt",label:"小于",disabled:!1,type:9},{value:"elt",label:"小于等于",disabled:!1,type:10},{value:"range",label:"等于（范围）",disabled:!1,type:14},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}]:"date"==e||"datetime"==e?[{value:"is",label:"等于",disabled:!1,type:1},{value:"isNot",label:"不等于",disabled:!1,type:2},{value:"lt",label:"早于",disabled:!1,type:9},{value:"gt",label:"晚于",disabled:!1,type:7},{value:"egt",label:"不早于",disabled:!1,type:8},{value:"elt",label:"不晚于",disabled:!1,type:10},{value:"range",label:"等于（时间段）",disabled:!1,type:14},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}]:"date_interval"==e||"position"==e?[]:["user","structure","single_user","field_tag","data_union","data_union_multi"].includes(e)?[{value:"contains",label:"包含",disabled:!1,type:3},{value:"notContains",label:"不包含",disabled:!1,type:4},{value:"isNull",label:"为空",disabled:!1,type:5},{value:"isNotNull",label:"不为空",disabled:!1,type:6}]:[]},getAdvancedFilterDefaultItemByFormType:function(e,t,a){t||(t=e),"business_cause"==e.formType?(e.typeOption=t.setting,e.settingList=[],e.flowName="",e.settingName="",e.value=""):"checkStatus"==e.formType||"dealStatus"==e.formType?(e.setting=t.setting||[],e.value=""):"map_address"==e.formType?e.address={state:"",city:"",area:""}:"user"===e.formType||"single_user"===e.formType||"structure"===e.formType||"category"===e.formType||"position"===e.formType?e.value=[]:"date"===e.formType||"datetime"===e.formType?(e.value="",this.$set(e,"timeType",""),this.$set(e,"timeTypeName",""),this.$set(e,"range",[])):"select"==e.formType||"checkbox"===e.formType||"field_attention"===e.formType?(e.setting=t.setting||[],e.value=[]):"number"==e.formType||"floatnumber"==e.formType||"percent"==e.formType?(e.min="",e.max="",e.value=""):"field_tag"===e.formType?(e.setting=t.setting||[],e.value=""):e.value="";var n=this.getAdvancedFilterOptions(a?a(e):e.formType,e.fieldName);if(n.length>0){var i=n[0];e.condition=i.value,e.type=i.type}else e.condition="is",e.type=1;return e},resetAdvancedFilterFieldsValue:function(e){e.forEach((function(e){"number"==e.formType||"floatnumber"==e.formType||"percent"==e.formType?(e.min="",e.max="",e.value=""):"business_cause"==e.formType?(e.flowName="",e.settingName="",e.value="",e.settingList=[]):"map_address"==e.formType?e.address={state:"",city:"",area:""}:["date","datetime"].includes(e.formType)?(e.value="",e.range=[]):Object(n["a"])(e.value)?e.value=[]:Object(n["c"])(e.value)?e.value={}:e.value=""}))}}}},"411a":function(e,t,a){"use strict";a("ce42")},"413b":function(e,t,a){},4180:function(e,t,a){"use strict";a("caad");var n=a("6bfe");t["a"]={methods:{isTrimInput:function(e){return["mobile","email","website"].includes(e)},getInputIcon:function(e){return{mobile:"wk wk-icon-mobile",email:"wk wk-icon-email-outline",website:"wk wk-icon-link"}[e]},getInputMaxlength:function(e){return"website"===e?800:100},depOrUserChange:function(e,t,a,n){this.$emit("change",e,t,a,n)},commonChange:function(e,t,a){this.$emit("change",e,t,a)},isEmptyValue:function(e){return null===e||void 0==e},oldChange:function(e,t,a){this.$set(this.fieldFrom,t.field,e.value),this.$emit("change",t,a,e.value),this.$refs.form&&this.$refs.form.validateField(t.field)},selectProvince:function(e,t,a){this.fieldFrom[t.field].province=e.value,this.addressChange(t,a,e,this.fieldFrom[t.field])},selectCity:function(e,t,a){this.fieldFrom[t.field].city=e.value,this.addressChange(t,a,e,this.fieldFrom[t.field])},selectArea:function(e,t,a){this.fieldFrom[t.field].area=e.value,this.addressChange(t,a,e,this.fieldFrom[t.field])},addressChange:function(e,t,a){this.$emit("change",e,t,a)},relativeChooseChange:function(e,t){this.$emit("change",this.item,this.index,t.valData,t.data)},getTips:function(e){var t=e.tips||e.inputTips;return"tooltip"==e.tipType?Object(n["b"])(t)?"":t:Object(n["b"])(t)?"":"（".concat(t,"）")},getShowValue:function(e){return!e.hasOwnProperty("show")||e.show}}}},4360:function(e,t,a){"use strict";var n=a("2b0e"),i=a("2f62");a("d3b7"),a("159b"),a("ddb0"),a("fb6a");function o(e){var t={};return e.keys().forEach((function(a){var n=a.slice(2,-3),i=e(a).default;t[n]=i})),t}var c=o(a("d307"));n["default"].use(i["a"]);var r=new i["a"].Store({modules:c});t["a"]=r},"449d":function(e,t,a){"use strict";a("706c")},4558:function(e,t,a){e.exports=a.p+"static/img/nopermission.d19df5c9.png"},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="4678"},4693:function(e,t,a){},"486e":function(e,t,a){},"4a15":function(e,t,a){},"4ad2":function(e,t,a){"use strict";a("17d4")},"4b1d":function(e,t,a){},"4b30":function(e,t,a){"use strict";a("74ca")},"4b3c":function(e,t,a){},"4c45":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAABlRJREFUeF7tW01WG0cQ7h4JsQw+QeQTWJzA4gSGZZ7hIdYxWGwCrAwrIBsJlKyRHvLL0vgEFiewfALgBHaWQaPpfNUjCWmYmZ7+kcMkmY0N9E/VVz9dXVXN2Zy/RuNi6S+v9JJ7rMJYUBGMLzHBypyz8vTWQrBbxtktZ+IbY15fBKy/GNxf7+5u4ef5fXweS//6+/uKGIpNMFTF+mDc6usDsB4v8M4vP7/uW60UM9kZAFLSxeImE7wela4rokMtEc1F3++40gxrAIjx+2LpLRNBnXGo9/f4BMyEe82Sf39mC4QVAKe/dTdZIJrfjfEouASEx+t7b9Y7prgbAXDc+KPMi8MLTCYbN/numBC3cIjSwcHxLQFEcoo/miwmGOsJv7B1sPvTre58bQBOW5ercEoXulIHkX8yJtqe57WTnBk5zyAIaoCkBsJ+0GJGmgXb2tveuNKZpwXA6Xm3gU3qOhvQWDivj4vDQS2rvUqHWlhow5m+0t0Lwmnu7azvZp2XGYCT8+4FCIJ09L5A8K2DnddtvVnh6OPz9zWPiwvduQC8vb+zvpVlXiYAoPYfoJarWRacHmPD/HgdUxCgd1cwhzUVzUoATCUvmDjb397QNpc4gk9al03O+FsVM9G/Z9GEVACMN4bDW/QH5aw2r2IsDLIWECZrOkbyPwpBJAIgvT3jUH39z4XqR3c1NwXphteSTodYAOic9wr+Z92jbkx0yR88cyX98ZphxLnwVV8cxL/4FgyLy3FxQiwAJ63uJ+MgR4jrvZ2NqhGhikmn55c9COWlydoULO1vr69E5z4CwE7VpLodQd0OTYhUzYFZYl3+TjUu6e9xpjkDgFSzQvHGVPXDjZ8uAGQKpaH/fNo8ZwCwRfjJAxAjoAkAbqT/xDVAkjerBRMAEOfjPs8apvY1Na+zt71ec7DOoyUQlF0Z3Q+iKwm2i/tCk349AQCL3zjJ5ABhnALP5gEAToGvdv5pZKTILOGu8HwCgMzhBeKzO6KTAw/TPWwCs7g9uceX6VouNcA05E1iJunMNWU+pNEiNonZeBwiSwBOW12Svm32dmabgImVg+2Nng3T47nHrcuqx/gnF2tNrdGHr1rmViFmGkUp4acOI7ZhedpeFLJz17YV2bCPTVZM7wWS+eKQLmROtfOBRrFGABzahJdKaUITeMFb0S1qSLUX7IMLr59Mozjizs5WBRKUnBDDwpEqcyszzoXhO5P0m1IYkQGUq+Q2NyzdDUfjUd7iV1T783iYFg+EWAprh4LSbnNS97ijQFyTBrgJgAzR+CenUakNPqCLY/u/+/0PgCMNQKmLNYNh4Url5Gx1LYwLhqujAo1RKW2aBhca0MFZXzc9600BGQVwdKPbNF2D5hEAt/jXCEk6RnCr0i6Y2BAcnWt5jN9ZHYOBX3g+b5VXgTWKFm9U42L/jgSucSD0FKQ/ZspCCzoWofD8kp+60jQP5xEKm1+G/hUArFlch/MPgLwOk7ohI4TUEH+hp3r5BgAZoS+oXlcsUmK5B0CW7yUAZknRfAMwkxQlEPQDolwDcId8YFlGgmO71y+M5BiAuMKIfhdGPgGgdr3p7hWL4mg+AYhWrx+Vx7P34uQPgKj0Z3zA2Bdkb5DIHwDKBokHh5ilFSVnACS07iQ2SaEZmgqHKf26+QGAVB/N1JXMTVJhXKBqk3s6AKiLu5ptcpN7dnqHpiwu6t0f5jM6rbhr3Cg58Qetbhv/j827zaMhUhcihfSV3SrKXmF5W0xpTQHCdVwqznQJtx0/aqlvpJTQlMzHHoNJhEHNEjVBvthAe5yrfgAVOPRUB6W1w5SWnkzMawEwyhukdm0TECCqXRoMPrpOk4fPdPxXqldpKpuPgpvJBKYn0emAtz5tVee2BIPxHhVBReB90c0eS4a94AXnoprl/SEddXh7VJvrk5lJtBg2U7d1+3bHr0MngNI7wFAPy1O/e/SqVGUS6P27RjN0TRdkbROIEkJhMyQEs9Dv41cylWGADHDwUNP0SY41ALRAWKIq1mEWlF7Se+mVgcm4ISN1x8NJv2nra7R9QBLNYavtQs1V0TJhH1mELQ0HbVvGx+s7A2Ca4If3f6yqn22eZZ2yt/hNL+29oaEijdyPzewMc0cmUsXQCuwVaejEV6KT16TwK/RKHB1mfs+VpJNI/RumaWunMo2y2wAAAABJRU5ErkJggg=="},"4ce3":function(e,t,a){"use strict";a("8827")},"4ff3":function(e,t,a){"use strict";a("9a1a")},"4ffd":function(e,t,a){e.exports=a.p+"static/img/logo.285872fa.png"},"50c0":function(e,t,a){},"52b9":function(e,t,a){"use strict";a("61af")},5351:function(e,t,a){"use strict";a("e296")},5464:function(e,t,a){"use strict";a("2ca9")},"558b":function(e,t,a){},"55f9":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500",menuText:"#172B4D",menuActiveText:"#fff",subMenuActiveText:"#fafbfc",menuBg:"rgba(0,0,0,0)",menuHover:"#EBECF0",subMenuBg:"#fff",subMenuHover:"#EBECF0",sideBarWidth:"210px"}},"563d":function(e,t,a){"use strict";a.d(t,"i",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"j",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"m",(function(){return l})),a.d(t,"k",(function(){return d})),a.d(t,"l",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return h})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return v}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"/moduleRole/list/".concat(e),method:"post"})}function o(){return Object(n["a"])({url:"/moduleRole/roles",method:"post"})}function c(e){return Object(n["a"])({url:"/moduleRole/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function r(e){return Object(n["a"])({url:"/moduleRole/delete/".concat(e),method:"post"})}function s(e){return Object(n["a"])({url:"/moduleRole/module/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function l(e){return Object(n["a"])({url:"/moduleRole/user/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function d(e){return Object(n["a"])({url:"/moduleRole/roles/users",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function u(e){return Object(n["a"])({url:"/moduleRole/userRole/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function m(){return Object(n["a"])({url:"/moduleRole/auth",method:"post"})}function f(e){return Object(n["a"])({url:"/moduleRole/roleField",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function h(e){return Object(n["a"])({url:"/moduleRole/roleField/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function p(e){return Object(n["a"])({url:"/moduleRole/fieldAuth/".concat(e.moduleId,"/").concat(e.userId),method:"post",data:e})}function v(e){return Object(n["a"])({url:"/moduleRole/dataAuth/".concat(e.dataId),method:"post",data:e})}},"566f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-view"},[a("div",{ref:"mapView",staticClass:"main-map"}),e._v(" "),a("i",{staticClass:"el-icon-close map-close",on:{click:e.hiddenView}})])},i=[],o=(a("a9e3"),a("ed08")),c={name:"MapView",components:{},props:{title:{type:String,default:""},lat:{type:[String,Number],default:0},lng:{type:[String,Number],default:0}},data:function(){return{}},computed:{},mounted:function(){var e=this;this.$el.style.zIndex=Object(o["o"])(),document.body.appendChild(this.$el),Object(o["j"])().then((function(){var t=new BMap.Map(e.$refs.mapView,{enableMapClick:!1}),a=new BMap.Point(parseFloat(e.lng),parseFloat(e.lat));t.centerAndZoom(a,18),t.enableScrollWheelZoom();var n=new BMap.Marker(a);t.addOverlay(n);var i=new BMap.InfoWindow(e.title);n.addEventListener("click",(function(){t.openInfoWindow(i,a)}))}))},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},methods:{hiddenView:function(){this.$emit("hidden")}}},r=c,s=(a("6053"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"15f1fc41",null);t["a"]=l.exports},"56d7":function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"formatTime",(function(){return f["h"]})),a.d(n,"filterTimestampToFormatTime",(function(){return bt})),a.d(n,"filterFormatTimeToTimestamp",(function(){return gt})),a.d(n,"filterUserLazyImg",(function(){return yt})),a.d(n,"wkIconPre",(function(){return wt}));a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("159b"),a("b64b"),a("4de4");var i=a("2b0e"),o=(a("f5df1"),a("5530"));function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";return{code:t,msg:a,data:e}}var r="/mock",s=a("96eb"),l={userId:"1",username:"18888888888",realname:"admin",mobile:"18888888888",deptId:"1",deptName:"总公司"},d={deptId:"1",parentId:"0",name:"总公司",ownerUserId:"1",children:[],currentNum:1};s.mock("".concat(r,"/idsUser/queryLoginUser"),"post",c(l)),s.mock("".concat(r,"/idsUser/queryOrganizationInfo"),"post",c({userMap:{A:[l]},deptList:[Object(o["a"])(Object(o["a"])({},d),{},{userList:[l]})],disableUserList:[]})),s.mock("".concat(r,"/idsUser/queryUserList"),"post",c({list:[l],totalRow:8,pageSize:1e4,pageNumber:1,extraData:null,totalPage:1,firstPage:!0,lastPage:!0})),s.mock("".concat(r,"/idsDept/queryDeptTree"),"post",c([d]));var u=a("e508"),m=(a("a899"),a("db49")),f=a("ed08"),h=a("5c96"),p=a.n(h),v=(a("0fae"),a("8c4a"),a("99f6")),b=(a("b20f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view",{staticClass:"router-view"}),e._v(" "),e.upgradeDialogShow?a("wk-upgrade",{attrs:{visible:e.upgradeDialogShow},on:{"update:visible":function(t){e.upgradeDialogShow=t}}}):e._e()],1)}),g=[],y=(a("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"upgrade-dialog",attrs:{visible:e.visible,width:"600px",title:"","close-on-press-escape":!1,"close-on-click-modal":!1},on:{close:e.close}},[n("div",{staticClass:"header"},[n("img",{attrs:{src:a("9a79")}})]),e._v(" "),n("div",{staticClass:"main",domProps:{innerHTML:e._s(e.WKConfig.updateContent)}}),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.close}},[e._v("我知道了")])],1)])}),w=[],k=a("b775");function C(e){return Object(k["a"])({url:"adminConfig/readNotice",method:"post",data:e})}var x={props:{visible:{type:Boolean,required:!0,default:!1}},data:function(){return{message:""}},methods:{getContent:function(){this.message=WKConfig.updateContent},close:function(){C().then((function(e){})).catch((function(){})),this.$emit("update:visible",!1)}}},I=x,_=(a("3ffd"),a("2877")),j=Object(_["a"])(I,y,w,!1,null,"526ac660",null),O=j.exports,F=a("2f62"),T=a("6b43"),A={name:"App",components:{WkUpgrade:O},data:function(){return{upgradeDialogShow:!1}},computed:Object(o["a"])({},Object(F["c"])(["addRouters","userInfo"])),watch:{$route:function(e,t){var a=e.meta,n=e.params,i=this.WKConfig.companyName;a.title?i+=" - "+a.title:n&&n.title&&(i+=" - "+n.title),document.title=i,this.$wkPreviewFile.closeViewer()}},created:function(){},mounted:function(){this.addDocumentVisibilityChange()},methods:{addDocumentVisibilityChange:function(){var e,t,a=this;"undefined"!==typeof document.hidden?(t="visibilitychange",e="visibilityState"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozVisibilityState"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msVisibilityState"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitVisibilityState"),document.addEventListener(t,(function(){"visible"==document[e]&&T["a"].updateAxiosHeaders()&&"login"===a.$route.name&&window.location.reload(),a.$bus.emit("document-visibility",document[e])}),!1)}}},D=A,S=(a("5c0b"),Object(_["a"])(D,b,g,!1,null,null,null)),L=S.exports,E=a("a18c"),N=a("4360"),V=a("ade3"),M=a("1da1"),B=(a("96cf"),a("caad"),a("2532"),a("ac1f"),a("466d"),a("5319"),a("2ca0"),a("fb6a"),a("1276"),a("323e")),R=a.n(B),U=(a("a5d8"),a("6bfe")),P=a("5f87"),W=a("31c2"),$=a("e56b"),z=["login","register","link","wechatLoginRegister","wechatLoginResult"],q=["/404","/noAuth"],Z=3;function Y(){return Z>0}function G(){return Z--}function K(){Z=3}function J(e,t,a){-1!==z.indexOf(e.name)?a():a("/404?redirect=".concat(q.includes(e.path)?e.redirectedFrom||"/":e.path))}function H(e){return Q.apply(this,arguments)}function Q(){return Q=Object(M["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,o,c,r,s,l,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.path.startsWith("/404")&&t.redirectedFrom||t.path,a.startsWith("/userApp")||"/"===a){e.next=3;break}return e.abrupt("return",[]);case 3:if(n=a.indexOf("?"),-1!==n&&(a=a.slice(0,n)),i=null,o=E["b"].getMatchedComponents(a),c=a.split("/").filter((function(e){return!!e})),"/"===a?(r=Object(W["getFirstApp"])(),r&&(i=r.applicationId)):i=c[1],s=N["a"].state.appModule.userAppRouterObj[i],s&&s.length&&o[0]&&"function"!==typeof o[0]){e.next=21;break}return e.next=13,Object($["a"])("userApp",i).catch((function(){return[]}));case 13:return l=e.sent,d=N["a"].state.user.allAuth,u=Object(W["generateCustomRouter"])(d,l),N["a"].commit("appModule/SET_APP_ROUTERS",Object(V["a"])({},i,u),{root:!0}),e.abrupt("return",u);case 21:return e.abrupt("return",[]);case 22:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function X(){return{token:"1111111111111"}}E["b"].beforeEach(function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,c,r,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(N["a"].commit("CLEAR_CANCEL_TOKEN"),i=t.redirectedFrom,"login"===a.name&&"/404"===t.path&&i.includes("404")&&(i="/"),!t.meta.disabled){e.next=6;break}return n(!1),e.abrupt("return");case 6:if(R.a.start(),!window.accessLogin){e.next=11;break}return n(),R.a.done(),e.abrupt("return");case 11:if(e.prev=11,c=X(),!c.token){e.next=18;break}if(N["a"].commit("SET_AUTH",{adminToken:c.token},{root:!0}),N["a"].getters.userInfo){e.next=18;break}return e.next=18,N["a"].dispatch("GetUserInfo");case 18:return e.next=20,Object(P["b"])();case 20:if("login"!==t.name){e.next=24;break}n({path:"/"}),e.next=54;break;case 24:if(0!==N["a"].getters.addRouters.length){e.next=48;break}return e.next=27,N["a"].dispatch("getAuth");case 27:return r=e.sent,e.next=30,N["a"].dispatch("GenerateRoutes",r);case 30:return E["b"].addRoutes(N["a"].getters.addRouters),e.next=33,H(t);case 33:if(s=e.sent,s.length&&E["b"].addRoutes(s),K(),!q.includes(t.path)){e.next=45;break}if(!Object(U["a"])(N["a"].getters.addRouters)||0!==N["a"].getters.addRouters.length){e.next=42;break}throw new Error("routeError");case 42:n({path:i||"/",replace:!0});case 43:e.next=46;break;case 45:n(Object(o["a"])(Object(o["a"])({},t),{},{replace:!0}));case 46:e.next=53;break;case 48:return K(),e.next=51,H(t);case 51:l=e.sent,l.length?(E["b"].addRoutes(l),q.includes(t.path)?n({path:i||"/",replace:!0}):n(Object(o["a"])(Object(o["a"])({},t),{},{replace:!0}))):n();case 53:R.a.done();case 54:e.next=69;break;case 56:if(e.prev=56,e.t0=e["catch"](11),G(),(!e.t0||302!==e.t0.code&&1007!==e.t0.code)&&Y()){e.next=68;break}return K(),e.next=64,Object(P["c"])();case 64:J(t,a,n),R.a.done(),e.next=69;break;case 68:Object(P["b"])().then((function(a){e.t0?"noAuth"===t.name?n():n("/noAuth"):q.includes(t.path)?n(i||"/"):n(),R.a.done()})).catch((function(){J(t,a,n),R.a.done()}));case 69:case"end":return e.stop()}}),e,null,[[11,56]])})));return function(t,a,n){return e.apply(this,arguments)}}()),E["b"].afterEach((function(){R.a.done()})),E["b"].onError((function(e){var t=/Loading chunk (\d)+ failed/g,a=e.message.match(t),n=E["b"].history.pending.fullPath;a&&E["b"].replace(n)}));a("9ddc");var ee=a("b828"),te=a("1d33"),ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-flexbox-item",style:e.style},[e._t("default")],2)},ne=[],ie=(a("a9e3"),["-moz-box-","-webkit-box-",""]),oe={name:"FlexboxItem",props:{span:[Number,String],order:[Number,String]},data:function(){return{bodyWidth:0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!==0&&(e[t]="".concat(this.$parent.gutter,"px")),this.span)for(var a=0;a<ie.length;a++)e["".concat(ie[a],"flex")]="0 0 ".concat(100*this.buildWidth(this.span),"%");return"undefined"!==typeof this.order&&(e.order=this.order),e}},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"===typeof e?e<1?e:e/12:"string"===typeof e?e.replace("px","")/this.bodyWidth:void 0}}},ce=oe,re=Object(_["a"])(ce,ae,ne,!1,null,null,null),se=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.id?a("el-popover",{key:e.src,staticClass:"xr-avatar",attrs:{"visible-arrow":!1,trigger:e.trigger,disabled:e.popoverDisabled,placement:"bottom",width:"250","popper-class":"no-padding-popover"},model:{value:e.popoverShow,callback:function(t){e.popoverShow=t},expression:"popoverShow"}},[a("xr-user-view",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userData,src:e.imageCache[e.src]||e.defaultHead}}),e._v(" "),a("el-avatar",e._b({key:e.src,class:{"cursor-pointer":!e.disabled},style:{fontSize:e.fontSize,background:e.background},attrs:{slot:"reference",src:e.imageCache[e.src]||e.defaultHead,size:e.size,fit:"fill"},slot:"reference"},"el-avatar",e.$attrs,!1))],1):e.previewType&&!e.disabled?a("el-popover",{key:e.src,staticClass:"xr-avatar",attrs:{placement:"bottom",width:"196px","popper-class":"no-padding-popover",trigger:e.trigger}},[a("el-image",{staticStyle:{width:"180px",height:"180px",padding:"8px"},attrs:{src:e.imageCache[e.src]||e.defaultHead,fit:"fill"}}),e._v(" "),a("el-avatar",e._b({key:e.src,staticClass:"xr-avatar",class:{"cursor-pointer":!e.disabled},style:{fontSize:e.fontSize,background:e.background},attrs:{slot:"reference",src:e.imageCache[e.src]||e.defaultHead,size:e.size,fit:"fill"},slot:"reference"},"el-avatar",e.$attrs,!1))],1):a("el-tooltip",{staticClass:"xr-avatar",attrs:{effect:"dark",placement:"top"}},[a("template",{slot:"content"},[e.isWxUser?a("wx-open-data",{attrs:{openid:e.name,type:e.wxType}}):[e._v(e._s(e.name))]],2),e._v(" "),a("el-avatar",e._b({key:e.src,staticClass:"xr-avatar",class:{"cursor-pointer":!e.disabled},style:{fontSize:e.fontSize,background:e.background},attrs:{src:e.imageCache[e.src]||e.defaultHead,size:e.size,fit:"fill"}},"el-avatar",e.$attrs,!1))],2)},de=[],ue=(a("3ca3"),a("ddb0"),a("2934")),me=a("a347"),fe=a.n(me),he={name:"XrAvatar",components:{XrUserView:function(){return a.e("chunk-242cf092").then(a.bind(null,"6c4d"))}},inheritAttrs:!1,props:{name:String,id:[Number,String],size:{type:[Number,String],default:38},wxType:{type:String,default:"userName"},src:String,previewType:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},trigger:{type:String,default:"click"},background:{type:String,default:fe.a.colorPrimary}},data:function(){return{popoverShow:!1,loading:!1,userData:null,defaultHead:a("4c45")}},computed:{imageCache:function(){return N["a"].state.app.imageCache},isWxUser:function(){var e=N["a"].state.user.userInfo;return!!e&&[3,4].includes(e.loginType)},fontSize:function(){return this.size<=30?"12px":"14px"},showName:function(){return this.name&&this.name.length>2?this.name.slice(-2):this.name},popoverDisabled:function(){return!!this.disabled||!this.id}},watch:{popoverShow:function(e){this.userData||this.getUserData()},src:{handler:function(){this.handleImage()},immediate:!0}},created:function(){},beforeDestroy:function(){},methods:{handleImage:function(){var e=this;if(this.src&&!this.imageCache.hasOwnProperty(this.src)){if(this.$set(this.imageCache,this.src,""),this.$store.commit("SET_IMAGECACHE",this.imageCache),this.src.startsWith("data:"))return;Object(f["n"])(this.src).then((function(t){e.$set(e.imageCache,e.src,t.src),e.$store.commit("SET_IMAGECACHE",e.imageCache)})).catch((function(){delete e.imageCache[e.src],e.$store.commit("SET_IMAGECACHE",e.imageCache)}))}},getUserData:function(){var e=this;Object(ue["o"])({userId:this.id}).then((function(t){e.userData=t.data})).catch((function(){}))}}},pe=he,ve=(a("c9f6"),Object(_["a"])(pe,le,de,!1,null,"7091f173",null)),be=ve.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.openid))])},ye=[],we={name:"WxOpenData",props:{openid:{type:String}}},ke=we,Ce=Object(_["a"])(ke,ge,ye,!1,null,"0b1ad3f7",null),xe=Ce.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide-fade"}},[e.visible?a("div",{staticClass:"file-upload"},[a("flexbox",{staticClass:"file-upload__header"},[a("div",{staticClass:"title"},[e._v("附件上传")]),e._v(" "),a("div",[a("el-button",{staticClass:"unfold-button",attrs:{icon:e.unfoldIcon},on:{click:e.unfoldClick}}),e._v(" "),a("el-button",{staticClass:"close-button",attrs:{icon:"el-icon-close"},on:{click:e.close}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isUnfold,expression:"isUnfold"}],staticClass:"file-upload__body"},e._l(e.uploadList,(function(t,n){return a("wk-upload-cell",{key:n,attrs:{index:n,file:t.file,request:t.request,params:t.params,complete:t.complete},on:{completed:e.uploadCompleted,delete:e.uploadDelete,cancelTokenChange:e.cancelTokenChange}})})))],1):e._e()])},_e=[],je=(a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"wk-upload-cell"},[a("img",{staticClass:"wk-upload-cell__header",attrs:{src:e.fileIcon}}),e._v(" "),a("div",{staticClass:"wk-upload-cell__body"},[a("div",{staticClass:"text-one-line"},[e._v(e._s(e.file.name)),a("span",{staticStyle:{color:"#6b778c"}},[e._v(e._s(e.fileSize))])]),e._v(" "),a("el-progress",{attrs:{"stroke-width":3,"show-text":!1,percentage:e.complete?100:e.percentage}})],1),e._v(" "),a("div",{staticClass:"wk-upload-cell__footer"},[a("el-button",{attrs:{icon:e.handleIcon},on:{click:e.cancelRequest}})],1)])}),Oe=[],Fe=a("bc3a"),Te=a.n(Fe),Ae={name:"WkUploadCell",components:{},props:{file:{type:File,required:!0},index:Number,request:Function,complete:{type:Boolean,default:!1},params:Object},data:function(){return{percentage:0,cancel:null}},computed:{handleIcon:function(){return this.complete?"el-icon-check":"el-icon-close"},fileIcon:function(){return Object(f["m"])(this.file)},fileSize:function(){return"（".concat(Object(f["g"])(this.file.size),"）")}},watch:{file:{handler:function(){this.file&&!this.complete&&0==this.percentage&&this.uploadFile()},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{uploadFile:function(){var e=this,t=this.request?this.request:ue["f"],a=this.params?this.params:{};a.file=this.file;var n=Te.a.CancelToken,i=this,o={onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.percentage=a},cancelToken:new n((function(e){i.cancel=e,i.$emit("cancelTokenChange",e,i.index)}))};t(a,o).then((function(t){e.$emit("completed",e.index,t)})).catch((function(){e.$emit("error",e.index)}))},cancelRequest:function(){this.complete||(this.cancel(),this.$emit("delete",this.index))}}},De=Ae,Se=(a("ae4b"),Object(_["a"])(De,je,Oe,!1,null,"34a1b139",null)),Le=Se.exports,Ee={name:"FileUpload",components:{WkUploadCell:Le},props:{},data:function(){return{visible:!1,isUnfold:!0,uploadList:[]}},computed:{unfoldIcon:function(){return this.isUnfold?"el-icon-minus":"el-icon-plus"}},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{upload:function(e){var t=this;return this.visible=!0,new Promise((function(a,n){t.uploadList.push(Object(o["a"])(Object(o["a"])({},e),{},{complete:!1,resolve:a,reject:n}))}))},close:function(){for(var e=this,t=!0,a=0;a<this.uploadList.length;a++){var n=this.uploadList[a];if(!n.complete){t=!1;break}}t?(this.uploadList=[],this.visible=!1):this.$confirm("关闭窗口，将取消上传任务，是否继续?","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=0;t<e.uploadList.length;t++){var a=e.uploadList[t];a.cancelToken&&a.cancelToken()}e.uploadList=[],e.visible=!1})).catch((function(){e.isUnfold=!1}))},unfoldClick:function(){this.isUnfold=!this.isUnfold},uploadCompleted:function(e,t){var a=this.uploadList[e];a.res=t,a.complete=!0,a.resolve&&a.resolve(a)},uploadDelete:function(e){this.uploadList.splice(e,1)},cancelTokenChange:function(e,t){var a=this.uploadList[t];this.$set(a,"cancelToken",e)}}},Ne=Ee,Ve=(a("a049"),Object(_["a"])(Ne,Ie,_e,!1,null,"551476fe",null)),Me=Ve.exports,Be={install:function(e){var t=e.extend(Me),a=new t({el:document.createElement("div")});document.body.appendChild(a.$el),e.prototype.$wkUploadFile=a}},Re=Be,Ue=Re,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("input",{ref:"wkFileInput",staticStyle:{display:"none"},attrs:{name:e.data.name,multiple:e.data.multiple,accept:e.data.accept,type:"file"},on:{change:e.handleChange}})},We=[],$e=a("8ed6"),ze={name:"file",accept:"*.*",multiple:!0},qe={name:"WkFile",components:{},props:{},data:function(){return{data:{},resolve:null}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleChange:function(e){this.resolve(e)},select:function(e){var t=this;return new Promise((function(a,n){t.data=Object($e["a"])(Object(o["a"])({},ze),e||{}),t.$nextTick((function(){t.$refs.wkFileInput.value=null,t.$refs.wkFileInput.click(),t.resolve=a}))}))}}},Ze=qe,Ye=Object(_["a"])(Ze,Pe,We,!1,null,"a6356b5c",null),Ge=Ye.exports,Ke={install:function(e){var t=e.extend(Ge),a=new t({el:document.createElement("div")});document.body.appendChild(a.$el),e.prototype.$wkFile=a}},Je=Ke,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",{ref:"vuePictureViewer",style:e.maskContainer,attrs:{id:"vue-picture-viewer"},on:{mouseup:function(t){e.removeMove()}}},[a("div",{staticClass:"perview-header"},[a("span",[e._v(e._s(e.title))])]),e._v(" "),a("div",{ref:"imgContainer",staticClass:"imgContainer"},[e.bigShowType.isImage?a("img",{directives:[{name:"src",rawName:"v-src",value:e.bigImgUrl,expression:"bigImgUrl"}],ref:"bigImg",style:"transform: scale("+e.imgScale+") rotate("+e.imgRotate+"deg);margin-top:"+e.imgTop+"px;margin-left:"+e.imgLeft+"px;max-width:80%;max-height:80%;",attrs:{alt:""},on:{click:function(e){e.stopPropagation()},mousedown:e.addMove}}):e._e(),e._v(" "),e.bigShowType.isImage?e._e():a("div",{staticClass:"file-show"},[e.showPreviewBtn?e._e():a("div",{staticClass:"title"},[e._v("该附件格式不支持预览，请下载后查看")]),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:e.closeViewer}}),e._v(" "),a("div",{staticClass:"content"},[a("img",{staticClass:"file-icon",attrs:{src:e.bigShowType.icon}}),e._v(" "),a("div",{staticClass:"file-handle"},[e.showPreviewBtn?a("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(t){return e.previewFile(t)}}},[e._v("预览")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.downloadFile(t)}}},[e._v("下载")])],1)])]),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTips,expression:"showTips"}],staticClass:"tips"},[e._v(e._s(e.tipsText))])])],1),e._v(" "),a("div",{staticClass:"fixedHandle"},[e.bigShowType.isImage?a("flexbox",{staticClass:"handleContainer"},[a("div",{staticClass:"handle-box"},[a("i",{staticClass:"wk wk-zoom-in",on:{click:e.enlarge}}),e._v(" "),a("i",{staticClass:"wk wk-zoom-on",on:{click:e.reduce}}),e._v(" "),a("i",{staticClass:"wk wk-rotate",on:{click:e.rotate}}),e._v(" "),a("i",{staticClass:"wk wk-download",on:{click:e.downloadFile}})]),e._v(" "),a("div",{staticClass:"icon-btn",on:{click:e.closeViewer}},[a("i",{staticClass:"el-icon-close"})])]):e._e(),e._v(" "),e.imgLength>1?a("div",{staticClass:"thumbnailContainer"},[a("ul",e._l(e.imgData,(function(t,n){return a("li",{key:n,ref:"thumbnailItem",refInFor:!0,on:{click:function(t){e.switchImgUrl(n,t)}}},[e.isShowImage(t.name)?a("img",{directives:[{name:"src",rawName:"v-src",value:t.url,expression:"item.url"}],attrs:{alt:""}}):a("img",{attrs:{src:e.getFileTypeIconWithSuffix(t.name),alt:""}})])})))]):e._e()],1),e._v(" "),a("div",{staticClass:"leftArrowCon",on:{click:e.handlePrev,mouseenter:e.enterLeft,mouseout:e.outLeft}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.leftArrowShow,expression:"leftArrowShow"}],staticClass:"icon-btn leftArrow"},[a("i",{staticClass:"el-icon-arrow-left"})])]),e._v(" "),a("div",{staticClass:"rightArrowCon",on:{click:e.handleNext,mouseenter:e.enterRight,mouseout:e.outRight}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.rightArrowShow,expression:"rightArrowShow"}],staticClass:"icon-btn rightArrow"},[a("i",{staticClass:"el-icon-arrow-right"})])])]):e._e()},Qe=[],Xe=(a("99af"),{name:"WkPreviewFile",props:{},data:function(){return{visible:!1,imgData:[],background:"rgba(0,0,0,0.4)",selectIndex:-1,leftArrowShow:!1,rightArrowShow:!1,bigShowType:{isImage:!0,icon:""},bigImgName:"",imgLength:0,imgIndex:0,showTips:!1,tipsText:"",maskContainer:{width:"100%",height:"100%",background:this.background,position:"fixed",top:0,left:0,right:0,bottom:0},imgTop:0,imgLeft:0,imgScale:1,imgRotate:0,clientX:0,clientY:0}},computed:{title:function(){var e=this.bigImgName.slice(0,this.bigImgName.indexOf("."));return"".concat(e," （").concat(this.imgIndex+1," / ").concat(this.imgLength,"）")},currentFile:function(){return this.imgData[this.imgIndex]},bigImgUrl:function(){return this.currentFile.url},showPreviewBtn:function(){return Object(f["b"])(this.currentFile.name)}},methods:{preview:function(e){var t=this;this.selectIndex=e.index,this.imgData=e.data,this.imgLength=this.imgData.length,this.imgIndex=this.selectIndex,this.showPreviewBtn?Object(f["C"])(this.currentFile.url,this.currentFile.name):(this.visible=!0,this.$nextTick((function(){var e=document.getElementById("vue-picture-viewer");e.onmousewheel=t.scrollFunc,document.body.addEventListener("DOMMouseScroll",t.scrollFunc),document.ondragstart=function(){return!1},document.getElementById("vue-picture-viewer").addEventListener("click",(function(e){e.stopPropagation()})),t.$nextTick((function(){if(t.bigImgName=t.imgData[t.imgIndex].name,t.getShowTypeInfo(t.bigImgName),t.imgLength>1){var e=t.$refs.thumbnailItem;e[t.imgIndex].className="borderActive"}t.init()})),t.maskContainer["z-index"]=Object(f["o"])()})))},init:function(){this.imgTop=0,this.imgLeft=0,this.imgScale=1,this.imgRotate=0,this.clientX=0,this.clientY=0},enlarge:function(){this.imgScale>=5||(this.imgScale+=.15)},reduce:function(){this.imgScale<=.2||(this.imgScale-=.15)},rotate:function(){this.imgRotate-=90},switchImgUrl:function(e,t){var a=this.$refs.thumbnailItem;a.forEach((function(e){e.className=""})),this.imgIndex=e,this.bigImgName=this.imgData[e].name,this.getShowTypeInfo(this.bigImgName),t.currentTarget.className="borderActive",this.bigShowType.isImage&&this.init()},handlePrev:function(){if(this.imgIndex<=0)this.tips("已经是第一张了!"),this.imgIndex=0;else{this.imgIndex--,this.bigImgName=this.imgData[this.imgIndex].name,this.getShowTypeInfo(this.bigImgName);var e=this.$refs.thumbnailItem;e.forEach((function(e){e.className=""})),e[this.imgIndex].className="borderActive",this.bigShowType.isImage&&this.init()}},handleNext:function(){if(this.imgIndex+1>=this.imgData.length)this.tips("已经是最后一张了!");else{this.imgIndex++,this.bigImgName=this.imgData[this.imgIndex].name,this.getShowTypeInfo(this.bigImgName);var e=this.$refs.thumbnailItem;e.forEach((function(e){e.className=""})),e[this.imgIndex].className="borderActive",this.bigShowType.isImage&&this.init()}},tips:function(e){this.showTips=!0,this.tipsText=e;var t=this;setTimeout((function(){t.showTips=!1}),1e4)},enterLeft:function(){this.leftArrowShow=!0},outLeft:function(){this.leftArrowShow=!1},enterRight:function(){this.rightArrowShow=!0},outRight:function(){this.rightArrowShow=!1},closeViewer:function(){document.getElementById("vue-picture-viewer")&&(document.getElementById("vue-picture-viewer").removeEventListener("click",(function(e){e.stopPropagation()})),document.body.removeEventListener("DOMMouseScroll",this.scrollFunc),document.ondragstart=null),this.visible=!1,this.imgData=[],this.selectIndex=-1,this.showTips=!1},downloadFile:function(){var e=this;Object(ue["i"])(this.currentFile.url).then((function(t){Object(f["f"])(t.data,e.currentFile.name)})).catch((function(){}))},previewFile:function(){this.currentFile.url&&Object(f["C"])(this.currentFile.url,this.currentFile.name)},getShowTypeInfo:function(e){var t=e?e.split("."):[],a="";a=t.length>0?t[t.length-1]:"";var n=Object(f["l"])(a),i=["jpg","png","gif","jpeg","bmp","ico"].includes(a.toLowerCase());this.bigShowType={isImage:i,icon:n}},getFileTypeIconWithSuffix:function(e){var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",Object(f["l"])(a)},isShowImage:function(e){var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",["jpg","png","gif","jpeg"].includes(a.toLowerCase())},removeMove:function(){this.$refs.vuePictureViewer.onmousemove=null},addMove:function(e){e=e||window.event,this.clientX=e.clientX,this.clientY=e.clientY,this.$refs.vuePictureViewer.onmousemove=this.moveFunc},moveFunc:function(e){e=e||window.event,e.preventDefault();var t=e.clientX-this.clientX,a=e.clientY-this.clientY;this.imgLeft+=2*t,this.imgTop+=2*a,this.clientX=e.clientX,this.clientY=e.clientY},scrollFunc:function(e){e=e||window.event,e.delta=e.wheelDelta||-e.detail,e.preventDefault(),e.delta>0&&this.enlarge(),e.delta<0&&this.reduce()}}}),et=Xe,tt=(a("1eeb"),Object(_["a"])(et,He,Qe,!1,null,"224aa845",null)),at=tt.exports,nt={install:function(e){var t=e.extend(at),a=new t({el:document.createElement("div")});document.body.appendChild(a.$el),e.prototype.$wkPreviewFile=a}},it=nt,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main"},[n("el-dialog",{attrs:{visible:e.showCRMExport,title:"导出"+e.crmTypeName,"append-to-body":!0,"close-on-click-modal":!1,width:"750px"},on:{close:e.closeView}},[n("div",{staticClass:"dialog-body"},[n("el-steps",{attrs:{active:e.stepsActive,"align-center":""}},[n("el-step",{attrs:{title:"导出配置"}}),e._v(" "),n("el-step",{attrs:{title:"导出完成"}})],1),e._v(" "),1!=e.stepsActive||e.exportLoading?e._e():n("div",{staticClass:"step-section"},[n("flexbox",{staticClass:"field",attrs:{direction:"column",align:"stretch"}},[n("div",{staticClass:"title"},[e._v("选择字段导出范围：")]),e._v(" "),n("div",{staticClass:"field-list"},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),n("el-checkbox-group",{on:{change:e.handleChange},model:{value:e.selectionList,callback:function(t){e.selectionList=t},expression:"selectionList"}},e._l(e.fieldList,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.sortId}},[e._v(e._s(t.label))])})))],1),e._v(" "),n("div",{staticClass:"select-num"},[e._v("已选择"+e._s(e.selectionList.length)+"项")])]),e._v(" "),n("div",{staticClass:"fileType"},[n("div",{staticClass:"title"},[e._v("选择导出文件类型")]),e._v(" "),n("el-radio-group",{model:{value:e.fileType,callback:function(t){e.fileType=t},expression:"fileType"}},[n("el-radio",{attrs:{label:1}},[e._v("xls")]),e._v(" "),n("el-radio",{attrs:{label:2}},[e._v("csv")])],1)],1)],1),e._v(" "),e.exportLoading?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.exportLoading,expression:"exportLoading"}],staticClass:"step-section",attrs:{"element-loading-text":"正在导出中","element-loading-spinner":"el-icon-loading"}}):e._e(),e._v(" "),2==e.stepsActive?n("div",{staticClass:"step-section"},[n("div",{staticClass:"success"},[n("img",{attrs:{src:a("d284")}}),e._v(" "),n("div",[e._v(e._s(e.doneTips))])])]):e._e()],1),e._v(" "),e.exportLoading?e._e():n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[1==e.stepsActive?n("el-button",{attrs:{type:"primary"},on:{click:e.sureClick}},[e._v("立即导出")]):n("el-button",{attrs:{type:"primary"},on:{click:e.closeView}},[e._v("确认")]),e._v(" "),n("el-button",{on:{click:e.closeView}},[e._v("取消")])],1)])],1)},ct=[],rt=(a("d81d"),a("e170")),st={name:"WkExport",data:function(){return{loading:!1,showCRMExport:!1,crmProps:null,crmType:"",fieldList:[],selectionList:[],fileType:1,stepsActive:1,checkAll:!1,isIndeterminate:!1,isObjectMes:!1,exportLoading:!1}},computed:{crmTypeName:function(){return this.crmProps&&this.crmProps.typeName?this.crmProps.typeName:{customer:"客户",leads:"线索",contacts:"联系人",applet:"名片",business:"商机",contract:"合同",receivables:"回款",product:"产品",invoice:"发票",receivablesPlan:"回款计划"}[this.crmType]||""},doneTips:function(){return this.isObjectMes?"导出成功，请稍后前往系统右上角《消息/待办-消息提醒》中下载本次导出文件":"导出完成"}},methods:{export:function(e,t){this.crmType=e,this.crmProps=Object($e["a"])({idKey:"id",selectsKey:"sortIds"},t||{}),this.showCRMExport=!0,this.getFieldList()},sureClick:function(){var e=this;if(0!=this.selectionList.length){this.exportLoading=!0;var t=Object(o["a"])({isXls:this.fileType},this.crmProps.params);this.isObjectMes=!1,t[this.crmProps.selectsKey]=this.selectionList,this.crmProps.request(t).then((function(t){t.data instanceof Blob?(Object(f["d"])(t),e.exportLoading=!1,e.stepsActive=2):Object(U["c"])(t)&&0===t.code&&(e.isObjectMes=!0,e.stepsActive=2,e.exportLoading=!1)})).catch((function(){e.exportLoading=!1}))}else this.$message.error("请选择字段导出范围")},getFieldList:function(){var e=this;this.loading=!0;var t={};this.crmProps.fieldParams?t=this.crmProps.fieldParams:this.crmProps.isSeas?this.crmProps.poolId&&(t.poolId=this.crmProps.poolId):t.label=void 0;var a=this.crmProps.fieldRequest||(this.crmProps.isSeas?rt["c"]:rt["d"]);a(t).then((function(t){t.data=t.data.filter((function(e){return!e.hasOwnProperty("formType")||e.formType&&!["handwriting_sign","desc_text"].includes(e.formType)}));for(var a=[],n=[],i=0;i<t.data.length;i++){var o=t.data[i],c=0;c=o.width?o.width:o.name&&o.name.length<=6?15*o.name.length+45:140,a.push({prop:o.fieldName,formType:o.formType,label:o.name,width:c,sortId:o[e.crmProps.idKey]}),n.push(o[e.crmProps.idKey])}e.fieldList=a,e.selectionList=n,e.checkAll=!0,e.loading=!1})).catch((function(){e.loading=!1}))},handleSelectionChange:function(e){this.selectionList=e},closeView:function(){this.exportLoading||(this.showCRMExport=!1,this.stepsActive=1,this.selectionList=[])},handleCheckAllChange:function(e){this.selectionList=e?this.fieldList.map((function(e){return e.sortId})):[],this.isIndeterminate=!1},handleChange:function(e){var t=e.length;this.checkAll=t===this.fieldList.length,this.isIndeterminate=t>0&&t<this.fieldList.length}}},lt=st,dt=(a("70a5"),Object(_["a"])(lt,ot,ct,!1,null,"24df302b",null)),ut=dt.exports,mt={install:function(e){var t=e.extend(ut),a=new t({el:document.createElement("div")});document.body.appendChild(a.$el),e.prototype.$wkExport=a}},ft=mt;window.dataCache={};var ht=function(e,t){var n=a("b697");if(pt(e,t,n),!t.value||0!=t.value.indexOf("/file/downFile")&&0!=t.value.indexOf("/adminFile/down")&&0!=t.value.indexOf("/scrmFile/down"))pt(e,t,t.value);else{var i="".concat("/").concat(t.value);pt(e,t,i.replace("//","/")+"?c=".concat(Te.a.defaults.headers["AUTH-TOKEN"]))}},pt=function(e,t,a){if(t.arg?e.style[t.arg]='url("'+a+'")':e.setAttribute("src",a),"IMG"!==e.tagName){var n=document.createEvent("HTMLEvents");n.initEvent("load",!1,!0),e.dispatchEvent(n)}},vt={name:"src",inserted:function(e,t){ht(e,t)},update:function(e,t){t.oldValue!=t.value&&ht(e,t)},unbind:function(e){}};function bt(e,t){return t||(t="YYYY-MM-DD HH:mm"),e&&0!=e?Object(f["A"])(e,t):""}function gt(e){return Object(f["i"])(e)}function yt(e){return{src:e,error:a("4c45"),loading:a("f8b2")}}function wt(e){return e.startsWith("wk")?e:"wk wk-".concat(e)}var kt=a("6612"),Ct=a.n(kt),xt=(a("e562"),a("8c73")),It={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.locale,n=void 0===a?"en-gb":a;Ct.a.locale(n),e.filter("abbreviate",xt["a"]),e.filter("bytes",xt["b"]),e.filter("exponential",xt["d"]),e.filter("numeral",xt["e"]),e.filter("ordinal",xt["f"]),e.filter("percentage",xt["g"]),e.filter("separator",xt["h"]),e.filter("currency",xt["c"])}},_t=It;"undefined"!==typeof window&&window.Vue&&Vue.use(It);var jt,Ot=a("c1df"),Ft=a.n(Ot),Tt={install:function(e){e.directive("WkNumber",{update:function(e,t){var a=t.value,n=e.getElementsByTagName("input")[0],i=n.value;if("positiveInt"==a?(n.value=n.value.replace(/[^\d]/g,""),n.value.indexOf(".")<0&&""!=n.value&&(n.value=parseInt(n.value))):"positive2Float"==a?(n.value=n.value.replace(/[^\d.]/g,""),n.value=n.value.replace(/^(\d+)\.(\d\d).*$/,"$1.$2")):"positive3Float"==a?(n.value=n.value.replace(/[^\d.]/g,""),n.value=n.value.replace(/^(\d+)\.(\d\d\d).*$/,"$1.$2")):"positive4Float"==a?(n.value=n.value.replace(/[^\d.]/g,""),n.value=n.value.replace(/^(\d+)\.(\d\d\d\d).*$/,"$1.$2")):"positiveFloat"==a?(n.value=n.value.replace(/[^\d.-]/g,""),n.value=n.value.replace(/^(\d+)\.(\d+).*$/,"$1.$2"),n.value=n.value.replace(/^\-{2,}$/,"-"),n.value=n.value.replace(/^\-?(\d+)\-+$/,"$1"),n.value=n.value.replace(/^(\-?\d+)\.\-+$/,"$1."),n.value=n.value.replace(/^(\-?\d+)\.(\d+)\-$/,"$1.$2")):"positiveNum"==a?n.value=n.value.replace(/[^\d.]/g,""):(n.value=n.value.replace(/[^\-?\d.]/g,""),a||(n.value=n.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"))),n.value){var o=n.value.split(".");o.length>2&&(n.value="".concat(o[0],".").concat(o[1]))}n.value!=i&&n.dispatchEvent(new Event("input"))}})}},At={bind:function(e,t,a){function n(a){if(e.contains(a.target))return!1;t.expression&&t.value(a)}e.__vueClickOutside__=n,document.addEventListener("click",n)},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}},Dt=At,St=a("26a1"),Lt=[],Et="@@wkClickoutsideContext",Nt=0;function Vt(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(a&&a.context&&n.target&&i.target)||e.contains(n.target)||e.contains(i.target)||e===n.target||a.context.popperElm&&(a.context.popperElm.contains(n.target)||a.context.popperElm.contains(i.target))||(t.expression&&e[Et].methodName&&a.context[e[Et].methodName]?a.context[e[Et].methodName]():e[Et].bindingFn&&e[Et].bindingFn())}}!i["default"].prototype.$isServer&&Object(St["b"])(document,"mousedown",(function(e){return jt=e})),!i["default"].prototype.$isServer&&Object(St["b"])(document,"mouseup",(function(e){Lt.forEach((function(t){return t[Et].documentHandler(e,jt)}))}));var Mt={bind:function(e,t,a){Lt.push(e);var n=Nt++;e[Et]={id:n,documentHandler:Vt(e,t,a),methodName:t.expression,bindingFn:t.value}},update:function(e,t,a){e[Et].documentHandler=Vt(e,t,a),e[Et].methodName=t.expression,e[Et].bindingFn=t.value},unbind:function(e){for(var t=Lt.length,a=0;a<t;a++)if(Lt[a][Et].id===e[Et].id){Lt.splice(a,1);break}delete e[Et]}},Bt=i["default"].directive("permission",{inserted:function(e,t){var a=Object(f["q"])(N["a"].state.user,t.value);e.setAttribute("default-style",e.style.display),a||(e.style.display="none")},update:function(e,t){if(t.value!=t.oldValue){var a=Object(f["q"])(N["a"].state.user,t.value);e.style.display=a?e.getAttribute("default-style"):"none"}}}),Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"empty-mask",class:[e.customClass],style:{backgroundColor:e.background||""}},[a("div",{staticClass:"empty-content"},[e.iconUrl?a("img",{staticClass:"empty-icon",attrs:{src:e.iconUrl}}):e._e(),e._v(" "),e.showText?a("p",{staticClass:"empty-text"},[e._v(e._s(e.showText))]):e._e()])])},Ut=[],Pt={data:function(){return{text:null,background:null,visible:!1,icon:null,customClass:""}},computed:{iconUrl:function(){return this.icon?"none"===this.icon?"":"nopermission"===this.icon?a("4558"):a("b45c"):a("b45c")},showText:function(){return this.text?this.text:"没有找到数据"}},methods:{setText:function(e){e&&(this.text=e)},setIcon:function(e){this.icon=e}}},Wt=Pt,$t=(a("73a3"),Object(_["a"])(Wt,Rt,Ut,!1,null,"48df67af",null)),zt=$t.exports,qt=a("526f"),Zt=i["default"].extend(zt),Yt={install:function(e){if(!e.prototype.$isServer){var t=function(t,n){"[object Array]"===Object.prototype.toString.call(n.value)&&0===n.value.length||"[object Array]"!==Object.prototype.toString.call(n.value)&&n.value?e.nextTick((function(){t.wkEmptyOriginalPosition=Object(qt["b"])(t,"position"),a(t,t,n)})):(t.wkEmptyVisible=!1,Object(qt["e"])(t,"xs-empty-parent--relative"),Object(qt["e"])(t,"xs-empty-parent--hidden"),t.wkEmptyInstance.visible=!1)},a=function(t,a,n){a.wkEmptyVisible||"none"===Object(qt["b"])(a,"display")||"hidden"===Object(qt["b"])(a,"visibility")||(Object.keys(a.wkEmptyMaskStyle).forEach((function(e){a.wkEmptyMask.style[e]=a.wkEmptyMaskStyle[e]})),"absolute"!==a.wkEmptyOriginalPosition&&"fixed"!==a.wkEmptyOriginalPosition&&Object(qt["a"])(t,"xs-empty-parent--relative"),a.wkEmptyVisible=!0,t.appendChild(a.wkEmptyMask),e.nextTick((function(){a.wkEmptyInstance.visible=!0})),a.wkEmptyInserted=!0)};e.directive("empty",{bind:function(e,a,n){var i=e.getAttribute("xs-empty-text"),o=e.getAttribute("xs-empty-icon"),c=e.getAttribute("xs-empty-background"),r=e.getAttribute("xs-empty-custom-class"),s=n.context,l=new Zt({el:document.createElement("div"),data:{text:s&&s[i]||i,icon:s&&s[o]||o,background:s&&s[c]||c,customClass:s&&s[r]||r}});e.wkEmptyInstance=l,e.wkEmptyMask=l.$el,e.wkEmptyMaskStyle={},a.value&&t(e,a)},update:function(e,a){e.wkEmptyInstance.setText(e.getAttribute("xs-empty-text")),e.wkEmptyInstance.setIcon(e.getAttribute("xs-empty-icon")),a.oldValue!==a.value&&t(e,a)},unbind:function(e,a){e.wkEmptyInserted&&(e.wkEmptyMask&&e.wkEmptyMask.parentNode&&e.wkEmptyMask.parentNode.removeChild(e.wkEmptyMask),t(e,{value:!1,modifiers:a.modifiers}))}})}}},Gt=Yt,Kt=a("7a1a"),Jt=null,Ht={name:"debounce",install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.defaultTime,n=void 0===a?300:a;e.directive("debounce",{bind:function(e,t){var a=t.value,i=t.arg;t.modifiers;Jt=Object(Kt["debounce"])(i||n,a),Object(St["b"])(e,"click",Jt)},unbind:function(e){Jt&&Object(St["a"])(e,"click",Jt)}})}};i["default"].use(u["a"]),window.WKConfig=m["a"],i["default"].prototype.WKConfig=m["a"],i["default"].prototype.$auth=f["p"],i["default"].use(p.a);var Qt=function(e){return e.hasOwnProperty("duration")||(e.duration=1500),Object(h["Message"])(e)},Xt=["success","warning","info","error"];Xt.forEach((function(e){var t=1500;Qt[e]=function(a){return Object(h["Message"])({message:a,type:e,duration:t})}})),i["default"].prototype.$message=Qt,i["default"].use(v["a"]),T["a"].loadingCache(),i["default"].use(ee["a"]),i["default"].component("flexbox",te["a"]),i["default"].component("flexbox-item",se),i["default"].component("xr-avatar",be),i["default"].component("WxOpenData",xe),i["default"].use(Ue),i["default"].use(Je),i["default"].use(it),i["default"].use(ft),i["default"].directive("src",vt),Object.keys(n).forEach((function(e){i["default"].filter(e,n[e])})),i["default"].use(_t,{locale:"chs"}),i["default"].use(a("2ead")),Ft.a.locale("zh_cn"),i["default"].use(Tt),i["default"].directive("clickoutside",Dt),i["default"].directive("elclickoutside",Mt),i["default"].directive("permission",Bt),i["default"].use(Gt),i["default"].use(Ht),i["default"].config.productionTip=!1,window.app=new i["default"]({el:"#app",router:E["b"],store:N["a"],render:function(e){return e(L)}})},"57d9":function(e,t,a){},"58c5":function(e,t,a){},"58fa":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-tags-view el-select",class:[e.size?"el-select--"+e.size:"",e.mode?"el-select--"+e.mode:""]},[a("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?a("span",[a("el-tag",{attrs:{closable:!e.disabled,size:e.collapseTagSize,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,0)}}},[a("span",{staticClass:"el-select__tags-text"},[e.wxTypeName?[a("wx-open-data",{attrs:{openid:e.getLabelValue(e.selected[0]),type:e.getWxTypeName(e.selected[0])}})]:[e._v(e._s(e.getLabelValue(e.selected[0])))]],2)]),e._v(" "),e.selected.length>1?a("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[a("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e._v(" "),e.collapseTags?e._e():a("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(t,n){return a("el-tag",{key:n,attrs:{closable:!e.disabled,size:e.collapseTagSize,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,n)}}},[a("span",{staticClass:"el-select__tags-text"},[e.wxTypeName?[a("wx-open-data",{attrs:{openid:e.getLabelValue(t),type:e.getWxTypeName(t)}})]:[e._v(e._s(e.getLabelValue(t)))]],2)])})))],1),e._v(" "),a("el-input",{ref:"reference",staticClass:"tag-input",class:{"is-focus":e.visible,"is-no-border":e.noBorder,"is-show":e.visible},attrs:{id:e.id,type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.size,disabled:e.disabled,readonly:"","validate-event":!1,tabindex:"-1"},nativeOn:{mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?a("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),e._v(" "),a("template",{slot:"suffix"},[a("i",{class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]})])],2),e._v(" "),e._t("default")],2)},i=[],o=(a("4de4"),a("d3b7"),a("7db0"),a("2f7b")),c={name:"WkTagsView",components:{},props:{id:String,valueKey:{type:[String,Array],default:"label"},wxTypeName:String,name:String,autocomplete:{type:String,default:"off"},collapseTags:Boolean,selected:{type:Array,default:function(){return[]}},disabled:Boolean,visible:Boolean,size:String,mode:String,placeholder:{type:String,required:!1},noBorder:{type:Boolean,default:!1}},data:function(){return{inputWidth:0,initialInputHeight:0,inputHovering:!1,selectedLabel:""}},computed:{collapseTagSize:function(){return["small","mini"].indexOf(this.size)>-1?"mini":"small"},iconClass:function(){return this.visible?"arrow-up is-reverse":"arrow-up"},currentPlaceholder:function(){return this.selected&&this.selected.length>0?"":this.placeholder}},watch:{selected:function(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))}},created:function(){},mounted:function(){var e=this;Object(o["a"])(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var a={medium:36,small:32,mini:28},n=t.$el.querySelector("input");this.initialInputHeight=n.getBoundingClientRect().height||a[this.size]}this.resetInputHeight(),this.$nextTick((function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)}))},beforeDestroy:function(){this.$el&&this.handleResize&&Object(o["b"])(this.$el,this.handleResize)},methods:{resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags||this.$nextTick((function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,a=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0],n=e.$refs.tags,i=n?Math.round(n.getBoundingClientRect().height):0,o=e.initialInputHeight||32;a.style.height=0===e.selected.length?o+"px":Math.max(n?i+(i>o?6:0):0,o)+"px"}}))},deleteTag:function(e,t){this.$emit("remove-tag",t),e.stopPropagation()},getLabelValue:function(e){if(Array.isArray(this.valueKey)){var t=this.valueKey.find((function(t){return e[t]}));return t?e[t]:""}return e[this.valueKey]},getWxTypeName:function(e){if(Array.isArray(this.valueKey)){var t=this.valueKey.find((function(t){return e[t]}));return{realname:"userName",name:"departmentName"}[t]}return this.wxTypeName}}},r=c,s=(a("28e0"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"e2840cf2",null);t["a"]=l.exports},"59f7":function(e,t,a){},"5a3e":function(e,t,a){},"5a86":function(e,t,a){"use strict";t["a"]=[{code:11e4,name:"北京市",children:[{code:110100,name:"北京城区",children:[{code:110101,name:"东城区"},{code:110102,name:"西城区"},{code:110105,name:"朝阳区"},{code:110106,name:"丰台区"},{code:110107,name:"石景山区"},{code:110108,name:"海淀区"},{code:110109,name:"门头沟区"},{code:110111,name:"房山区"},{code:110112,name:"通州区"},{code:110113,name:"顺义区"},{code:110114,name:"昌平区"},{code:110115,name:"大兴区"},{code:110116,name:"怀柔区"},{code:110117,name:"平谷区"},{code:110118,name:"密云区"},{code:110119,name:"延庆区"}]}]},{code:12e4,name:"天津市",children:[{code:120100,name:"天津城区",children:[{code:120101,name:"和平区"},{code:120102,name:"河东区"},{code:120103,name:"河西区"},{code:120104,name:"南开区"},{code:120105,name:"河北区"},{code:120106,name:"红桥区"},{code:120110,name:"东丽区"},{code:120111,name:"西青区"},{code:120112,name:"津南区"},{code:120113,name:"北辰区"},{code:120114,name:"武清区"},{code:120115,name:"宝坻区"},{code:120116,name:"滨海新区"},{code:120117,name:"宁河区"},{code:120118,name:"静海区"},{code:120119,name:"蓟州区"}]}]},{code:13e4,name:"河北省",children:[{code:130100,name:"石家庄市",children:[{code:130102,name:"长安区"},{code:130104,name:"桥西区"},{code:130105,name:"新华区"},{code:130107,name:"井陉矿区"},{code:130108,name:"裕华区"},{code:130109,name:"藁城区"},{code:130110,name:"鹿泉区"},{code:130111,name:"栾城区"},{code:130121,name:"井陉县"},{code:130123,name:"正定县"},{code:130125,name:"行唐县"},{code:130126,name:"灵寿县"},{code:130127,name:"高邑县"},{code:130128,name:"深泽县"},{code:130129,name:"赞皇县"},{code:130130,name:"无极县"},{code:130131,name:"平山县"},{code:130132,name:"元氏县"},{code:130133,name:"赵县"},{code:130171,name:"石家庄高新技术产业开发区"},{code:130172,name:"石家庄循环化工园区"},{code:130181,name:"辛集市"},{code:130183,name:"晋州市"},{code:130184,name:"新乐市"}]},{code:130200,name:"唐山市",children:[{code:130202,name:"路南区"},{code:130203,name:"路北区"},{code:130204,name:"古冶区"},{code:130205,name:"开平区"},{code:130207,name:"丰南区"},{code:130208,name:"丰润区"},{code:130209,name:"曹妃甸区"},{code:130224,name:"滦南县"},{code:130225,name:"乐亭县"},{code:130227,name:"迁西县"},{code:130229,name:"玉田县"},{code:130271,name:"河北唐山芦台经济开发区"},{code:130272,name:"唐山市汉沽管理区"},{code:130273,name:"唐山高新技术产业开发区"},{code:130274,name:"河北唐山海港经济开发区"},{code:130281,name:"遵化市"},{code:130283,name:"迁安市"},{code:130284,name:"滦州市"}]},{code:130300,name:"秦皇岛市",children:[{code:130302,name:"海港区"},{code:130303,name:"山海关区"},{code:130304,name:"北戴河区"},{code:130306,name:"抚宁区"},{code:130321,name:"青龙满族自治县"},{code:130322,name:"昌黎县"},{code:130324,name:"卢龙县"},{code:130371,name:"秦皇岛市经济技术开发区"},{code:130372,name:"北戴河新区"}]},{code:130400,name:"邯郸市",children:[{code:130402,name:"邯山区"},{code:130403,name:"丛台区"},{code:130404,name:"复兴区"},{code:130406,name:"峰峰矿区"},{code:130407,name:"肥乡区"},{code:130408,name:"永年区"},{code:130423,name:"临漳县"},{code:130424,name:"成安县"},{code:130425,name:"大名县"},{code:130426,name:"涉县"},{code:130427,name:"磁县"},{code:130430,name:"邱县"},{code:130431,name:"鸡泽县"},{code:130432,name:"广平县"},{code:130433,name:"馆陶县"},{code:130434,name:"魏县"},{code:130435,name:"曲周县"},{code:130471,name:"邯郸经济技术开发区"},{code:130473,name:"邯郸冀南新区"},{code:130481,name:"武安市"}]},{code:130500,name:"邢台市",children:[{code:130502,name:"襄都区"},{code:130503,name:"信都区"},{code:130505,name:"任泽区"},{code:130506,name:"南和区"},{code:130522,name:"临城县"},{code:130523,name:"内丘县"},{code:130524,name:"柏乡县"},{code:130525,name:"隆尧县"},{code:130528,name:"宁晋县"},{code:130529,name:"巨鹿县"},{code:130530,name:"新河县"},{code:130531,name:"广宗县"},{code:130532,name:"平乡县"},{code:130533,name:"威县"},{code:130534,name:"清河县"},{code:130535,name:"临西县"},{code:130571,name:"河北邢台经济开发区"},{code:130581,name:"南宫市"},{code:130582,name:"沙河市"}]},{code:130600,name:"保定市",children:[{code:130602,name:"竞秀区"},{code:130606,name:"莲池区"},{code:130607,name:"满城区"},{code:130608,name:"清苑区"},{code:130609,name:"徐水区"},{code:130623,name:"涞水县"},{code:130624,name:"阜平县"},{code:130626,name:"定兴县"},{code:130627,name:"唐县"},{code:130628,name:"高阳县"},{code:130629,name:"容城县"},{code:130630,name:"涞源县"},{code:130631,name:"望都县"},{code:130632,name:"安新县"},{code:130633,name:"易县"},{code:130634,name:"曲阳县"},{code:130635,name:"蠡县"},{code:130636,name:"顺平县"},{code:130637,name:"博野县"},{code:130638,name:"雄县"},{code:130671,name:"保定高新技术产业开发区"},{code:130672,name:"保定白沟新城"},{code:130681,name:"涿州市"},{code:130682,name:"定州市"},{code:130683,name:"安国市"},{code:130684,name:"高碑店市"}]},{code:130700,name:"张家口市",children:[{code:130702,name:"桥东区"},{code:130703,name:"桥西区"},{code:130705,name:"宣化区"},{code:130706,name:"下花园区"},{code:130708,name:"万全区"},{code:130709,name:"崇礼区"},{code:130722,name:"张北县"},{code:130723,name:"康保县"},{code:130724,name:"沽源县"},{code:130725,name:"尚义县"},{code:130726,name:"蔚县"},{code:130727,name:"阳原县"},{code:130728,name:"怀安县"},{code:130730,name:"怀来县"},{code:130731,name:"涿鹿县"},{code:130732,name:"赤城县"},{code:130771,name:"张家口经济开发区"},{code:130772,name:"张家口市察北管理区"},{code:130773,name:"张家口市塞北管理区"}]},{code:130800,name:"承德市",children:[{code:130802,name:"双桥区"},{code:130803,name:"双滦区"},{code:130804,name:"鹰手营子矿区"},{code:130821,name:"承德县"},{code:130822,name:"兴隆县"},{code:130824,name:"滦平县"},{code:130825,name:"隆化县"},{code:130826,name:"丰宁满族自治县"},{code:130827,name:"宽城满族自治县"},{code:130828,name:"围场满族蒙古族自治县"},{code:130871,name:"承德高新技术产业开发区"},{code:130881,name:"平泉市"}]},{code:130900,name:"沧州市",children:[{code:130902,name:"新华区"},{code:130903,name:"运河区"},{code:130921,name:"沧县"},{code:130922,name:"青县"},{code:130923,name:"东光县"},{code:130924,name:"海兴县"},{code:130925,name:"盐山县"},{code:130926,name:"肃宁县"},{code:130927,name:"南皮县"},{code:130928,name:"吴桥县"},{code:130929,name:"献县"},{code:130930,name:"孟村回族自治县"},{code:130971,name:"河北沧州经济开发区"},{code:130972,name:"沧州高新技术产业开发区"},{code:130973,name:"沧州渤海新区"},{code:130981,name:"泊头市"},{code:130982,name:"任丘市"},{code:130983,name:"黄骅市"},{code:130984,name:"河间市"}]},{code:131e3,name:"廊坊市",children:[{code:131002,name:"安次区"},{code:131003,name:"广阳区"},{code:131022,name:"固安县"},{code:131023,name:"永清县"},{code:131024,name:"香河县"},{code:131025,name:"大城县"},{code:131026,name:"文安县"},{code:131028,name:"大厂回族自治县"},{code:131071,name:"廊坊经济技术开发区"},{code:131081,name:"霸州市"},{code:131082,name:"三河市"}]},{code:131100,name:"衡水市",children:[{code:131102,name:"桃城区"},{code:131103,name:"冀州区"},{code:131121,name:"枣强县"},{code:131122,name:"武邑县"},{code:131123,name:"武强县"},{code:131124,name:"饶阳县"},{code:131125,name:"安平县"},{code:131126,name:"故城县"},{code:131127,name:"景县"},{code:131128,name:"阜城县"},{code:131171,name:"河北衡水高新技术产业开发区"},{code:131172,name:"衡水滨湖新区"},{code:131182,name:"深州市"}]}]},{code:14e4,name:"山西省",children:[{code:140100,name:"太原市",children:[{code:140105,name:"小店区"},{code:140106,name:"迎泽区"},{code:140107,name:"杏花岭区"},{code:140108,name:"尖草坪区"},{code:140109,name:"万柏林区"},{code:140110,name:"晋源区"},{code:140121,name:"清徐县"},{code:140122,name:"阳曲县"},{code:140123,name:"娄烦县"},{code:140171,name:"山西转型综合改革示范区"},{code:140181,name:"古交市"}]},{code:140200,name:"大同市",children:[{code:140212,name:"新荣区"},{code:140213,name:"平城区"},{code:140214,name:"云冈区"},{code:140215,name:"云州区"},{code:140221,name:"阳高县"},{code:140222,name:"天镇县"},{code:140223,name:"广灵县"},{code:140224,name:"灵丘县"},{code:140225,name:"浑源县"},{code:140226,name:"左云县"},{code:140271,name:"山西大同经济开发区"}]},{code:140300,name:"阳泉市",children:[{code:140302,name:"城区"},{code:140303,name:"矿区"},{code:140311,name:"郊区"},{code:140321,name:"平定县"},{code:140322,name:"盂县"}]},{code:140400,name:"长治市",children:[{code:140403,name:"潞州区"},{code:140404,name:"上党区"},{code:140405,name:"屯留区"},{code:140406,name:"潞城区"},{code:140423,name:"襄垣县"},{code:140425,name:"平顺县"},{code:140426,name:"黎城县"},{code:140427,name:"壶关县"},{code:140428,name:"长子县"},{code:140429,name:"武乡县"},{code:140430,name:"沁县"},{code:140431,name:"沁源县"},{code:140471,name:"山西长治高新技术产业园区"}]},{code:140500,name:"晋城市",children:[{code:140502,name:"城区"},{code:140521,name:"沁水县"},{code:140522,name:"阳城县"},{code:140524,name:"陵川县"},{code:140525,name:"泽州县"},{code:140581,name:"高平市"}]},{code:140600,name:"朔州市",children:[{code:140602,name:"朔城区"},{code:140603,name:"平鲁区"},{code:140621,name:"山阴县"},{code:140622,name:"应县"},{code:140623,name:"右玉县"},{code:140671,name:"山西朔州经济开发区"},{code:140681,name:"怀仁市"}]},{code:140700,name:"晋中市",children:[{code:140702,name:"榆次区"},{code:140703,name:"太谷区"},{code:140721,name:"榆社县"},{code:140722,name:"左权县"},{code:140723,name:"和顺县"},{code:140724,name:"昔阳县"},{code:140725,name:"寿阳县"},{code:140727,name:"祁县"},{code:140728,name:"平遥县"},{code:140729,name:"灵石县"},{code:140781,name:"介休市"}]},{code:140800,name:"运城市",children:[{code:140802,name:"盐湖区"},{code:140821,name:"临猗县"},{code:140822,name:"万荣县"},{code:140823,name:"闻喜县"},{code:140824,name:"稷山县"},{code:140825,name:"新绛县"},{code:140826,name:"绛县"},{code:140827,name:"垣曲县"},{code:140828,name:"夏县"},{code:140829,name:"平陆县"},{code:140830,name:"芮城县"},{code:140881,name:"永济市"},{code:140882,name:"河津市"}]},{code:140900,name:"忻州市",children:[{code:140902,name:"忻府区"},{code:140921,name:"定襄县"},{code:140922,name:"五台县"},{code:140923,name:"代县"},{code:140924,name:"繁峙县"},{code:140925,name:"宁武县"},{code:140926,name:"静乐县"},{code:140927,name:"神池县"},{code:140928,name:"五寨县"},{code:140929,name:"岢岚县"},{code:140930,name:"河曲县"},{code:140931,name:"保德县"},{code:140932,name:"偏关县"},{code:140971,name:"五台山风景名胜区"},{code:140981,name:"原平市"}]},{code:141e3,name:"临汾市",children:[{code:141002,name:"尧都区"},{code:141021,name:"曲沃县"},{code:141022,name:"翼城县"},{code:141023,name:"襄汾县"},{code:141024,name:"洪洞县"},{code:141025,name:"古县"},{code:141026,name:"安泽县"},{code:141027,name:"浮山县"},{code:141028,name:"吉县"},{code:141029,name:"乡宁县"},{code:141030,name:"大宁县"},{code:141031,name:"隰县"},{code:141032,name:"永和县"},{code:141033,name:"蒲县"},{code:141034,name:"汾西县"},{code:141081,name:"侯马市"},{code:141082,name:"霍州市"}]},{code:141100,name:"吕梁市",children:[{code:141102,name:"离石区"},{code:141121,name:"文水县"},{code:141122,name:"交城县"},{code:141123,name:"兴县"},{code:141124,name:"临县"},{code:141125,name:"柳林县"},{code:141126,name:"石楼县"},{code:141127,name:"岚县"},{code:141128,name:"方山县"},{code:141129,name:"中阳县"},{code:141130,name:"交口县"},{code:141181,name:"孝义市"},{code:141182,name:"汾阳市"}]}]},{code:15e4,name:"内蒙古自治区",children:[{code:150100,name:"呼和浩特市",children:[{code:150102,name:"新城区"},{code:150103,name:"回民区"},{code:150104,name:"玉泉区"},{code:150105,name:"赛罕区"},{code:150121,name:"土默特左旗"},{code:150122,name:"托克托县"},{code:150123,name:"和林格尔县"},{code:150124,name:"清水河县"},{code:150125,name:"武川县"},{code:150172,name:"呼和浩特经济技术开发区"}]},{code:150200,name:"包头市",children:[{code:150202,name:"东河区"},{code:150203,name:"昆都仑区"},{code:150204,name:"青山区"},{code:150205,name:"石拐区"},{code:150206,name:"白云鄂博矿区"},{code:150207,name:"九原区"},{code:150221,name:"土默特右旗"},{code:150222,name:"固阳县"},{code:150223,name:"达尔罕茂明安联合旗"},{code:150271,name:"包头稀土高新技术产业开发区"}]},{code:150300,name:"乌海市",children:[{code:150302,name:"海勃湾区"},{code:150303,name:"海南区"},{code:150304,name:"乌达区"}]},{code:150400,name:"赤峰市",children:[{code:150402,name:"红山区"},{code:150403,name:"元宝山区"},{code:150404,name:"松山区"},{code:150421,name:"阿鲁科尔沁旗"},{code:150422,name:"巴林左旗"},{code:150423,name:"巴林右旗"},{code:150424,name:"林西县"},{code:150425,name:"克什克腾旗"},{code:150426,name:"翁牛特旗"},{code:150428,name:"喀喇沁旗"},{code:150429,name:"宁城县"},{code:150430,name:"敖汉旗"}]},{code:150500,name:"通辽市",children:[{code:150502,name:"科尔沁区"},{code:150521,name:"科尔沁左翼中旗"},{code:150522,name:"科尔沁左翼后旗"},{code:150523,name:"开鲁县"},{code:150524,name:"库伦旗"},{code:150525,name:"奈曼旗"},{code:150526,name:"扎鲁特旗"},{code:150571,name:"通辽经济技术开发区"},{code:150581,name:"霍林郭勒市"}]},{code:150600,name:"鄂尔多斯市",children:[{code:150602,name:"东胜区"},{code:150603,name:"康巴什区"},{code:150621,name:"达拉特旗"},{code:150622,name:"准格尔旗"},{code:150623,name:"鄂托克前旗"},{code:150624,name:"鄂托克旗"},{code:150625,name:"杭锦旗"},{code:150626,name:"乌审旗"},{code:150627,name:"伊金霍洛旗"}]},{code:150700,name:"呼伦贝尔市",children:[{code:150702,name:"海拉尔区"},{code:150703,name:"扎赉诺尔区"},{code:150721,name:"阿荣旗"},{code:150722,name:"莫力达瓦达斡尔族自治旗"},{code:150723,name:"鄂伦春自治旗"},{code:150724,name:"鄂温克族自治旗"},{code:150725,name:"陈巴尔虎旗"},{code:150726,name:"新巴尔虎左旗"},{code:150727,name:"新巴尔虎右旗"},{code:150781,name:"满洲里市"},{code:150782,name:"牙克石市"},{code:150783,name:"扎兰屯市"},{code:150784,name:"额尔古纳市"},{code:150785,name:"根河市"}]},{code:150800,name:"巴彦淖尔市",children:[{code:150802,name:"临河区"},{code:150821,name:"五原县"},{code:150822,name:"磴口县"},{code:150823,name:"乌拉特前旗"},{code:150824,name:"乌拉特中旗"},{code:150825,name:"乌拉特后旗"},{code:150826,name:"杭锦后旗"}]},{code:150900,name:"乌兰察布市",children:[{code:150902,name:"集宁区"},{code:150921,name:"卓资县"},{code:150922,name:"化德县"},{code:150923,name:"商都县"},{code:150924,name:"兴和县"},{code:150925,name:"凉城县"},{code:150926,name:"察哈尔右翼前旗"},{code:150927,name:"察哈尔右翼中旗"},{code:150928,name:"察哈尔右翼后旗"},{code:150929,name:"四子王旗"},{code:150981,name:"丰镇市"}]},{code:152200,name:"兴安盟",children:[{code:152201,name:"乌兰浩特市"},{code:152202,name:"阿尔山市"},{code:152221,name:"科尔沁右翼前旗"},{code:152222,name:"科尔沁右翼中旗"},{code:152223,name:"扎赉特旗"},{code:152224,name:"突泉县"}]},{code:152500,name:"锡林郭勒盟",children:[{code:152501,name:"二连浩特市"},{code:152502,name:"锡林浩特市"},{code:152522,name:"阿巴嘎旗"},{code:152523,name:"苏尼特左旗"},{code:152524,name:"苏尼特右旗"},{code:152525,name:"东乌珠穆沁旗"},{code:152526,name:"西乌珠穆沁旗"},{code:152527,name:"太仆寺旗"},{code:152528,name:"镶黄旗"},{code:152529,name:"正镶白旗"},{code:152530,name:"正蓝旗"},{code:152531,name:"多伦县"},{code:152571,name:"乌拉盖管委会"}]},{code:152900,name:"阿拉善盟",children:[{code:152921,name:"阿拉善左旗"},{code:152922,name:"阿拉善右旗"},{code:152923,name:"额济纳旗"},{code:152971,name:"内蒙古阿拉善高新技术产业开发区"}]}]},{code:21e4,name:"辽宁省",children:[{code:210100,name:"沈阳市",children:[{code:210102,name:"和平区"},{code:210103,name:"沈河区"},{code:210104,name:"大东区"},{code:210105,name:"皇姑区"},{code:210106,name:"铁西区"},{code:210111,name:"苏家屯区"},{code:210112,name:"浑南区"},{code:210113,name:"沈北新区"},{code:210114,name:"于洪区"},{code:210115,name:"辽中区"},{code:210123,name:"康平县"},{code:210124,name:"法库县"},{code:210181,name:"新民市"}]},{code:210200,name:"大连市",children:[{code:210202,name:"中山区"},{code:210203,name:"西岗区"},{code:210204,name:"沙河口区"},{code:210211,name:"甘井子区"},{code:210212,name:"旅顺口区"},{code:210213,name:"金州区"},{code:210214,name:"普兰店区"},{code:210224,name:"长海县"},{code:210281,name:"瓦房店市"},{code:210283,name:"庄河市"}]},{code:210300,name:"鞍山市",children:[{code:210302,name:"铁东区"},{code:210303,name:"铁西区"},{code:210304,name:"立山区"},{code:210311,name:"千山区"},{code:210321,name:"台安县"},{code:210323,name:"岫岩满族自治县"},{code:210381,name:"海城市"}]},{code:210400,name:"抚顺市",children:[{code:210402,name:"新抚区"},{code:210403,name:"东洲区"},{code:210404,name:"望花区"},{code:210411,name:"顺城区"},{code:210421,name:"抚顺县"},{code:210422,name:"新宾满族自治县"},{code:210423,name:"清原满族自治县"}]},{code:210500,name:"本溪市",children:[{code:210502,name:"平山区"},{code:210503,name:"溪湖区"},{code:210504,name:"明山区"},{code:210505,name:"南芬区"},{code:210521,name:"本溪满族自治县"},{code:210522,name:"桓仁满族自治县"}]},{code:210600,name:"丹东市",children:[{code:210602,name:"元宝区"},{code:210603,name:"振兴区"},{code:210604,name:"振安区"},{code:210624,name:"宽甸满族自治县"},{code:210681,name:"东港市"},{code:210682,name:"凤城市"}]},{code:210700,name:"锦州市",children:[{code:210702,name:"古塔区"},{code:210703,name:"凌河区"},{code:210711,name:"太和区"},{code:210726,name:"黑山县"},{code:210727,name:"义县"},{code:210781,name:"凌海市"},{code:210782,name:"北镇市"}]},{code:210800,name:"营口市",children:[{code:210802,name:"站前区"},{code:210803,name:"西市区"},{code:210804,name:"鲅鱼圈区"},{code:210811,name:"老边区"},{code:210881,name:"盖州市"},{code:210882,name:"大石桥市"}]},{code:210900,name:"阜新市",children:[{code:210902,name:"海州区"},{code:210903,name:"新邱区"},{code:210904,name:"太平区"},{code:210905,name:"清河门区"},{code:210911,name:"细河区"},{code:210921,name:"阜新蒙古族自治县"},{code:210922,name:"彰武县"}]},{code:211e3,name:"辽阳市",children:[{code:211002,name:"白塔区"},{code:211003,name:"文圣区"},{code:211004,name:"宏伟区"},{code:211005,name:"弓长岭区"},{code:211011,name:"太子河区"},{code:211021,name:"辽阳县"},{code:211081,name:"灯塔市"}]},{code:211100,name:"盘锦市",children:[{code:211102,name:"双台子区"},{code:211103,name:"兴隆台区"},{code:211104,name:"大洼区"},{code:211122,name:"盘山县"}]},{code:211200,name:"铁岭市",children:[{code:211202,name:"银州区"},{code:211204,name:"清河区"},{code:211221,name:"铁岭县"},{code:211223,name:"西丰县"},{code:211224,name:"昌图县"},{code:211281,name:"调兵山市"},{code:211282,name:"开原市"}]},{code:211300,name:"朝阳市",children:[{code:211302,name:"双塔区"},{code:211303,name:"龙城区"},{code:211321,name:"朝阳县"},{code:211322,name:"建平县"},{code:211324,name:"喀喇沁左翼蒙古族自治县"},{code:211381,name:"北票市"},{code:211382,name:"凌源市"}]},{code:211400,name:"葫芦岛市",children:[{code:211402,name:"连山区"},{code:211403,name:"龙港区"},{code:211404,name:"南票区"},{code:211421,name:"绥中县"},{code:211422,name:"建昌县"},{code:211481,name:"兴城市"}]}]},{code:22e4,name:"吉林省",children:[{code:220100,name:"长春市",children:[{code:220102,name:"南关区"},{code:220103,name:"宽城区"},{code:220104,name:"朝阳区"},{code:220105,name:"二道区"},{code:220106,name:"绿园区"},{code:220112,name:"双阳区"},{code:220113,name:"九台区"},{code:220122,name:"农安县"},{code:220171,name:"长春经济技术开发区"},{code:220172,name:"长春净月高新技术产业开发区"},{code:220173,name:"长春高新技术产业开发区"},{code:220174,name:"长春汽车经济技术开发区"},{code:220182,name:"榆树市"},{code:220183,name:"德惠市"},{code:220184,name:"公主岭市"}]},{code:220200,name:"吉林市",children:[{code:220202,name:"昌邑区"},{code:220203,name:"龙潭区"},{code:220204,name:"船营区"},{code:220211,name:"丰满区"},{code:220221,name:"永吉县"},{code:220271,name:"吉林经济开发区"},{code:220272,name:"吉林高新技术产业开发区"},{code:220273,name:"吉林中国新加坡食品区"},{code:220281,name:"蛟河市"},{code:220282,name:"桦甸市"},{code:220283,name:"舒兰市"},{code:220284,name:"磐石市"}]},{code:220300,name:"四平市",children:[{code:220302,name:"铁西区"},{code:220303,name:"铁东区"},{code:220322,name:"梨树县"},{code:220323,name:"伊通满族自治县"},{code:220382,name:"双辽市"}]},{code:220400,name:"辽源市",children:[{code:220402,name:"龙山区"},{code:220403,name:"西安区"},{code:220421,name:"东丰县"},{code:220422,name:"东辽县"}]},{code:220500,name:"通化市",children:[{code:220502,name:"东昌区"},{code:220503,name:"二道江区"},{code:220521,name:"通化县"},{code:220523,name:"辉南县"},{code:220524,name:"柳河县"},{code:220581,name:"梅河口市"},{code:220582,name:"集安市"}]},{code:220600,name:"白山市",children:[{code:220602,name:"浑江区"},{code:220605,name:"江源区"},{code:220621,name:"抚松县"},{code:220622,name:"靖宇县"},{code:220623,name:"长白朝鲜族自治县"},{code:220681,name:"临江市"}]},{code:220700,name:"松原市",children:[{code:220702,name:"宁江区"},{code:220721,name:"前郭尔罗斯蒙古族自治县"},{code:220722,name:"长岭县"},{code:220723,name:"乾安县"},{code:220771,name:"吉林松原经济开发区"},{code:220781,name:"扶余市"}]},{code:220800,name:"白城市",children:[{code:220802,name:"洮北区"},{code:220821,name:"镇赉县"},{code:220822,name:"通榆县"},{code:220871,name:"吉林白城经济开发区"},{code:220881,name:"洮南市"},{code:220882,name:"大安市"}]},{code:222400,name:"延边朝鲜族自治州",children:[{code:222401,name:"延吉市"},{code:222402,name:"图们市"},{code:222403,name:"敦化市"},{code:222404,name:"珲春市"},{code:222405,name:"龙井市"},{code:222406,name:"和龙市"},{code:222424,name:"汪清县"},{code:222426,name:"安图县"}]}]},{code:23e4,name:"黑龙江省",children:[{code:230100,name:"哈尔滨市",children:[{code:230102,name:"道里区"},{code:230103,name:"南岗区"},{code:230104,name:"道外区"},{code:230108,name:"平房区"},{code:230109,name:"松北区"},{code:230110,name:"香坊区"},{code:230111,name:"呼兰区"},{code:230112,name:"阿城区"},{code:230113,name:"双城区"},{code:230123,name:"依兰县"},{code:230124,name:"方正县"},{code:230125,name:"宾县"},{code:230126,name:"巴彦县"},{code:230127,name:"木兰县"},{code:230128,name:"通河县"},{code:230129,name:"延寿县"},{code:230183,name:"尚志市"},{code:230184,name:"五常市"}]},{code:230200,name:"齐齐哈尔市",children:[{code:230202,name:"龙沙区"},{code:230203,name:"建华区"},{code:230204,name:"铁锋区"},{code:230205,name:"昂昂溪区"},{code:230206,name:"富拉尔基区"},{code:230207,name:"碾子山区"},{code:230208,name:"梅里斯达斡尔族区"},{code:230221,name:"龙江县"},{code:230223,name:"依安县"},{code:230224,name:"泰来县"},{code:230225,name:"甘南县"},{code:230227,name:"富裕县"},{code:230229,name:"克山县"},{code:230230,name:"克东县"},{code:230231,name:"拜泉县"},{code:230281,name:"讷河市"}]},{code:230300,name:"鸡西市",children:[{code:230302,name:"鸡冠区"},{code:230303,name:"恒山区"},{code:230304,name:"滴道区"},{code:230305,name:"梨树区"},{code:230306,name:"城子河区"},{code:230307,name:"麻山区"},{code:230321,name:"鸡东县"},{code:230381,name:"虎林市"},{code:230382,name:"密山市"}]},{code:230400,name:"鹤岗市",children:[{code:230402,name:"向阳区"},{code:230403,name:"工农区"},{code:230404,name:"南山区"},{code:230405,name:"兴安区"},{code:230406,name:"东山区"},{code:230407,name:"兴山区"},{code:230421,name:"萝北县"},{code:230422,name:"绥滨县"}]},{code:230500,name:"双鸭山市",children:[{code:230502,name:"尖山区"},{code:230503,name:"岭东区"},{code:230505,name:"四方台区"},{code:230506,name:"宝山区"},{code:230521,name:"集贤县"},{code:230522,name:"友谊县"},{code:230523,name:"宝清县"},{code:230524,name:"饶河县"}]},{code:230600,name:"大庆市",children:[{code:230602,name:"萨尔图区"},{code:230603,name:"龙凤区"},{code:230604,name:"让胡路区"},{code:230605,name:"红岗区"},{code:230606,name:"大同区"},{code:230621,name:"肇州县"},{code:230622,name:"肇源县"},{code:230623,name:"林甸县"},{code:230624,name:"杜尔伯特蒙古族自治县"},{code:230671,name:"大庆高新技术产业开发区"}]},{code:230700,name:"伊春市",children:[{code:230717,name:"伊美区"},{code:230718,name:"乌翠区"},{code:230719,name:"友好区"},{code:230722,name:"嘉荫县"},{code:230723,name:"汤旺县"},{code:230724,name:"丰林县"},{code:230725,name:"大箐山县"},{code:230726,name:"南岔县"},{code:230751,name:"金林区"},{code:230781,name:"铁力市"}]},{code:230800,name:"佳木斯市",children:[{code:230803,name:"向阳区"},{code:230804,name:"前进区"},{code:230805,name:"东风区"},{code:230811,name:"郊区"},{code:230822,name:"桦南县"},{code:230826,name:"桦川县"},{code:230828,name:"汤原县"},{code:230881,name:"同江市"},{code:230882,name:"富锦市"},{code:230883,name:"抚远市"}]},{code:230900,name:"七台河市",children:[{code:230902,name:"新兴区"},{code:230903,name:"桃山区"},{code:230904,name:"茄子河区"},{code:230921,name:"勃利县"}]},{code:231e3,name:"牡丹江市",children:[{code:231002,name:"东安区"},{code:231003,name:"阳明区"},{code:231004,name:"爱民区"},{code:231005,name:"西安区"},{code:231025,name:"林口县"},{code:231071,name:"牡丹江经济技术开发区"},{code:231081,name:"绥芬河市"},{code:231083,name:"海林市"},{code:231084,name:"宁安市"},{code:231085,name:"穆棱市"},{code:231086,name:"东宁市"}]},{code:231100,name:"黑河市",children:[{code:231102,name:"爱辉区"},{code:231123,name:"逊克县"},{code:231124,name:"孙吴县"},{code:231181,name:"北安市"},{code:231182,name:"五大连池市"},{code:231183,name:"嫩江市"}]},{code:231200,name:"绥化市",children:[{code:231202,name:"北林区"},{code:231221,name:"望奎县"},{code:231222,name:"兰西县"},{code:231223,name:"青冈县"},{code:231224,name:"庆安县"},{code:231225,name:"明水县"},{code:231226,name:"绥棱县"},{code:231281,name:"安达市"},{code:231282,name:"肇东市"},{code:231283,name:"海伦市"}]},{code:232700,name:"大兴安岭地区",children:[{code:232701,name:"漠河市"},{code:232721,name:"呼玛县"},{code:232722,name:"塔河县"},{code:232761,name:"加格达奇区"},{code:232762,name:"松岭区"},{code:232763,name:"新林区"},{code:232764,name:"呼中区"}]}]},{code:31e4,name:"上海市",children:[{code:310100,name:"上海城区",children:[{code:310101,name:"黄浦区"},{code:310104,name:"徐汇区"},{code:310105,name:"长宁区"},{code:310106,name:"静安区"},{code:310107,name:"普陀区"},{code:310109,name:"虹口区"},{code:310110,name:"杨浦区"},{code:310112,name:"闵行区"},{code:310113,name:"宝山区"},{code:310114,name:"嘉定区"},{code:310115,name:"浦东新区"},{code:310116,name:"金山区"},{code:310117,name:"松江区"},{code:310118,name:"青浦区"},{code:310120,name:"奉贤区"},{code:310151,name:"崇明区"}]}]},{code:32e4,name:"江苏省",children:[{code:320100,name:"南京市",children:[{code:320102,name:"玄武区"},{code:320104,name:"秦淮区"},{code:320105,name:"建邺区"},{code:320106,name:"鼓楼区"},{code:320111,name:"浦口区"},{code:320113,name:"栖霞区"},{code:320114,name:"雨花台区"},{code:320115,name:"江宁区"},{code:320116,name:"六合区"},{code:320117,name:"溧水区"},{code:320118,name:"高淳区"}]},{code:320200,name:"无锡市",children:[{code:320205,name:"锡山区"},{code:320206,name:"惠山区"},{code:320211,name:"滨湖区"},{code:320213,name:"梁溪区"},{code:320214,name:"新吴区"},{code:320281,name:"江阴市"},{code:320282,name:"宜兴市"}]},{code:320300,name:"徐州市",children:[{code:320302,name:"鼓楼区"},{code:320303,name:"云龙区"},{code:320305,name:"贾汪区"},{code:320311,name:"泉山区"},{code:320312,name:"铜山区"},{code:320321,name:"丰县"},{code:320322,name:"沛县"},{code:320324,name:"睢宁县"},{code:320371,name:"徐州经济技术开发区"},{code:320381,name:"新沂市"},{code:320382,name:"邳州市"}]},{code:320400,name:"常州市",children:[{code:320402,name:"天宁区"},{code:320404,name:"钟楼区"},{code:320411,name:"新北区"},{code:320412,name:"武进区"},{code:320413,name:"金坛区"},{code:320481,name:"溧阳市"}]},{code:320500,name:"苏州市",children:[{code:320505,name:"虎丘区"},{code:320506,name:"吴中区"},{code:320507,name:"相城区"},{code:320508,name:"姑苏区"},{code:320509,name:"吴江区"},{code:320571,name:"苏州工业园区"},{code:320581,name:"常熟市"},{code:320582,name:"张家港市"},{code:320583,name:"昆山市"},{code:320585,name:"太仓市"}]},{code:320600,name:"南通市",children:[{code:320612,name:"通州区"},{code:320613,name:"崇川区"},{code:320614,name:"海门区"},{code:320623,name:"如东县"},{code:320671,name:"南通经济技术开发区"},{code:320681,name:"启东市"},{code:320682,name:"如皋市"},{code:320685,name:"海安市"}]},{code:320700,name:"连云港市",children:[{code:320703,name:"连云区"},{code:320706,name:"海州区"},{code:320707,name:"赣榆区"},{code:320722,name:"东海县"},{code:320723,name:"灌云县"},{code:320724,name:"灌南县"},{code:320771,name:"连云港经济技术开发区"},{code:320772,name:"连云港高新技术产业开发区"}]},{code:320800,name:"淮安市",children:[{code:320803,name:"淮安区"},{code:320804,name:"淮阴区"},{code:320812,name:"清江浦区"},{code:320813,name:"洪泽区"},{code:320826,name:"涟水县"},{code:320830,name:"盱眙县"},{code:320831,name:"金湖县"},{code:320871,name:"淮安经济技术开发区"}]},{code:320900,name:"盐城市",children:[{code:320902,name:"亭湖区"},{code:320903,name:"盐都区"},{code:320904,name:"大丰区"},{code:320921,name:"响水县"},{code:320922,name:"滨海县"},{code:320923,name:"阜宁县"},{code:320924,name:"射阳县"},{code:320925,name:"建湖县"},{code:320971,name:"盐城经济技术开发区"},{code:320981,name:"东台市"}]},{code:321e3,name:"扬州市",children:[{code:321002,name:"广陵区"},{code:321003,name:"邗江区"},{code:321012,name:"江都区"},{code:321023,name:"宝应县"},{code:321071,name:"扬州经济技术开发区"},{code:321081,name:"仪征市"},{code:321084,name:"高邮市"}]},{code:321100,name:"镇江市",children:[{code:321102,name:"京口区"},{code:321111,name:"润州区"},{code:321112,name:"丹徒区"},{code:321171,name:"镇江新区"},{code:321181,name:"丹阳市"},{code:321182,name:"扬中市"},{code:321183,name:"句容市"}]},{code:321200,name:"泰州市",children:[{code:321202,name:"海陵区"},{code:321203,name:"高港区"},{code:321204,name:"姜堰区"},{code:321271,name:"泰州医药高新技术产业开发区"},{code:321281,name:"兴化市"},{code:321282,name:"靖江市"},{code:321283,name:"泰兴市"}]},{code:321300,name:"宿迁市",children:[{code:321302,name:"宿城区"},{code:321311,name:"宿豫区"},{code:321322,name:"沭阳县"},{code:321323,name:"泗阳县"},{code:321324,name:"泗洪县"},{code:321371,name:"宿迁经济技术开发区"}]}]},{code:33e4,name:"浙江省",children:[{code:330100,name:"杭州市",children:[{code:330102,name:"上城区"},{code:330105,name:"拱墅区"},{code:330106,name:"西湖区"},{code:330108,name:"滨江区"},{code:330109,name:"萧山区"},{code:330110,name:"余杭区"},{code:330111,name:"富阳区"},{code:330112,name:"临安区"},{code:330113,name:"临平区"},{code:330114,name:"钱塘区"},{code:330122,name:"桐庐县"},{code:330127,name:"淳安县"},{code:330182,name:"建德市"}]},{code:330200,name:"宁波市",children:[{code:330203,name:"海曙区"},{code:330205,name:"江北区"},{code:330206,name:"北仑区"},{code:330211,name:"镇海区"},{code:330212,name:"鄞州区"},{code:330213,name:"奉化区"},{code:330225,name:"象山县"},{code:330226,name:"宁海县"},{code:330281,name:"余姚市"},{code:330282,name:"慈溪市"}]},{code:330300,name:"温州市",children:[{code:330302,name:"鹿城区"},{code:330303,name:"龙湾区"},{code:330304,name:"瓯海区"},{code:330305,name:"洞头区"},{code:330324,name:"永嘉县"},{code:330326,name:"平阳县"},{code:330327,name:"苍南县"},{code:330328,name:"文成县"},{code:330329,name:"泰顺县"},{code:330371,name:"温州经济技术开发区"},{code:330381,name:"瑞安市"},{code:330382,name:"乐清市"},{code:330383,name:"龙港市"}]},{code:330400,name:"嘉兴市",children:[{code:330402,name:"南湖区"},{code:330411,name:"秀洲区"},{code:330421,name:"嘉善县"},{code:330424,name:"海盐县"},{code:330481,name:"海宁市"},{code:330482,name:"平湖市"},{code:330483,name:"桐乡市"}]},{code:330500,name:"湖州市",children:[{code:330502,name:"吴兴区"},{code:330503,name:"南浔区"},{code:330521,name:"德清县"},{code:330522,name:"长兴县"},{code:330523,name:"安吉县"}]},{code:330600,name:"绍兴市",children:[{code:330602,name:"越城区"},{code:330603,name:"柯桥区"},{code:330604,name:"上虞区"},{code:330624,name:"新昌县"},{code:330681,name:"诸暨市"},{code:330683,name:"嵊州市"}]},{code:330700,name:"金华市",children:[{code:330702,name:"婺城区"},{code:330703,name:"金东区"},{code:330723,name:"武义县"},{code:330726,name:"浦江县"},{code:330727,name:"磐安县"},{code:330781,name:"兰溪市"},{code:330782,name:"义乌市"},{code:330783,name:"东阳市"},{code:330784,name:"永康市"}]},{code:330800,name:"衢州市",children:[{code:330802,name:"柯城区"},{code:330803,name:"衢江区"},{code:330822,name:"常山县"},{code:330824,name:"开化县"},{code:330825,name:"龙游县"},{code:330881,name:"江山市"}]},{code:330900,name:"舟山市",children:[{code:330902,name:"定海区"},{code:330903,name:"普陀区"},{code:330921,name:"岱山县"},{code:330922,name:"嵊泗县"}]},{code:331e3,name:"台州市",children:[{code:331002,name:"椒江区"},{code:331003,name:"黄岩区"},{code:331004,name:"路桥区"},{code:331022,name:"三门县"},{code:331023,name:"天台县"},{code:331024,name:"仙居县"},{code:331081,name:"温岭市"},{code:331082,name:"临海市"},{code:331083,name:"玉环市"}]},{code:331100,name:"丽水市",children:[{code:331102,name:"莲都区"},{code:331121,name:"青田县"},{code:331122,name:"缙云县"},{code:331123,name:"遂昌县"},{code:331124,name:"松阳县"},{code:331125,name:"云和县"},{code:331126,name:"庆元县"},{code:331127,name:"景宁畲族自治县"},{code:331181,name:"龙泉市"}]}]},{code:34e4,name:"安徽省",children:[{code:340100,name:"合肥市",children:[{code:340102,name:"瑶海区"},{code:340103,name:"庐阳区"},{code:340104,name:"蜀山区"},{code:340111,name:"包河区"},{code:340121,name:"长丰县"},{code:340122,name:"肥东县"},{code:340123,name:"肥西县"},{code:340124,name:"庐江县"},{code:340171,name:"合肥高新技术产业开发区"},{code:340172,name:"合肥经济技术开发区"},{code:340173,name:"合肥新站高新技术产业开发区"},{code:340181,name:"巢湖市"}]},{code:340200,name:"芜湖市",children:[{code:340202,name:"镜湖区"},{code:340207,name:"鸠江区"},{code:340209,name:"弋江区"},{code:340210,name:"湾沚区"},{code:340212,name:"繁昌区"},{code:340223,name:"南陵县"},{code:340271,name:"芜湖经济技术开发区"},{code:340272,name:"安徽芜湖三山经济开发区"},{code:340281,name:"无为市"}]},{code:340300,name:"蚌埠市",children:[{code:340302,name:"龙子湖区"},{code:340303,name:"蚌山区"},{code:340304,name:"禹会区"},{code:340311,name:"淮上区"},{code:340321,name:"怀远县"},{code:340322,name:"五河县"},{code:340323,name:"固镇县"},{code:340371,name:"蚌埠市高新技术开发区"},{code:340372,name:"蚌埠市经济开发区"}]},{code:340400,name:"淮南市",children:[{code:340402,name:"大通区"},{code:340403,name:"田家庵区"},{code:340404,name:"谢家集区"},{code:340405,name:"八公山区"},{code:340406,name:"潘集区"},{code:340421,name:"凤台县"},{code:340422,name:"寿县"}]},{code:340500,name:"马鞍山市",children:[{code:340503,name:"花山区"},{code:340504,name:"雨山区"},{code:340506,name:"博望区"},{code:340521,name:"当涂县"},{code:340522,name:"含山县"},{code:340523,name:"和县"}]},{code:340600,name:"淮北市",children:[{code:340602,name:"杜集区"},{code:340603,name:"相山区"},{code:340604,name:"烈山区"},{code:340621,name:"濉溪县"}]},{code:340700,name:"铜陵市",children:[{code:340705,name:"铜官区"},{code:340706,name:"义安区"},{code:340711,name:"郊区"},{code:340722,name:"枞阳县"}]},{code:340800,name:"安庆市",children:[{code:340802,name:"迎江区"},{code:340803,name:"大观区"},{code:340811,name:"宜秀区"},{code:340822,name:"怀宁县"},{code:340825,name:"太湖县"},{code:340826,name:"宿松县"},{code:340827,name:"望江县"},{code:340828,name:"岳西县"},{code:340871,name:"安徽安庆经济开发区"},{code:340881,name:"桐城市"},{code:340882,name:"潜山市"}]},{code:341e3,name:"黄山市",children:[{code:341002,name:"屯溪区"},{code:341003,name:"黄山区"},{code:341004,name:"徽州区"},{code:341021,name:"歙县"},{code:341022,name:"休宁县"},{code:341023,name:"黟县"},{code:341024,name:"祁门县"}]},{code:341100,name:"滁州市",children:[{code:341102,name:"琅琊区"},{code:341103,name:"南谯区"},{code:341122,name:"来安县"},{code:341124,name:"全椒县"},{code:341125,name:"定远县"},{code:341126,name:"凤阳县"},{code:341171,name:"中新苏滁高新技术产业开发区"},{code:341172,name:"滁州经济技术开发区"},{code:341181,name:"天长市"},{code:341182,name:"明光市"}]},{code:341200,name:"阜阳市",children:[{code:341202,name:"颍州区"},{code:341203,name:"颍东区"},{code:341204,name:"颍泉区"},{code:341221,name:"临泉县"},{code:341222,name:"太和县"},{code:341225,name:"阜南县"},{code:341226,name:"颍上县"},{code:341271,name:"阜阳合肥现代产业园区"},{code:341272,name:"阜阳经济技术开发区"},{code:341282,name:"界首市"}]},{code:341300,name:"宿州市",children:[{code:341302,name:"埇桥区"},{code:341321,name:"砀山县"},{code:341322,name:"萧县"},{code:341323,name:"灵璧县"},{code:341324,name:"泗县"},{code:341371,name:"宿州马鞍山现代产业园区"},{code:341372,name:"宿州经济技术开发区"}]},{code:341500,name:"六安市",children:[{code:341502,name:"金安区"},{code:341503,name:"裕安区"},{code:341504,name:"叶集区"},{code:341522,name:"霍邱县"},{code:341523,name:"舒城县"},{code:341524,name:"金寨县"},{code:341525,name:"霍山县"}]},{code:341600,name:"亳州市",children:[{code:341602,name:"谯城区"},{code:341621,name:"涡阳县"},{code:341622,name:"蒙城县"},{code:341623,name:"利辛县"}]},{code:341700,name:"池州市",children:[{code:341702,name:"贵池区"},{code:341721,name:"东至县"},{code:341722,name:"石台县"},{code:341723,name:"青阳县"}]},{code:341800,name:"宣城市",children:[{code:341802,name:"宣州区"},{code:341821,name:"郎溪县"},{code:341823,name:"泾县"},{code:341824,name:"绩溪县"},{code:341825,name:"旌德县"},{code:341871,name:"宣城市经济开发区"},{code:341881,name:"宁国市"},{code:341882,name:"广德市"}]}]},{code:35e4,name:"福建省",children:[{code:350100,name:"福州市",children:[{code:350102,name:"鼓楼区"},{code:350103,name:"台江区"},{code:350104,name:"仓山区"},{code:350105,name:"马尾区"},{code:350111,name:"晋安区"},{code:350112,name:"长乐区"},{code:350121,name:"闽侯县"},{code:350122,name:"连江县"},{code:350123,name:"罗源县"},{code:350124,name:"闽清县"},{code:350125,name:"永泰县"},{code:350128,name:"平潭县"},{code:350181,name:"福清市"}]},{code:350200,name:"厦门市",children:[{code:350203,name:"思明区"},{code:350205,name:"海沧区"},{code:350206,name:"湖里区"},{code:350211,name:"集美区"},{code:350212,name:"同安区"},{code:350213,name:"翔安区"}]},{code:350300,name:"莆田市",children:[{code:350302,name:"城厢区"},{code:350303,name:"涵江区"},{code:350304,name:"荔城区"},{code:350305,name:"秀屿区"},{code:350322,name:"仙游县"}]},{code:350400,name:"三明市",children:[{code:350404,name:"三元区"},{code:350405,name:"沙县区"},{code:350421,name:"明溪县"},{code:350423,name:"清流县"},{code:350424,name:"宁化县"},{code:350425,name:"大田县"},{code:350426,name:"尤溪县"},{code:350428,name:"将乐县"},{code:350429,name:"泰宁县"},{code:350430,name:"建宁县"},{code:350481,name:"永安市"}]},{code:350500,name:"泉州市",children:[{code:350502,name:"鲤城区"},{code:350503,name:"丰泽区"},{code:350504,name:"洛江区"},{code:350505,name:"泉港区"},{code:350521,name:"惠安县"},{code:350524,name:"安溪县"},{code:350525,name:"永春县"},{code:350526,name:"德化县"},{code:350527,name:"金门县"},{code:350581,name:"石狮市"},{code:350582,name:"晋江市"},{code:350583,name:"南安市"}]},{code:350600,name:"漳州市",children:[{code:350602,name:"芗城区"},{code:350603,name:"龙文区"},{code:350604,name:"龙海区"},{code:350605,name:"长泰区"},{code:350622,name:"云霄县"},{code:350623,name:"漳浦县"},{code:350624,name:"诏安县"},{code:350626,name:"东山县"},{code:350627,name:"南靖县"},{code:350628,name:"平和县"},{code:350629,name:"华安县"}]},{code:350700,name:"南平市",children:[{code:350702,name:"延平区"},{code:350703,name:"建阳区"},{code:350721,name:"顺昌县"},{code:350722,name:"浦城县"},{code:350723,name:"光泽县"},{code:350724,name:"松溪县"},{code:350725,name:"政和县"},{code:350781,name:"邵武市"},{code:350782,name:"武夷山市"},{code:350783,name:"建瓯市"}]},{code:350800,name:"龙岩市",children:[{code:350802,name:"新罗区"},{code:350803,name:"永定区"},{code:350821,name:"长汀县"},{code:350823,name:"上杭县"},{code:350824,name:"武平县"},{code:350825,name:"连城县"},{code:350881,name:"漳平市"}]},{code:350900,name:"宁德市",children:[{code:350902,name:"蕉城区"},{code:350921,name:"霞浦县"},{code:350922,name:"古田县"},{code:350923,name:"屏南县"},{code:350924,name:"寿宁县"},{code:350925,name:"周宁县"},{code:350926,name:"柘荣县"},{code:350981,name:"福安市"},{code:350982,name:"福鼎市"}]}]},{code:36e4,name:"江西省",children:[{code:360100,name:"南昌市",children:[{code:360102,name:"东湖区"},{code:360103,name:"西湖区"},{code:360104,name:"青云谱区"},{code:360111,name:"青山湖区"},{code:360112,name:"新建区"},{code:360113,name:"红谷滩区"},{code:360121,name:"南昌县"},{code:360123,name:"安义县"},{code:360124,name:"进贤县"}]},{code:360200,name:"景德镇市",children:[{code:360202,name:"昌江区"},{code:360203,name:"珠山区"},{code:360222,name:"浮梁县"},{code:360281,name:"乐平市"}]},{code:360300,name:"萍乡市",children:[{code:360302,name:"安源区"},{code:360313,name:"湘东区"},{code:360321,name:"莲花县"},{code:360322,name:"上栗县"},{code:360323,name:"芦溪县"}]},{code:360400,name:"九江市",children:[{code:360402,name:"濂溪区"},{code:360403,name:"浔阳区"},{code:360404,name:"柴桑区"},{code:360423,name:"武宁县"},{code:360424,name:"修水县"},{code:360425,name:"永修县"},{code:360426,name:"德安县"},{code:360428,name:"都昌县"},{code:360429,name:"湖口县"},{code:360430,name:"彭泽县"},{code:360481,name:"瑞昌市"},{code:360482,name:"共青城市"},{code:360483,name:"庐山市"}]},{code:360500,name:"新余市",children:[{code:360502,name:"渝水区"},{code:360521,name:"分宜县"}]},{code:360600,name:"鹰潭市",children:[{code:360602,name:"月湖区"},{code:360603,name:"余江区"},{code:360681,name:"贵溪市"}]},{code:360700,name:"赣州市",children:[{code:360702,name:"章贡区"},{code:360703,name:"南康区"},{code:360704,name:"赣县区"},{code:360722,name:"信丰县"},{code:360723,name:"大余县"},{code:360724,name:"上犹县"},{code:360725,name:"崇义县"},{code:360726,name:"安远县"},{code:360728,name:"定南县"},{code:360729,name:"全南县"},{code:360730,name:"宁都县"},{code:360731,name:"于都县"},{code:360732,name:"兴国县"},{code:360733,name:"会昌县"},{code:360734,name:"寻乌县"},{code:360735,name:"石城县"},{code:360781,name:"瑞金市"},{code:360783,name:"龙南市"}]},{code:360800,name:"吉安市",children:[{code:360802,name:"吉州区"},{code:360803,name:"青原区"},{code:360821,name:"吉安县"},{code:360822,name:"吉水县"},{code:360823,name:"峡江县"},{code:360824,name:"新干县"},{code:360825,name:"永丰县"},{code:360826,name:"泰和县"},{code:360827,name:"遂川县"},{code:360828,name:"万安县"},{code:360829,name:"安福县"},{code:360830,name:"永新县"},{code:360881,name:"井冈山市"}]},{code:360900,name:"宜春市",children:[{code:360902,name:"袁州区"},{code:360921,name:"奉新县"},{code:360922,name:"万载县"},{code:360923,name:"上高县"},{code:360924,name:"宜丰县"},{code:360925,name:"靖安县"},{code:360926,name:"铜鼓县"},{code:360981,name:"丰城市"},{code:360982,name:"樟树市"},{code:360983,name:"高安市"}]},{code:361e3,name:"抚州市",children:[{code:361002,name:"临川区"},{code:361003,name:"东乡区"},{code:361021,name:"南城县"},{code:361022,name:"黎川县"},{code:361023,name:"南丰县"},{code:361024,name:"崇仁县"},{code:361025,name:"乐安县"},{code:361026,name:"宜黄县"},{code:361027,name:"金溪县"},{code:361028,name:"资溪县"},{code:361030,name:"广昌县"}]},{code:361100,name:"上饶市",children:[{code:361102,name:"信州区"},{code:361103,name:"广丰区"},{code:361104,name:"广信区"},{code:361123,name:"玉山县"},{code:361124,name:"铅山县"},{code:361125,name:"横峰县"},{code:361126,name:"弋阳县"},{code:361127,name:"余干县"},{code:361128,name:"鄱阳县"},{code:361129,name:"万年县"},{code:361130,name:"婺源县"},{code:361181,name:"德兴市"}]}]},{code:37e4,name:"山东省",children:[{code:370100,name:"济南市",children:[{code:370102,name:"历下区"},{code:370103,name:"市中区"},{code:370104,name:"槐荫区"},{code:370105,name:"天桥区"},{code:370112,name:"历城区"},{code:370113,name:"长清区"},{code:370114,name:"章丘区"},{code:370115,name:"济阳区"},{code:370116,name:"莱芜区"},{code:370117,name:"钢城区"},{code:370124,name:"平阴县"},{code:370126,name:"商河县"},{code:370171,name:"济南高新技术产业开发区"}]},{code:370200,name:"青岛市",children:[{code:370202,name:"市南区"},{code:370203,name:"市北区"},{code:370211,name:"黄岛区"},{code:370212,name:"崂山区"},{code:370213,name:"李沧区"},{code:370214,name:"城阳区"},{code:370215,name:"即墨区"},{code:370271,name:"青岛高新技术产业开发区"},{code:370281,name:"胶州市"},{code:370283,name:"平度市"},{code:370285,name:"莱西市"}]},{code:370300,name:"淄博市",children:[{code:370302,name:"淄川区"},{code:370303,name:"张店区"},{code:370304,name:"博山区"},{code:370305,name:"临淄区"},{code:370306,name:"周村区"},{code:370321,name:"桓台县"},{code:370322,name:"高青县"},{code:370323,name:"沂源县"}]},{code:370400,name:"枣庄市",children:[{code:370402,name:"市中区"},{code:370403,name:"薛城区"},{code:370404,name:"峄城区"},{code:370405,name:"台儿庄区"},{code:370406,name:"山亭区"},{code:370481,name:"滕州市"}]},{code:370500,name:"东营市",children:[{code:370502,name:"东营区"},{code:370503,name:"河口区"},{code:370505,name:"垦利区"},{code:370522,name:"利津县"},{code:370523,name:"广饶县"},{code:370571,name:"东营经济技术开发区"},{code:370572,name:"东营港经济开发区"}]},{code:370600,name:"烟台市",children:[{code:370602,name:"芝罘区"},{code:370611,name:"福山区"},{code:370612,name:"牟平区"},{code:370613,name:"莱山区"},{code:370614,name:"蓬莱区"},{code:370671,name:"烟台高新技术产业开发区"},{code:370672,name:"烟台经济技术开发区"},{code:370681,name:"龙口市"},{code:370682,name:"莱阳市"},{code:370683,name:"莱州市"},{code:370685,name:"招远市"},{code:370686,name:"栖霞市"},{code:370687,name:"海阳市"}]},{code:370700,name:"潍坊市",children:[{code:370702,name:"潍城区"},{code:370703,name:"寒亭区"},{code:370704,name:"坊子区"},{code:370705,name:"奎文区"},{code:370724,name:"临朐县"},{code:370725,name:"昌乐县"},{code:370772,name:"潍坊滨海经济技术开发区"},{code:370781,name:"青州市"},{code:370782,name:"诸城市"},{code:370783,name:"寿光市"},{code:370784,name:"安丘市"},{code:370785,name:"高密市"},{code:370786,name:"昌邑市"}]},{code:370800,name:"济宁市",children:[{code:370811,name:"任城区"},{code:370812,name:"兖州区"},{code:370826,name:"微山县"},{code:370827,name:"鱼台县"},{code:370828,name:"金乡县"},{code:370829,name:"嘉祥县"},{code:370830,name:"汶上县"},{code:370831,name:"泗水县"},{code:370832,name:"梁山县"},{code:370871,name:"济宁高新技术产业开发区"},{code:370881,name:"曲阜市"},{code:370883,name:"邹城市"}]},{code:370900,name:"泰安市",children:[{code:370902,name:"泰山区"},{code:370911,name:"岱岳区"},{code:370921,name:"宁阳县"},{code:370923,name:"东平县"},{code:370982,name:"新泰市"},{code:370983,name:"肥城市"}]},{code:371e3,name:"威海市",children:[{code:371002,name:"环翠区"},{code:371003,name:"文登区"},{code:371071,name:"威海火炬高技术产业开发区"},{code:371072,name:"威海经济技术开发区"},{code:371073,name:"威海临港经济技术开发区"},{code:371082,name:"荣成市"},{code:371083,name:"乳山市"}]},{code:371100,name:"日照市",children:[{code:371102,name:"东港区"},{code:371103,name:"岚山区"},{code:371121,name:"五莲县"},{code:371122,name:"莒县"},{code:371171,name:"日照经济技术开发区"}]},{code:371300,name:"临沂市",children:[{code:371302,name:"兰山区"},{code:371311,name:"罗庄区"},{code:371312,name:"河东区"},{code:371321,name:"沂南县"},{code:371322,name:"郯城县"},{code:371323,name:"沂水县"},{code:371324,name:"兰陵县"},{code:371325,name:"费县"},{code:371326,name:"平邑县"},{code:371327,name:"莒南县"},{code:371328,name:"蒙阴县"},{code:371329,name:"临沭县"},{code:371371,name:"临沂高新技术产业开发区"}]},{code:371400,name:"德州市",children:[{code:371402,name:"德城区"},{code:371403,name:"陵城区"},{code:371422,name:"宁津县"},{code:371423,name:"庆云县"},{code:371424,name:"临邑县"},{code:371425,name:"齐河县"},{code:371426,name:"平原县"},{code:371427,name:"夏津县"},{code:371428,name:"武城县"},{code:371471,name:"德州经济技术开发区"},{code:371472,name:"德州运河经济开发区"},{code:371481,name:"乐陵市"},{code:371482,name:"禹城市"}]},{code:371500,name:"聊城市",children:[{code:371502,name:"东昌府区"},{code:371503,name:"茌平区"},{code:371521,name:"阳谷县"},{code:371522,name:"莘县"},{code:371524,name:"东阿县"},{code:371525,name:"冠县"},{code:371526,name:"高唐县"},{code:371581,name:"临清市"}]},{code:371600,name:"滨州市",children:[{code:371602,name:"滨城区"},{code:371603,name:"沾化区"},{code:371621,name:"惠民县"},{code:371622,name:"阳信县"},{code:371623,name:"无棣县"},{code:371625,name:"博兴县"},{code:371681,name:"邹平市"}]},{code:371700,name:"菏泽市",children:[{code:371702,name:"牡丹区"},{code:371703,name:"定陶区"},{code:371721,name:"曹县"},{code:371722,name:"单县"},{code:371723,name:"成武县"},{code:371724,name:"巨野县"},{code:371725,name:"郓城县"},{code:371726,name:"鄄城县"},{code:371728,name:"东明县"},{code:371771,name:"菏泽经济技术开发区"},{code:371772,name:"菏泽高新技术开发区"}]}]},{code:41e4,name:"河南省",children:[{code:410100,name:"郑州市",children:[{code:410102,name:"中原区"},{code:410103,name:"二七区"},{code:410104,name:"管城回族区"},{code:410105,name:"金水区"},{code:410106,name:"上街区"},{code:410108,name:"惠济区"},{code:410122,name:"中牟县"},{code:410171,name:"郑州经济技术开发区"},{code:410172,name:"郑州高新技术产业开发区"},{code:410173,name:"郑州航空港经济综合实验区"},{code:410181,name:"巩义市"},{code:410182,name:"荥阳市"},{code:410183,name:"新密市"},{code:410184,name:"新郑市"},{code:410185,name:"登封市"}]},{code:410200,name:"开封市",children:[{code:410202,name:"龙亭区"},{code:410203,name:"顺河回族区"},{code:410204,name:"鼓楼区"},{code:410205,name:"禹王台区"},{code:410212,name:"祥符区"},{code:410221,name:"杞县"},{code:410222,name:"通许县"},{code:410223,name:"尉氏县"},{code:410225,name:"兰考县"}]},{code:410300,name:"洛阳市",children:[{code:410302,name:"老城区"},{code:410303,name:"西工区"},{code:410304,name:"瀍河回族区"},{code:410305,name:"涧西区"},{code:410307,name:"偃师区"},{code:410308,name:"孟津区"},{code:410311,name:"洛龙区"},{code:410323,name:"新安县"},{code:410324,name:"栾川县"},{code:410325,name:"嵩县"},{code:410326,name:"汝阳县"},{code:410327,name:"宜阳县"},{code:410328,name:"洛宁县"},{code:410329,name:"伊川县"},{code:410371,name:"洛阳高新技术产业开发区"}]},{code:410400,name:"平顶山市",children:[{code:410402,name:"新华区"},{code:410403,name:"卫东区"},{code:410404,name:"石龙区"},{code:410411,name:"湛河区"},{code:410421,name:"宝丰县"},{code:410422,name:"叶县"},{code:410423,name:"鲁山县"},{code:410425,name:"郏县"},{code:410471,name:"平顶山高新技术产业开发区"},{code:410472,name:"平顶山市城乡一体化示范区"},{code:410481,name:"舞钢市"},{code:410482,name:"汝州市"}]},{code:410500,name:"安阳市",children:[{code:410502,name:"文峰区"},{code:410503,name:"北关区"},{code:410505,name:"殷都区"},{code:410506,name:"龙安区"},{code:410522,name:"安阳县"},{code:410523,name:"汤阴县"},{code:410526,name:"滑县"},{code:410527,name:"内黄县"},{code:410571,name:"安阳高新技术产业开发区"},{code:410581,name:"林州市"}]},{code:410600,name:"鹤壁市",children:[{code:410602,name:"鹤山区"},{code:410603,name:"山城区"},{code:410611,name:"淇滨区"},{code:410621,name:"浚县"},{code:410622,name:"淇县"},{code:410671,name:"鹤壁经济技术开发区"}]},{code:410700,name:"新乡市",children:[{code:410702,name:"红旗区"},{code:410703,name:"卫滨区"},{code:410704,name:"凤泉区"},{code:410711,name:"牧野区"},{code:410721,name:"新乡县"},{code:410724,name:"获嘉县"},{code:410725,name:"原阳县"},{code:410726,name:"延津县"},{code:410727,name:"封丘县"},{code:410771,name:"新乡高新技术产业开发区"},{code:410772,name:"新乡经济技术开发区"},{code:410773,name:"新乡市平原城乡一体化示范区"},{code:410781,name:"卫辉市"},{code:410782,name:"辉县市"},{code:410783,name:"长垣市"}]},{code:410800,name:"焦作市",children:[{code:410802,name:"解放区"},{code:410803,name:"中站区"},{code:410804,name:"马村区"},{code:410811,name:"山阳区"},{code:410821,name:"修武县"},{code:410822,name:"博爱县"},{code:410823,name:"武陟县"},{code:410825,name:"温县"},{code:410871,name:"焦作城乡一体化示范区"},{code:410882,name:"沁阳市"},{code:410883,name:"孟州市"}]},{code:410900,name:"濮阳市",children:[{code:410902,name:"华龙区"},{code:410922,name:"清丰县"},{code:410923,name:"南乐县"},{code:410926,name:"范县"},{code:410927,name:"台前县"},{code:410928,name:"濮阳县"},{code:410971,name:"河南濮阳工业园区"},{code:410972,name:"濮阳经济技术开发区"}]},{code:411e3,name:"许昌市",children:[{code:411002,name:"魏都区"},{code:411003,name:"建安区"},{code:411024,name:"鄢陵县"},{code:411025,name:"襄城县"},{code:411071,name:"许昌经济技术开发区"},{code:411081,name:"禹州市"},{code:411082,name:"长葛市"}]},{code:411100,name:"漯河市",children:[{code:411102,name:"源汇区"},{code:411103,name:"郾城区"},{code:411104,name:"召陵区"},{code:411121,name:"舞阳县"},{code:411122,name:"临颍县"},{code:411171,name:"漯河经济技术开发区"}]},{code:411200,name:"三门峡市",children:[{code:411202,name:"湖滨区"},{code:411203,name:"陕州区"},{code:411221,name:"渑池县"},{code:411224,name:"卢氏县"},{code:411271,name:"河南三门峡经济开发区"},{code:411281,name:"义马市"},{code:411282,name:"灵宝市"}]},{code:411300,name:"南阳市",children:[{code:411302,name:"宛城区"},{code:411303,name:"卧龙区"},{code:411321,name:"南召县"},{code:411322,name:"方城县"},{code:411323,name:"西峡县"},{code:411324,name:"镇平县"},{code:411325,name:"内乡县"},{code:411326,name:"淅川县"},{code:411327,name:"社旗县"},{code:411328,name:"唐河县"},{code:411329,name:"新野县"},{code:411330,name:"桐柏县"},{code:411371,name:"南阳高新技术产业开发区"},{code:411372,name:"南阳市城乡一体化示范区"},{code:411381,name:"邓州市"}]},{code:411400,name:"商丘市",children:[{code:411402,name:"梁园区"},{code:411403,name:"睢阳区"},{code:411421,name:"民权县"},{code:411422,name:"睢县"},{code:411423,name:"宁陵县"},{code:411424,name:"柘城县"},{code:411425,name:"虞城县"},{code:411426,name:"夏邑县"},{code:411471,name:"豫东综合物流产业聚集区"},{code:411472,name:"河南商丘经济开发区"},{code:411481,name:"永城市"}]},{code:411500,name:"信阳市",children:[{code:411502,name:"浉河区"},{code:411503,name:"平桥区"},{code:411521,name:"罗山县"},{code:411522,name:"光山县"},{code:411523,name:"新县"},{code:411524,name:"商城县"},{code:411525,name:"固始县"},{code:411526,name:"潢川县"},{code:411527,name:"淮滨县"},{code:411528,name:"息县"},{code:411571,name:"信阳高新技术产业开发区"}]},{code:411600,name:"周口市",children:[{code:411602,name:"川汇区"},{code:411603,name:"淮阳区"},{code:411621,name:"扶沟县"},{code:411622,name:"西华县"},{code:411623,name:"商水县"},{code:411624,name:"沈丘县"},{code:411625,name:"郸城县"},{code:411627,name:"太康县"},{code:411628,name:"鹿邑县"},{code:411671,name:"河南周口经济开发区"},{code:411681,name:"项城市"}]},{code:411700,name:"驻马店市",children:[{code:411702,name:"驿城区"},{code:411721,name:"西平县"},{code:411722,name:"上蔡县"},{code:411723,name:"平舆县"},{code:411724,name:"正阳县"},{code:411725,name:"确山县"},{code:411726,name:"泌阳县"},{code:411727,name:"汝南县"},{code:411728,name:"遂平县"},{code:411729,name:"新蔡县"},{code:411771,name:"河南驻马店经济开发区"}]},{code:419e3,name:"省直辖县级行政区划",children:[{code:419001,name:"济源市"}]}]},{code:42e4,name:"湖北省",children:[{code:420100,name:"武汉市",children:[{code:420102,name:"江岸区"},{code:420103,name:"江汉区"},{code:420104,name:"硚口区"},{code:420105,name:"汉阳区"},{code:420106,name:"武昌区"},{code:420107,name:"青山区"},{code:420111,name:"洪山区"},{code:420112,name:"东西湖区"},{code:420113,name:"汉南区"},{code:420114,name:"蔡甸区"},{code:420115,name:"江夏区"},{code:420116,name:"黄陂区"},{code:420117,name:"新洲区"}]},{code:420200,name:"黄石市",children:[{code:420202,name:"黄石港区"},{code:420203,name:"西塞山区"},{code:420204,name:"下陆区"},{code:420205,name:"铁山区"},{code:420222,name:"阳新县"},{code:420281,name:"大冶市"}]},{code:420300,name:"十堰市",children:[{code:420302,name:"茅箭区"},{code:420303,name:"张湾区"},{code:420304,name:"郧阳区"},{code:420322,name:"郧西县"},{code:420323,name:"竹山县"},{code:420324,name:"竹溪县"},{code:420325,name:"房县"},{code:420381,name:"丹江口市"}]},{code:420500,name:"宜昌市",children:[{code:420502,name:"西陵区"},{code:420503,name:"伍家岗区"},{code:420504,name:"点军区"},{code:420505,name:"猇亭区"},{code:420506,name:"夷陵区"},{code:420525,name:"远安县"},{code:420526,name:"兴山县"},{code:420527,name:"秭归县"},{code:420528,name:"长阳土家族自治县"},{code:420529,name:"五峰土家族自治县"},{code:420581,name:"宜都市"},{code:420582,name:"当阳市"},{code:420583,name:"枝江市"}]},{code:420600,name:"襄阳市",children:[{code:420602,name:"襄城区"},{code:420606,name:"樊城区"},{code:420607,name:"襄州区"},{code:420624,name:"南漳县"},{code:420625,name:"谷城县"},{code:420626,name:"保康县"},{code:420682,name:"老河口市"},{code:420683,name:"枣阳市"},{code:420684,name:"宜城市"}]},{code:420700,name:"鄂州市",children:[{code:420702,name:"梁子湖区"},{code:420703,name:"华容区"},{code:420704,name:"鄂城区"}]},{code:420800,name:"荆门市",children:[{code:420802,name:"东宝区"},{code:420804,name:"掇刀区"},{code:420822,name:"沙洋县"},{code:420881,name:"钟祥市"},{code:420882,name:"京山市"}]},{code:420900,name:"孝感市",children:[{code:420902,name:"孝南区"},{code:420921,name:"孝昌县"},{code:420922,name:"大悟县"},{code:420923,name:"云梦县"},{code:420981,name:"应城市"},{code:420982,name:"安陆市"},{code:420984,name:"汉川市"}]},{code:421e3,name:"荆州市",children:[{code:421002,name:"沙市区"},{code:421003,name:"荆州区"},{code:421022,name:"公安县"},{code:421024,name:"江陵县"},{code:421071,name:"荆州经济技术开发区"},{code:421081,name:"石首市"},{code:421083,name:"洪湖市"},{code:421087,name:"松滋市"},{code:421088,name:"监利市"}]},{code:421100,name:"黄冈市",children:[{code:421102,name:"黄州区"},{code:421121,name:"团风县"},{code:421122,name:"红安县"},{code:421123,name:"罗田县"},{code:421124,name:"英山县"},{code:421125,name:"浠水县"},{code:421126,name:"蕲春县"},{code:421127,name:"黄梅县"},{code:421171,name:"龙感湖管理区"},{code:421181,name:"麻城市"},{code:421182,name:"武穴市"}]},{code:421200,name:"咸宁市",children:[{code:421202,name:"咸安区"},{code:421221,name:"嘉鱼县"},{code:421222,name:"通城县"},{code:421223,name:"崇阳县"},{code:421224,name:"通山县"},{code:421281,name:"赤壁市"}]},{code:421300,name:"随州市",children:[{code:421303,name:"曾都区"},{code:421321,name:"随县"},{code:421381,name:"广水市"}]},{code:422800,name:"恩施土家族苗族自治州",children:[{code:422801,name:"恩施市"},{code:422802,name:"利川市"},{code:422822,name:"建始县"},{code:422823,name:"巴东县"},{code:422825,name:"宣恩县"},{code:422826,name:"咸丰县"},{code:422827,name:"来凤县"},{code:422828,name:"鹤峰县"}]},{code:429e3,name:"省直辖县级行政区划",children:[{code:429004,name:"仙桃市"},{code:429005,name:"潜江市"},{code:429006,name:"天门市"},{code:429021,name:"神农架林区"}]}]},{code:43e4,name:"湖南省",children:[{code:430100,name:"长沙市",children:[{code:430102,name:"芙蓉区"},{code:430103,name:"天心区"},{code:430104,name:"岳麓区"},{code:430105,name:"开福区"},{code:430111,name:"雨花区"},{code:430112,name:"望城区"},{code:430121,name:"长沙县"},{code:430181,name:"浏阳市"},{code:430182,name:"宁乡市"}]},{code:430200,name:"株洲市",children:[{code:430202,name:"荷塘区"},{code:430203,name:"芦淞区"},{code:430204,name:"石峰区"},{code:430211,name:"天元区"},{code:430212,name:"渌口区"},{code:430223,name:"攸县"},{code:430224,name:"茶陵县"},{code:430225,name:"炎陵县"},{code:430271,name:"云龙示范区"},{code:430281,name:"醴陵市"}]},{code:430300,name:"湘潭市",children:[{code:430302,name:"雨湖区"},{code:430304,name:"岳塘区"},{code:430321,name:"湘潭县"},{code:430371,name:"湖南湘潭高新技术产业园区"},{code:430372,name:"湘潭昭山示范区"},{code:430373,name:"湘潭九华示范区"},{code:430381,name:"湘乡市"},{code:430382,name:"韶山市"}]},{code:430400,name:"衡阳市",children:[{code:430405,name:"珠晖区"},{code:430406,name:"雁峰区"},{code:430407,name:"石鼓区"},{code:430408,name:"蒸湘区"},{code:430412,name:"南岳区"},{code:430421,name:"衡阳县"},{code:430422,name:"衡南县"},{code:430423,name:"衡山县"},{code:430424,name:"衡东县"},{code:430426,name:"祁东县"},{code:430471,name:"衡阳综合保税区"},{code:430472,name:"湖南衡阳高新技术产业园区"},{code:430473,name:"湖南衡阳松木经济开发区"},{code:430481,name:"耒阳市"},{code:430482,name:"常宁市"}]},{code:430500,name:"邵阳市",children:[{code:430502,name:"双清区"},{code:430503,name:"大祥区"},{code:430511,name:"北塔区"},{code:430522,name:"新邵县"},{code:430523,name:"邵阳县"},{code:430524,name:"隆回县"},{code:430525,name:"洞口县"},{code:430527,name:"绥宁县"},{code:430528,name:"新宁县"},{code:430529,name:"城步苗族自治县"},{code:430581,name:"武冈市"},{code:430582,name:"邵东市"}]},{code:430600,name:"岳阳市",children:[{code:430602,name:"岳阳楼区"},{code:430603,name:"云溪区"},{code:430611,name:"君山区"},{code:430621,name:"岳阳县"},{code:430623,name:"华容县"},{code:430624,name:"湘阴县"},{code:430626,name:"平江县"},{code:430671,name:"岳阳市屈原管理区"},{code:430681,name:"汨罗市"},{code:430682,name:"临湘市"}]},{code:430700,name:"常德市",children:[{code:430702,name:"武陵区"},{code:430703,name:"鼎城区"},{code:430721,name:"安乡县"},{code:430722,name:"汉寿县"},{code:430723,name:"澧县"},{code:430724,name:"临澧县"},{code:430725,name:"桃源县"},{code:430726,name:"石门县"},{code:430771,name:"常德市西洞庭管理区"},{code:430781,name:"津市市"}]},{code:430800,name:"张家界市",children:[{code:430802,name:"永定区"},{code:430811,name:"武陵源区"},{code:430821,name:"慈利县"},{code:430822,name:"桑植县"}]},{code:430900,name:"益阳市",children:[{code:430902,name:"资阳区"},{code:430903,name:"赫山区"},{code:430921,name:"南县"},{code:430922,name:"桃江县"},{code:430923,name:"安化县"},{code:430971,name:"益阳市大通湖管理区"},{code:430972,name:"湖南益阳高新技术产业园区"},{code:430981,name:"沅江市"}]},{code:431e3,name:"郴州市",children:[{code:431002,name:"北湖区"},{code:431003,name:"苏仙区"},{code:431021,name:"桂阳县"},{code:431022,name:"宜章县"},{code:431023,name:"永兴县"},{code:431024,name:"嘉禾县"},{code:431025,name:"临武县"},{code:431026,name:"汝城县"},{code:431027,name:"桂东县"},{code:431028,name:"安仁县"},{code:431081,name:"资兴市"}]},{code:431100,name:"永州市",children:[{code:431102,name:"零陵区"},{code:431103,name:"冷水滩区"},{code:431122,name:"东安县"},{code:431123,name:"双牌县"},{code:431124,name:"道县"},{code:431125,name:"江永县"},{code:431126,name:"宁远县"},{code:431127,name:"蓝山县"},{code:431128,name:"新田县"},{code:431129,name:"江华瑶族自治县"},{code:431171,name:"永州经济技术开发区"},{code:431173,name:"永州市回龙圩管理区"},{code:431181,name:"祁阳市"}]},{code:431200,name:"怀化市",children:[{code:431202,name:"鹤城区"},{code:431221,name:"中方县"},{code:431222,name:"沅陵县"},{code:431223,name:"辰溪县"},{code:431224,name:"溆浦县"},{code:431225,name:"会同县"},{code:431226,name:"麻阳苗族自治县"},{code:431227,name:"新晃侗族自治县"},{code:431228,name:"芷江侗族自治县"},{code:431229,name:"靖州苗族侗族自治县"},{code:431230,name:"通道侗族自治县"},{code:431271,name:"怀化市洪江管理区"},{code:431281,name:"洪江市"}]},{code:431300,name:"娄底市",children:[{code:431302,name:"娄星区"},{code:431321,name:"双峰县"},{code:431322,name:"新化县"},{code:431381,name:"冷水江市"},{code:431382,name:"涟源市"}]},{code:433100,name:"湘西土家族苗族自治州",children:[{code:433101,name:"吉首市"},{code:433122,name:"泸溪县"},{code:433123,name:"凤凰县"},{code:433124,name:"花垣县"},{code:433125,name:"保靖县"},{code:433126,name:"古丈县"},{code:433127,name:"永顺县"},{code:433130,name:"龙山县"}]}]},{code:44e4,name:"广东省",children:[{code:440100,name:"广州市",children:[{code:440103,name:"荔湾区"},{code:440104,name:"越秀区"},{code:440105,name:"海珠区"},{code:440106,name:"天河区"},{code:440111,name:"白云区"},{code:440112,name:"黄埔区"},{code:440113,name:"番禺区"},{code:440114,name:"花都区"},{code:440115,name:"南沙区"},{code:440117,name:"从化区"},{code:440118,name:"增城区"}]},{code:440200,name:"韶关市",children:[{code:440203,name:"武江区"},{code:440204,name:"浈江区"},{code:440205,name:"曲江区"},{code:440222,name:"始兴县"},{code:440224,name:"仁化县"},{code:440229,name:"翁源县"},{code:440232,name:"乳源瑶族自治县"},{code:440233,name:"新丰县"},{code:440281,name:"乐昌市"},{code:440282,name:"南雄市"}]},{code:440300,name:"深圳市",children:[{code:440303,name:"罗湖区"},{code:440304,name:"福田区"},{code:440305,name:"南山区"},{code:440306,name:"宝安区"},{code:440307,name:"龙岗区"},{code:440308,name:"盐田区"},{code:440309,name:"龙华区"},{code:440310,name:"坪山区"},{code:440311,name:"光明区"}]},{code:440400,name:"珠海市",children:[{code:440402,name:"香洲区"},{code:440403,name:"斗门区"},{code:440404,name:"金湾区"}]},{code:440500,name:"汕头市",children:[{code:440507,name:"龙湖区"},{code:440511,name:"金平区"},{code:440512,name:"濠江区"},{code:440513,name:"潮阳区"},{code:440514,name:"潮南区"},{code:440515,name:"澄海区"},{code:440523,name:"南澳县"}]},{code:440600,name:"佛山市",children:[{code:440604,name:"禅城区"},{code:440605,name:"南海区"},{code:440606,name:"顺德区"},{code:440607,name:"三水区"},{code:440608,name:"高明区"}]},{code:440700,name:"江门市",children:[{code:440703,name:"蓬江区"},{code:440704,name:"江海区"},{code:440705,name:"新会区"},{code:440781,name:"台山市"},{code:440783,name:"开平市"},{code:440784,name:"鹤山市"},{code:440785,name:"恩平市"}]},{code:440800,name:"湛江市",children:[{code:440802,name:"赤坎区"},{code:440803,name:"霞山区"},{code:440804,name:"坡头区"},{code:440811,name:"麻章区"},{code:440823,name:"遂溪县"},{code:440825,name:"徐闻县"},{code:440881,name:"廉江市"},{code:440882,name:"雷州市"},{code:440883,name:"吴川市"}]},{code:440900,name:"茂名市",children:[{code:440902,name:"茂南区"},{code:440904,name:"电白区"},{code:440981,name:"高州市"},{code:440982,name:"化州市"},{code:440983,name:"信宜市"}]},{code:441200,name:"肇庆市",children:[{code:441202,name:"端州区"},{code:441203,name:"鼎湖区"},{code:441204,name:"高要区"},{code:441223,name:"广宁县"},{code:441224,name:"怀集县"},{code:441225,name:"封开县"},{code:441226,name:"德庆县"},{code:441284,name:"四会市"}]},{code:441300,name:"惠州市",children:[{code:441302,name:"惠城区"},{code:441303,name:"惠阳区"},{code:441322,name:"博罗县"},{code:441323,name:"惠东县"},{code:441324,name:"龙门县"}]},{code:441400,name:"梅州市",children:[{code:441402,name:"梅江区"},{code:441403,name:"梅县区"},{code:441422,name:"大埔县"},{code:441423,name:"丰顺县"},{code:441424,name:"五华县"},{code:441426,name:"平远县"},{code:441427,name:"蕉岭县"},{code:441481,name:"兴宁市"}]},{code:441500,name:"汕尾市",children:[{code:441502,name:"城区"},{code:441521,name:"海丰县"},{code:441523,name:"陆河县"},{code:441581,name:"陆丰市"}]},{code:441600,name:"河源市",children:[{code:441602,name:"源城区"},{code:441621,name:"紫金县"},{code:441622,name:"龙川县"},{code:441623,name:"连平县"},{code:441624,name:"和平县"},{code:441625,name:"东源县"}]},{code:441700,name:"阳江市",children:[{code:441702,name:"江城区"},{code:441704,name:"阳东区"},{code:441721,name:"阳西县"},{code:441781,name:"阳春市"}]},{code:441800,name:"清远市",children:[{code:441802,name:"清城区"},{code:441803,name:"清新区"},{code:441821,name:"佛冈县"},{code:441823,name:"阳山县"},{code:441825,name:"连山壮族瑶族自治县"},{code:441826,name:"连南瑶族自治县"},{code:441881,name:"英德市"},{code:441882,name:"连州市"}]},{code:441900,name:"东莞市",children:[{code:441900003,name:"东城街道"},{code:441900004,name:"南城街道"},{code:441900005,name:"万江街道"},{code:441900006,name:"莞城街道"},{code:441900101,name:"石碣镇"},{code:441900102,name:"石龙镇"},{code:441900103,name:"茶山镇"},{code:441900104,name:"石排镇"},{code:441900105,name:"企石镇"},{code:441900106,name:"横沥镇"},{code:441900107,name:"桥头镇"},{code:441900108,name:"谢岗镇"},{code:441900109,name:"东坑镇"},{code:441900110,name:"常平镇"},{code:441900111,name:"寮步镇"},{code:441900112,name:"樟木头镇"},{code:441900113,name:"大朗镇"},{code:441900114,name:"黄江镇"},{code:441900115,name:"清溪镇"},{code:441900116,name:"塘厦镇"},{code:441900117,name:"凤岗镇"},{code:441900118,name:"大岭山镇"},{code:441900119,name:"长安镇"},{code:441900121,name:"虎门镇"},{code:441900122,name:"厚街镇"},{code:441900123,name:"沙田镇"},{code:441900124,name:"道滘镇"},{code:441900125,name:"洪梅镇"},{code:441900126,name:"麻涌镇"},{code:441900127,name:"望牛墩镇"},{code:441900128,name:"中堂镇"},{code:441900129,name:"高埗镇"},{code:441900401,name:"松山湖"},{code:441900402,name:"东莞港"},{code:441900403,name:"东莞生态园"},{code:441900404,name:"东莞滨海湾新区"}]},{code:442e3,name:"中山市",children:[{code:442000001,name:"石岐街道"},{code:442000002,name:"东区街道"},{code:442000003,name:"中山港街道"},{code:442000004,name:"西区街道"},{code:442000005,name:"南区街道"},{code:442000006,name:"五桂山街道"},{code:442000007,name:"民众街道"},{code:442000008,name:"南朗街道"},{code:442000101,name:"黄圃镇"},{code:442000103,name:"东凤镇"},{code:442000105,name:"古镇镇"},{code:442000106,name:"沙溪镇"},{code:442000107,name:"坦洲镇"},{code:442000108,name:"港口镇"},{code:442000109,name:"三角镇"},{code:442000110,name:"横栏镇"},{code:442000111,name:"南头镇"},{code:442000112,name:"阜沙镇"},{code:442000114,name:"三乡镇"},{code:442000115,name:"板芙镇"},{code:442000116,name:"大涌镇"},{code:442000117,name:"神湾镇"},{code:442000118,name:"小榄镇"}]},{code:445100,name:"潮州市",children:[{code:445102,name:"湘桥区"},{code:445103,name:"潮安区"},{code:445122,name:"饶平县"}]},{code:445200,name:"揭阳市",children:[{code:445202,name:"榕城区"},{code:445203,name:"揭东区"},{code:445222,name:"揭西县"},{code:445224,name:"惠来县"},{code:445281,name:"普宁市"}]},{code:445300,name:"云浮市",children:[{code:445302,name:"云城区"},{code:445303,name:"云安区"},{code:445321,name:"新兴县"},{code:445322,name:"郁南县"},{code:445381,name:"罗定市"}]}]},{code:45e4,name:"广西壮族自治区",children:[{code:450100,name:"南宁市",children:[{code:450102,name:"兴宁区"},{code:450103,name:"青秀区"},{code:450105,name:"江南区"},{code:450107,name:"西乡塘区"},{code:450108,name:"良庆区"},{code:450109,name:"邕宁区"},{code:450110,name:"武鸣区"},{code:450123,name:"隆安县"},{code:450124,name:"马山县"},{code:450125,name:"上林县"},{code:450126,name:"宾阳县"},{code:450181,name:"横州市"}]},{code:450200,name:"柳州市",children:[{code:450202,name:"城中区"},{code:450203,name:"鱼峰区"},{code:450204,name:"柳南区"},{code:450205,name:"柳北区"},{code:450206,name:"柳江区"},{code:450222,name:"柳城县"},{code:450223,name:"鹿寨县"},{code:450224,name:"融安县"},{code:450225,name:"融水苗族自治县"},{code:450226,name:"三江侗族自治县"}]},{code:450300,name:"桂林市",children:[{code:450302,name:"秀峰区"},{code:450303,name:"叠彩区"},{code:450304,name:"象山区"},{code:450305,name:"七星区"},{code:450311,name:"雁山区"},{code:450312,name:"临桂区"},{code:450321,name:"阳朔县"},{code:450323,name:"灵川县"},{code:450324,name:"全州县"},{code:450325,name:"兴安县"},{code:450326,name:"永福县"},{code:450327,name:"灌阳县"},{code:450328,name:"龙胜各族自治县"},{code:450329,name:"资源县"},{code:450330,name:"平乐县"},{code:450332,name:"恭城瑶族自治县"},{code:450381,name:"荔浦市"}]},{code:450400,name:"梧州市",children:[{code:450403,name:"万秀区"},{code:450405,name:"长洲区"},{code:450406,name:"龙圩区"},{code:450421,name:"苍梧县"},{code:450422,name:"藤县"},{code:450423,name:"蒙山县"},{code:450481,name:"岑溪市"}]},{code:450500,name:"北海市",children:[{code:450502,name:"海城区"},{code:450503,name:"银海区"},{code:450512,name:"铁山港区"},{code:450521,name:"合浦县"}]},{code:450600,name:"防城港市",children:[{code:450602,name:"港口区"},{code:450603,name:"防城区"},{code:450621,name:"上思县"},{code:450681,name:"东兴市"}]},{code:450700,name:"钦州市",children:[{code:450702,name:"钦南区"},{code:450703,name:"钦北区"},{code:450721,name:"灵山县"},{code:450722,name:"浦北县"}]},{code:450800,name:"贵港市",children:[{code:450802,name:"港北区"},{code:450803,name:"港南区"},{code:450804,name:"覃塘区"},{code:450821,name:"平南县"},{code:450881,name:"桂平市"}]},{code:450900,name:"玉林市",children:[{code:450902,name:"玉州区"},{code:450903,name:"福绵区"},{code:450921,name:"容县"},{code:450922,name:"陆川县"},{code:450923,name:"博白县"},{code:450924,name:"兴业县"},{code:450981,name:"北流市"}]},{code:451e3,name:"百色市",children:[{code:451002,name:"右江区"},{code:451003,name:"田阳区"},{code:451022,name:"田东县"},{code:451024,name:"德保县"},{code:451026,name:"那坡县"},{code:451027,name:"凌云县"},{code:451028,name:"乐业县"},{code:451029,name:"田林县"},{code:451030,name:"西林县"},{code:451031,name:"隆林各族自治县"},{code:451081,name:"靖西市"},{code:451082,name:"平果市"}]},{code:451100,name:"贺州市",children:[{code:451102,name:"八步区"},{code:451103,name:"平桂区"},{code:451121,name:"昭平县"},{code:451122,name:"钟山县"},{code:451123,name:"富川瑶族自治县"}]},{code:451200,name:"河池市",children:[{code:451202,name:"金城江区"},{code:451203,name:"宜州区"},{code:451221,name:"南丹县"},{code:451222,name:"天峨县"},{code:451223,name:"凤山县"},{code:451224,name:"东兰县"},{code:451225,name:"罗城仫佬族自治县"},{code:451226,name:"环江毛南族自治县"},{code:451227,name:"巴马瑶族自治县"},{code:451228,name:"都安瑶族自治县"},{code:451229,name:"大化瑶族自治县"}]},{code:451300,name:"来宾市",children:[{code:451302,name:"兴宾区"},{code:451321,name:"忻城县"},{code:451322,name:"象州县"},{code:451323,name:"武宣县"},{code:451324,name:"金秀瑶族自治县"},{code:451381,name:"合山市"}]},{code:451400,name:"崇左市",children:[{code:451402,name:"江州区"},{code:451421,name:"扶绥县"},{code:451422,name:"宁明县"},{code:451423,name:"龙州县"},{code:451424,name:"大新县"},{code:451425,name:"天等县"},{code:451481,name:"凭祥市"}]}]},{code:46e4,name:"海南省",children:[{code:460100,name:"海口市",children:[{code:460105,name:"秀英区"},{code:460106,name:"龙华区"},{code:460107,name:"琼山区"},{code:460108,name:"美兰区"}]},{code:460200,name:"三亚市",children:[{code:460202,name:"海棠区"},{code:460203,name:"吉阳区"},{code:460204,name:"天涯区"},{code:460205,name:"崖州区"}]},{code:460300,name:"三沙市",children:[{code:460321,name:"西沙群岛"},{code:460322,name:"南沙群岛"},{code:460323,name:"中沙群岛的岛礁及其海域"}]},{code:460400,name:"儋州市",children:[{code:460400100,name:"那大镇"},{code:460400101,name:"和庆镇"},{code:460400102,name:"南丰镇"},{code:460400103,name:"大成镇"},{code:460400104,name:"雅星镇"},{code:460400105,name:"兰洋镇"},{code:460400106,name:"光村镇"},{code:460400107,name:"木棠镇"},{code:460400108,name:"海头镇"},{code:460400109,name:"峨蔓镇"},{code:460400111,name:"王五镇"},{code:460400112,name:"白马井镇"},{code:460400113,name:"中和镇"},{code:460400114,name:"排浦镇"},{code:460400115,name:"东成镇"},{code:460400116,name:"新州镇"},{code:460400499,name:"洋浦经济开发区"},{code:460400500,name:"华南热作学院"}]},{code:469e3,name:"省直辖县级行政区划",children:[{code:469001,name:"五指山市"},{code:469002,name:"琼海市"},{code:469005,name:"文昌市"},{code:469006,name:"万宁市"},{code:469007,name:"东方市"},{code:469021,name:"定安县"},{code:469022,name:"屯昌县"},{code:469023,name:"澄迈县"},{code:469024,name:"临高县"},{code:469025,name:"白沙黎族自治县"},{code:469026,name:"昌江黎族自治县"},{code:469027,name:"乐东黎族自治县"},{code:469028,name:"陵水黎族自治县"},{code:469029,name:"保亭黎族苗族自治县"},{code:469030,name:"琼中黎族苗族自治县"}]}]},{code:5e5,name:"重庆市",children:[{code:500100,name:"重庆城区",children:[{code:500101,name:"万州区"},{code:500102,name:"涪陵区"},{code:500103,name:"渝中区"},{code:500104,name:"大渡口区"},{code:500105,name:"江北区"},{code:500106,name:"沙坪坝区"},{code:500107,name:"九龙坡区"},{code:500108,name:"南岸区"},{code:500109,name:"北碚区"},{code:500110,name:"綦江区"},{code:500111,name:"大足区"},{code:500112,name:"渝北区"},{code:500113,name:"巴南区"},{code:500114,name:"黔江区"},{code:500115,name:"长寿区"},{code:500116,name:"江津区"},{code:500117,name:"合川区"},{code:500118,name:"永川区"},{code:500119,name:"南川区"},{code:500120,name:"璧山区"},{code:500151,name:"铜梁区"},{code:500152,name:"潼南区"},{code:500153,name:"荣昌区"},{code:500154,name:"开州区"},{code:500155,name:"梁平区"},{code:500156,name:"武隆区"}]},{code:500200,name:"县",children:[{code:500229,name:"城口县"},{code:500230,name:"丰都县"},{code:500231,name:"垫江县"},{code:500233,name:"忠县"},{code:500235,name:"云阳县"},{code:500236,name:"奉节县"},{code:500237,name:"巫山县"},{code:500238,name:"巫溪县"},{code:500240,name:"石柱土家族自治县"},{code:500241,name:"秀山土家族苗族自治县"},{code:500242,name:"酉阳土家族苗族自治县"},{code:500243,name:"彭水苗族土家族自治县"}]}]},{code:51e4,name:"四川省",children:[{code:510100,name:"成都市",children:[{code:510104,name:"锦江区"},{code:510105,name:"青羊区"},{code:510106,name:"金牛区"},{code:510107,name:"武侯区"},{code:510108,name:"成华区"},{code:510112,name:"龙泉驿区"},{code:510113,name:"青白江区"},{code:510114,name:"新都区"},{code:510115,name:"温江区"},{code:510116,name:"双流区"},{code:510117,name:"郫都区"},{code:510118,name:"新津区"},{code:510121,name:"金堂县"},{code:510129,name:"大邑县"},{code:510131,name:"蒲江县"},{code:510181,name:"都江堰市"},{code:510182,name:"彭州市"},{code:510183,name:"邛崃市"},{code:510184,name:"崇州市"},{code:510185,name:"简阳市"}]},{code:510300,name:"自贡市",children:[{code:510302,name:"自流井区"},{code:510303,name:"贡井区"},{code:510304,name:"大安区"},{code:510311,name:"沿滩区"},{code:510321,name:"荣县"},{code:510322,name:"富顺县"}]},{code:510400,name:"攀枝花市",children:[{code:510402,name:"东区"},{code:510403,name:"西区"},{code:510411,name:"仁和区"},{code:510421,name:"米易县"},{code:510422,name:"盐边县"}]},{code:510500,name:"泸州市",children:[{code:510502,name:"江阳区"},{code:510503,name:"纳溪区"},{code:510504,name:"龙马潭区"},{code:510521,name:"泸县"},{code:510522,name:"合江县"},{code:510524,name:"叙永县"},{code:510525,name:"古蔺县"}]},{code:510600,name:"德阳市",children:[{code:510603,name:"旌阳区"},{code:510604,name:"罗江区"},{code:510623,name:"中江县"},{code:510681,name:"广汉市"},{code:510682,name:"什邡市"},{code:510683,name:"绵竹市"}]},{code:510700,name:"绵阳市",children:[{code:510703,name:"涪城区"},{code:510704,name:"游仙区"},{code:510705,name:"安州区"},{code:510722,name:"三台县"},{code:510723,name:"盐亭县"},{code:510725,name:"梓潼县"},{code:510726,name:"北川羌族自治县"},{code:510727,name:"平武县"},{code:510781,name:"江油市"}]},{code:510800,name:"广元市",children:[{code:510802,name:"利州区"},{code:510811,name:"昭化区"},{code:510812,name:"朝天区"},{code:510821,name:"旺苍县"},{code:510822,name:"青川县"},{code:510823,name:"剑阁县"},{code:510824,name:"苍溪县"}]},{code:510900,name:"遂宁市",children:[{code:510903,name:"船山区"},{code:510904,name:"安居区"},{code:510921,name:"蓬溪县"},{code:510923,name:"大英县"},{code:510981,name:"射洪市"}]},{code:511e3,name:"内江市",children:[{code:511002,name:"市中区"},{code:511011,name:"东兴区"},{code:511024,name:"威远县"},{code:511025,name:"资中县"},{code:511071,name:"内江经济开发区"},{code:511083,name:"隆昌市"}]},{code:511100,name:"乐山市",children:[{code:511102,name:"市中区"},{code:511111,name:"沙湾区"},{code:511112,name:"五通桥区"},{code:511113,name:"金口河区"},{code:511123,name:"犍为县"},{code:511124,name:"井研县"},{code:511126,name:"夹江县"},{code:511129,name:"沐川县"},{code:511132,name:"峨边彝族自治县"},{code:511133,name:"马边彝族自治县"},{code:511181,name:"峨眉山市"}]},{code:511300,name:"南充市",children:[{code:511302,name:"顺庆区"},{code:511303,name:"高坪区"},{code:511304,name:"嘉陵区"},{code:511321,name:"南部县"},{code:511322,name:"营山县"},{code:511323,name:"蓬安县"},{code:511324,name:"仪陇县"},{code:511325,name:"西充县"},{code:511381,name:"阆中市"}]},{code:511400,name:"眉山市",children:[{code:511402,name:"东坡区"},{code:511403,name:"彭山区"},{code:511421,name:"仁寿县"},{code:511423,name:"洪雅县"},{code:511424,name:"丹棱县"},{code:511425,name:"青神县"}]},{code:511500,name:"宜宾市",children:[{code:511502,name:"翠屏区"},{code:511503,name:"南溪区"},{code:511504,name:"叙州区"},{code:511523,name:"江安县"},{code:511524,name:"长宁县"},{code:511525,name:"高县"},{code:511526,name:"珙县"},{code:511527,name:"筠连县"},{code:511528,name:"兴文县"},{code:511529,name:"屏山县"}]},{code:511600,name:"广安市",children:[{code:511602,name:"广安区"},{code:511603,name:"前锋区"},{code:511621,name:"岳池县"},{code:511622,name:"武胜县"},{code:511623,name:"邻水县"},{code:511681,name:"华蓥市"}]},{code:511700,name:"达州市",children:[{code:511702,name:"通川区"},{code:511703,name:"达川区"},{code:511722,name:"宣汉县"},{code:511723,name:"开江县"},{code:511724,name:"大竹县"},{code:511725,name:"渠县"},{code:511771,name:"达州经济开发区"},{code:511781,name:"万源市"}]},{code:511800,name:"雅安市",children:[{code:511802,name:"雨城区"},{code:511803,name:"名山区"},{code:511822,name:"荥经县"},{code:511823,name:"汉源县"},{code:511824,name:"石棉县"},{code:511825,name:"天全县"},{code:511826,name:"芦山县"},{code:511827,name:"宝兴县"}]},{code:511900,name:"巴中市",children:[{code:511902,name:"巴州区"},{code:511903,name:"恩阳区"},{code:511921,name:"通江县"},{code:511922,name:"南江县"},{code:511923,name:"平昌县"},{code:511971,name:"巴中经济开发区"}]},{code:512e3,name:"资阳市",children:[{code:512002,name:"雁江区"},{code:512021,name:"安岳县"},{code:512022,name:"乐至县"}]},{code:513200,name:"阿坝藏族羌族自治州",children:[{code:513201,name:"马尔康市"},{code:513221,name:"汶川县"},{code:513222,name:"理县"},{code:513223,name:"茂县"},{code:513224,name:"松潘县"},{code:513225,name:"九寨沟县"},{code:513226,name:"金川县"},{code:513227,name:"小金县"},{code:513228,name:"黑水县"},{code:513230,name:"壤塘县"},{code:513231,name:"阿坝县"},{code:513232,name:"若尔盖县"},{code:513233,name:"红原县"}]},{code:513300,name:"甘孜藏族自治州",children:[{code:513301,name:"康定市"},{code:513322,name:"泸定县"},{code:513323,name:"丹巴县"},{code:513324,name:"九龙县"},{code:513325,name:"雅江县"},{code:513326,name:"道孚县"},{code:513327,name:"炉霍县"},{code:513328,name:"甘孜县"},{code:513329,name:"新龙县"},{code:513330,name:"德格县"},{code:513331,name:"白玉县"},{code:513332,name:"石渠县"},{code:513333,name:"色达县"},{code:513334,name:"理塘县"},{code:513335,name:"巴塘县"},{code:513336,name:"乡城县"},{code:513337,name:"稻城县"},{code:513338,name:"得荣县"}]},{code:513400,name:"凉山彝族自治州",children:[{code:513401,name:"西昌市"},{code:513402,name:"会理市"},{code:513422,name:"木里藏族自治县"},{code:513423,name:"盐源县"},{code:513424,name:"德昌县"},{code:513426,name:"会东县"},{code:513427,name:"宁南县"},{code:513428,name:"普格县"},{code:513429,name:"布拖县"},{code:513430,name:"金阳县"},{code:513431,name:"昭觉县"},{code:513432,name:"喜德县"},{code:513433,name:"冕宁县"},{code:513434,name:"越西县"},{code:513435,name:"甘洛县"},{code:513436,name:"美姑县"},{code:513437,name:"雷波县"}]}]},{code:52e4,name:"贵州省",children:[{code:520100,name:"贵阳市",children:[{code:520102,name:"南明区"},{code:520103,name:"云岩区"},{code:520111,name:"花溪区"},{code:520112,name:"乌当区"},{code:520113,name:"白云区"},{code:520115,name:"观山湖区"},{code:520121,name:"开阳县"},{code:520122,name:"息烽县"},{code:520123,name:"修文县"},{code:520181,name:"清镇市"}]},{code:520200,name:"六盘水市",children:[{code:520201,name:"钟山区"},{code:520203,name:"六枝特区"},{code:520204,name:"水城区"},{code:520281,name:"盘州市"}]},{code:520300,name:"遵义市",children:[{code:520302,name:"红花岗区"},{code:520303,name:"汇川区"},{code:520304,name:"播州区"},{code:520322,name:"桐梓县"},{code:520323,name:"绥阳县"},{code:520324,name:"正安县"},{code:520325,name:"道真仡佬族苗族自治县"},{code:520326,name:"务川仡佬族苗族自治县"},{code:520327,name:"凤冈县"},{code:520328,name:"湄潭县"},{code:520329,name:"余庆县"},{code:520330,name:"习水县"},{code:520381,name:"赤水市"},{code:520382,name:"仁怀市"}]},{code:520400,name:"安顺市",children:[{code:520402,name:"西秀区"},{code:520403,name:"平坝区"},{code:520422,name:"普定县"},{code:520423,name:"镇宁布依族苗族自治县"},{code:520424,name:"关岭布依族苗族自治县"},{code:520425,name:"紫云苗族布依族自治县"}]},{code:520500,name:"毕节市",children:[{code:520502,name:"七星关区"},{code:520521,name:"大方县"},{code:520523,name:"金沙县"},{code:520524,name:"织金县"},{code:520525,name:"纳雍县"},{code:520526,name:"威宁彝族回族苗族自治县"},{code:520527,name:"赫章县"},{code:520581,name:"黔西市"}]},{code:520600,name:"铜仁市",children:[{code:520602,name:"碧江区"},{code:520603,name:"万山区"},{code:520621,name:"江口县"},{code:520622,name:"玉屏侗族自治县"},{code:520623,name:"石阡县"},{code:520624,name:"思南县"},{code:520625,name:"印江土家族苗族自治县"},{code:520626,name:"德江县"},{code:520627,name:"沿河土家族自治县"},{code:520628,name:"松桃苗族自治县"}]},{code:522300,name:"黔西南布依族苗族自治州",children:[{code:522301,name:"兴义市"},{code:522302,name:"兴仁市"},{code:522323,name:"普安县"},{code:522324,name:"晴隆县"},{code:522325,name:"贞丰县"},{code:522326,name:"望谟县"},{code:522327,name:"册亨县"},{code:522328,name:"安龙县"}]},{code:522600,name:"黔东南苗族侗族自治州",children:[{code:522601,name:"凯里市"},{code:522622,name:"黄平县"},{code:522623,name:"施秉县"},{code:522624,name:"三穗县"},{code:522625,name:"镇远县"},{code:522626,name:"岑巩县"},{code:522627,name:"天柱县"},{code:522628,name:"锦屏县"},{code:522629,name:"剑河县"},{code:522630,name:"台江县"},{code:522631,name:"黎平县"},{code:522632,name:"榕江县"},{code:522633,name:"从江县"},{code:522634,name:"雷山县"},{code:522635,name:"麻江县"},{code:522636,name:"丹寨县"}]},{code:522700,name:"黔南布依族苗族自治州",children:[{code:522701,name:"都匀市"},{code:522702,name:"福泉市"},{code:522722,name:"荔波县"},{code:522723,name:"贵定县"},{code:522725,name:"瓮安县"},{code:522726,name:"独山县"},{code:522727,name:"平塘县"},{code:522728,name:"罗甸县"},{code:522729,name:"长顺县"},{code:522730,name:"龙里县"},{code:522731,name:"惠水县"},{code:522732,name:"三都水族自治县"}]}]},{code:53e4,name:"云南省",children:[{code:530100,name:"昆明市",children:[{code:530102,name:"五华区"},{code:530103,name:"盘龙区"},{code:530111,name:"官渡区"},{code:530112,name:"西山区"},{code:530113,name:"东川区"},{code:530114,name:"呈贡区"},{code:530115,name:"晋宁区"},{code:530124,name:"富民县"},{code:530125,name:"宜良县"},{code:530126,name:"石林彝族自治县"},{code:530127,name:"嵩明县"},{code:530128,name:"禄劝彝族苗族自治县"},{code:530129,name:"寻甸回族彝族自治县"},{code:530181,name:"安宁市"}]},{code:530300,name:"曲靖市",children:[{code:530302,name:"麒麟区"},{code:530303,name:"沾益区"},{code:530304,name:"马龙区"},{code:530322,name:"陆良县"},{code:530323,name:"师宗县"},{code:530324,name:"罗平县"},{code:530325,name:"富源县"},{code:530326,name:"会泽县"},{code:530381,name:"宣威市"}]},{code:530400,name:"玉溪市",children:[{code:530402,name:"红塔区"},{code:530403,name:"江川区"},{code:530423,name:"通海县"},{code:530424,name:"华宁县"},{code:530425,name:"易门县"},{code:530426,name:"峨山彝族自治县"},{code:530427,name:"新平彝族傣族自治县"},{code:530428,name:"元江哈尼族彝族傣族自治县"},{code:530481,name:"澄江市"}]},{code:530500,name:"保山市",children:[{code:530502,name:"隆阳区"},{code:530521,name:"施甸县"},{code:530523,name:"龙陵县"},{code:530524,name:"昌宁县"},{code:530581,name:"腾冲市"}]},{code:530600,name:"昭通市",children:[{code:530602,name:"昭阳区"},{code:530621,name:"鲁甸县"},{code:530622,name:"巧家县"},{code:530623,name:"盐津县"},{code:530624,name:"大关县"},{code:530625,name:"永善县"},{code:530626,name:"绥江县"},{code:530627,name:"镇雄县"},{code:530628,name:"彝良县"},{code:530629,name:"威信县"},{code:530681,name:"水富市"}]},{code:530700,name:"丽江市",children:[{code:530702,name:"古城区"},{code:530721,name:"玉龙纳西族自治县"},{code:530722,name:"永胜县"},{code:530723,name:"华坪县"},{code:530724,name:"宁蒗彝族自治县"}]},{code:530800,name:"普洱市",children:[{code:530802,name:"思茅区"},{code:530821,name:"宁洱哈尼族彝族自治县"},{code:530822,name:"墨江哈尼族自治县"},{code:530823,name:"景东彝族自治县"},{code:530824,name:"景谷傣族彝族自治县"},{code:530825,name:"镇沅彝族哈尼族拉祜族自治县"},{code:530826,name:"江城哈尼族彝族自治县"},{code:530827,name:"孟连傣族拉祜族佤族自治县"},{code:530828,name:"澜沧拉祜族自治县"},{code:530829,name:"西盟佤族自治县"}]},{code:530900,name:"临沧市",children:[{code:530902,name:"临翔区"},{code:530921,name:"凤庆县"},{code:530922,name:"云县"},{code:530923,name:"永德县"},{code:530924,name:"镇康县"},{code:530925,name:"双江拉祜族佤族布朗族傣族自治县"},{code:530926,name:"耿马傣族佤族自治县"},{code:530927,name:"沧源佤族自治县"}]},{code:532300,name:"楚雄彝族自治州",children:[{code:532301,name:"楚雄市"},{code:532302,name:"禄丰市"},{code:532322,name:"双柏县"},{code:532323,name:"牟定县"},{code:532324,name:"南华县"},{code:532325,name:"姚安县"},{code:532326,name:"大姚县"},{code:532327,name:"永仁县"},{code:532328,name:"元谋县"},{code:532329,name:"武定县"}]},{code:532500,name:"红河哈尼族彝族自治州",children:[{code:532501,name:"个旧市"},{code:532502,name:"开远市"},{code:532503,name:"蒙自市"},{code:532504,name:"弥勒市"},{code:532523,name:"屏边苗族自治县"},{code:532524,name:"建水县"},{code:532525,name:"石屏县"},{code:532527,name:"泸西县"},{code:532528,name:"元阳县"},{code:532529,name:"红河县"},{code:532530,name:"金平苗族瑶族傣族自治县"},{code:532531,name:"绿春县"},{code:532532,name:"河口瑶族自治县"}]},{code:532600,name:"文山壮族苗族自治州",children:[{code:532601,name:"文山市"},{code:532622,name:"砚山县"},{code:532623,name:"西畴县"},{code:532624,name:"麻栗坡县"},{code:532625,name:"马关县"},{code:532626,name:"丘北县"},{code:532627,name:"广南县"},{code:532628,name:"富宁县"}]},{code:532800,name:"西双版纳傣族自治州",children:[{code:532801,name:"景洪市"},{code:532822,name:"勐海县"},{code:532823,name:"勐腊县"}]},{code:532900,name:"大理白族自治州",children:[{code:532901,name:"大理市"},{code:532922,name:"漾濞彝族自治县"},{code:532923,name:"祥云县"},{code:532924,name:"宾川县"},{code:532925,name:"弥渡县"},{code:532926,name:"南涧彝族自治县"},{code:532927,name:"巍山彝族回族自治县"},{code:532928,name:"永平县"},{code:532929,name:"云龙县"},{code:532930,name:"洱源县"},{code:532931,name:"剑川县"},{code:532932,name:"鹤庆县"}]},{code:533100,name:"德宏傣族景颇族自治州",children:[{code:533102,name:"瑞丽市"},{code:533103,name:"芒市"},{code:533122,name:"梁河县"},{code:533123,name:"盈江县"},{code:533124,name:"陇川县"}]},{code:533300,name:"怒江傈僳族自治州",children:[{code:533301,name:"泸水市"},{code:533323,name:"福贡县"},{code:533324,name:"贡山独龙族怒族自治县"},{code:533325,name:"兰坪白族普米族自治县"}]},{code:533400,name:"迪庆藏族自治州",children:[{code:533401,name:"香格里拉市"},{code:533422,name:"德钦县"},{code:533423,name:"维西傈僳族自治县"}]}]},{code:54e4,name:"西藏自治区",children:[{code:540100,name:"拉萨市",children:[{code:540102,name:"城关区"},{code:540103,name:"堆龙德庆区"},{code:540104,name:"达孜区"},{code:540121,name:"林周县"},{code:540122,name:"当雄县"},{code:540123,name:"尼木县"},{code:540124,name:"曲水县"},{code:540127,name:"墨竹工卡县"},{code:540171,name:"格尔木藏青工业园区"},{code:540172,name:"拉萨经济技术开发区"},{code:540173,name:"西藏文化旅游创意园区"},{code:540174,name:"达孜工业园区"}]},{code:540200,name:"日喀则市",children:[{code:540202,name:"桑珠孜区"},{code:540221,name:"南木林县"},{code:540222,name:"江孜县"},{code:540223,name:"定日县"},{code:540224,name:"萨迦县"},{code:540225,name:"拉孜县"},{code:540226,name:"昂仁县"},{code:540227,name:"谢通门县"},{code:540228,name:"白朗县"},{code:540229,name:"仁布县"},{code:540230,name:"康马县"},{code:540231,name:"定结县"},{code:540232,name:"仲巴县"},{code:540233,name:"亚东县"},{code:540234,name:"吉隆县"},{code:540235,name:"聂拉木县"},{code:540236,name:"萨嘎县"},{code:540237,name:"岗巴县"}]},{code:540300,name:"昌都市",children:[{code:540302,name:"卡若区"},{code:540321,name:"江达县"},{code:540322,name:"贡觉县"},{code:540323,name:"类乌齐县"},{code:540324,name:"丁青县"},{code:540325,name:"察雅县"},{code:540326,name:"八宿县"},{code:540327,name:"左贡县"},{code:540328,name:"芒康县"},{code:540329,name:"洛隆县"},{code:540330,name:"边坝县"}]},{code:540400,name:"林芝市",children:[{code:540402,name:"巴宜区"},{code:540421,name:"工布江达县"},{code:540422,name:"米林县"},{code:540423,name:"墨脱县"},{code:540424,name:"波密县"},{code:540425,name:"察隅县"},{code:540426,name:"朗县"}]},{code:540500,name:"山南市",children:[{code:540502,name:"乃东区"},{code:540521,name:"扎囊县"},{code:540522,name:"贡嘎县"},{code:540523,name:"桑日县"},{code:540524,name:"琼结县"},{code:540525,name:"曲松县"},{code:540526,name:"措美县"},{code:540527,name:"洛扎县"},{code:540528,name:"加查县"},{code:540529,name:"隆子县"},{code:540530,name:"错那县"},{code:540531,name:"浪卡子县"}]},{code:540600,name:"那曲市",children:[{code:540602,name:"色尼区"},{code:540621,name:"嘉黎县"},{code:540622,name:"比如县"},{code:540623,name:"聂荣县"},{code:540624,name:"安多县"},{code:540625,name:"申扎县"},{code:540626,name:"索县"},{code:540627,name:"班戈县"},{code:540628,name:"巴青县"},{code:540629,name:"尼玛县"},{code:540630,name:"双湖县"}]},{code:542500,name:"阿里地区",children:[{code:542521,name:"普兰县"},{code:542522,name:"札达县"},{code:542523,name:"噶尔县"},{code:542524,name:"日土县"},{code:542525,name:"革吉县"},{code:542526,name:"改则县"},{code:542527,name:"措勤县"}]}]},{code:61e4,name:"陕西省",children:[{code:610100,name:"西安市",children:[{code:610102,name:"新城区"},{code:610103,name:"碑林区"},{code:610104,name:"莲湖区"},{code:610111,name:"灞桥区"},{code:610112,name:"未央区"},{code:610113,name:"雁塔区"},{code:610114,name:"阎良区"},{code:610115,name:"临潼区"},{code:610116,name:"长安区"},{code:610117,name:"高陵区"},{code:610118,name:"鄠邑区"},{code:610122,name:"蓝田县"},{code:610124,name:"周至县"}]},{code:610200,name:"铜川市",children:[{code:610202,name:"王益区"},{code:610203,name:"印台区"},{code:610204,name:"耀州区"},{code:610222,name:"宜君县"}]},{code:610300,name:"宝鸡市",children:[{code:610302,name:"渭滨区"},{code:610303,name:"金台区"},{code:610304,name:"陈仓区"},{code:610305,name:"凤翔区"},{code:610323,name:"岐山县"},{code:610324,name:"扶风县"},{code:610326,name:"眉县"},{code:610327,name:"陇县"},{code:610328,name:"千阳县"},{code:610329,name:"麟游县"},{code:610330,name:"凤县"},{code:610331,name:"太白县"}]},{code:610400,name:"咸阳市",children:[{code:610402,name:"秦都区"},{code:610403,name:"杨陵区"},{code:610404,name:"渭城区"},{code:610422,name:"三原县"},{code:610423,name:"泾阳县"},{code:610424,name:"乾县"},{code:610425,name:"礼泉县"},{code:610426,name:"永寿县"},{code:610428,name:"长武县"},{code:610429,name:"旬邑县"},{code:610430,name:"淳化县"},{code:610431,name:"武功县"},{code:610481,name:"兴平市"},{code:610482,name:"彬州市"}]},{code:610500,name:"渭南市",children:[{code:610502,name:"临渭区"},{code:610503,name:"华州区"},{code:610522,name:"潼关县"},{code:610523,name:"大荔县"},{code:610524,name:"合阳县"},{code:610525,name:"澄城县"},{code:610526,name:"蒲城县"},{code:610527,name:"白水县"},{code:610528,name:"富平县"},{code:610581,name:"韩城市"},{code:610582,name:"华阴市"}]},{code:610600,name:"延安市",children:[{code:610602,name:"宝塔区"},{code:610603,name:"安塞区"},{code:610621,name:"延长县"},{code:610622,name:"延川县"},{code:610625,name:"志丹县"},{code:610626,name:"吴起县"},{code:610627,name:"甘泉县"},{code:610628,name:"富县"},{code:610629,name:"洛川县"},{code:610630,name:"宜川县"},{code:610631,name:"黄龙县"},{code:610632,name:"黄陵县"},{code:610681,name:"子长市"}]},{code:610700,name:"汉中市",children:[{code:610702,name:"汉台区"},{code:610703,name:"南郑区"},{code:610722,name:"城固县"},{code:610723,name:"洋县"},{code:610724,name:"西乡县"},{code:610725,name:"勉县"},{code:610726,name:"宁强县"},{code:610727,name:"略阳县"},{code:610728,name:"镇巴县"},{code:610729,name:"留坝县"},{code:610730,name:"佛坪县"}]},{code:610800,name:"榆林市",children:[{code:610802,name:"榆阳区"},{code:610803,name:"横山区"},{code:610822,name:"府谷县"},{code:610824,name:"靖边县"},{code:610825,name:"定边县"},{code:610826,name:"绥德县"},{code:610827,name:"米脂县"},{code:610828,name:"佳县"},{code:610829,name:"吴堡县"},{code:610830,name:"清涧县"},{code:610831,name:"子洲县"},{code:610881,name:"神木市"}]},{code:610900,name:"安康市",children:[{code:610902,name:"汉滨区"},{code:610921,name:"汉阴县"},{code:610922,name:"石泉县"},{code:610923,name:"宁陕县"},{code:610924,name:"紫阳县"},{code:610925,name:"岚皋县"},{code:610926,name:"平利县"},{code:610927,name:"镇坪县"},{code:610929,name:"白河县"},{code:610981,name:"旬阳市"}]},{code:611e3,name:"商洛市",children:[{code:611002,name:"商州区"},{code:611021,name:"洛南县"},{code:611022,name:"丹凤县"},{code:611023,name:"商南县"},{code:611024,name:"山阳县"},{code:611025,name:"镇安县"},{code:611026,name:"柞水县"}]}]},{code:62e4,name:"甘肃省",children:[{code:620100,name:"兰州市",children:[{code:620102,name:"城关区"},{code:620103,name:"七里河区"},{code:620104,name:"西固区"},{code:620105,name:"安宁区"},{code:620111,name:"红古区"},{code:620121,name:"永登县"},{code:620122,name:"皋兰县"},{code:620123,name:"榆中县"},{code:620171,name:"兰州新区"}]},{code:620200,name:"嘉峪关市",children:[{code:620201001,name:"雄关街道"},{code:620201002,name:"钢城街道"},{code:620201100,name:"新城镇"},{code:620201101,name:"峪泉镇"},{code:620201102,name:"文殊镇"}]},{code:620300,name:"金昌市",children:[{code:620302,name:"金川区"},{code:620321,name:"永昌县"}]},{code:620400,name:"白银市",children:[{code:620402,name:"白银区"},{code:620403,name:"平川区"},{code:620421,name:"靖远县"},{code:620422,name:"会宁县"},{code:620423,name:"景泰县"}]},{code:620500,name:"天水市",children:[{code:620502,name:"秦州区"},{code:620503,name:"麦积区"},{code:620521,name:"清水县"},{code:620522,name:"秦安县"},{code:620523,name:"甘谷县"},{code:620524,name:"武山县"},{code:620525,name:"张家川回族自治县"}]},{code:620600,name:"武威市",children:[{code:620602,name:"凉州区"},{code:620621,name:"民勤县"},{code:620622,name:"古浪县"},{code:620623,name:"天祝藏族自治县"}]},{code:620700,name:"张掖市",children:[{code:620702,name:"甘州区"},{code:620721,name:"肃南裕固族自治县"},{code:620722,name:"民乐县"},{code:620723,name:"临泽县"},{code:620724,name:"高台县"},{code:620725,name:"山丹县"}]},{code:620800,name:"平凉市",children:[{code:620802,name:"崆峒区"},{code:620821,name:"泾川县"},{code:620822,name:"灵台县"},{code:620823,name:"崇信县"},{code:620825,name:"庄浪县"},{code:620826,name:"静宁县"},{code:620881,name:"华亭市"}]},{code:620900,name:"酒泉市",children:[{code:620902,name:"肃州区"},{code:620921,name:"金塔县"},{code:620922,name:"瓜州县"},{code:620923,name:"肃北蒙古族自治县"},{code:620924,name:"阿克塞哈萨克族自治县"},{code:620981,name:"玉门市"},{code:620982,name:"敦煌市"}]},{code:621e3,name:"庆阳市",children:[{code:621002,name:"西峰区"},{code:621021,name:"庆城县"},{code:621022,name:"环县"},{code:621023,name:"华池县"},{code:621024,name:"合水县"},{code:621025,name:"正宁县"},{code:621026,name:"宁县"},{code:621027,name:"镇原县"}]},{code:621100,name:"定西市",children:[{code:621102,name:"安定区"},{code:621121,name:"通渭县"},{code:621122,name:"陇西县"},{code:621123,name:"渭源县"},{code:621124,name:"临洮县"},{code:621125,name:"漳县"},{code:621126,name:"岷县"}]},{code:621200,name:"陇南市",children:[{code:621202,name:"武都区"},{code:621221,name:"成县"},{code:621222,name:"文县"},{code:621223,name:"宕昌县"},{code:621224,name:"康县"},{code:621225,name:"西和县"},{code:621226,name:"礼县"},{code:621227,name:"徽县"},{code:621228,name:"两当县"}]},{code:622900,name:"临夏回族自治州",children:[{code:622901,name:"临夏市"},{code:622921,name:"临夏县"},{code:622922,name:"康乐县"},{code:622923,name:"永靖县"},{code:622924,name:"广河县"},{code:622925,name:"和政县"},{code:622926,name:"东乡族自治县"},{code:622927,name:"积石山保安族东乡族撒拉族自治县"}]},{code:623e3,name:"甘南藏族自治州",children:[{code:623001,name:"合作市"},{code:623021,name:"临潭县"},{code:623022,name:"卓尼县"},{code:623023,name:"舟曲县"},{code:623024,name:"迭部县"},{code:623025,name:"玛曲县"},{code:623026,name:"碌曲县"},{code:623027,name:"夏河县"}]}]},{code:63e4,name:"青海省",children:[{code:630100,name:"西宁市",children:[{code:630102,name:"城东区"},{code:630103,name:"城中区"},{code:630104,name:"城西区"},{code:630105,name:"城北区"},{code:630106,name:"湟中区"},{code:630121,name:"大通回族土族自治县"},{code:630123,name:"湟源县"}]},{code:630200,name:"海东市",children:[{code:630202,name:"乐都区"},{code:630203,name:"平安区"},{code:630222,name:"民和回族土族自治县"},{code:630223,name:"互助土族自治县"},{code:630224,name:"化隆回族自治县"},{code:630225,name:"循化撒拉族自治县"}]},{code:632200,name:"海北藏族自治州",children:[{code:632221,name:"门源回族自治县"},{code:632222,name:"祁连县"},{code:632223,name:"海晏县"},{code:632224,name:"刚察县"}]},{code:632300,name:"黄南藏族自治州",children:[{code:632301,name:"同仁市"},{code:632322,name:"尖扎县"},{code:632323,name:"泽库县"},{code:632324,name:"河南蒙古族自治县"}]},{code:632500,name:"海南藏族自治州",children:[{code:632521,name:"共和县"},{code:632522,name:"同德县"},{code:632523,name:"贵德县"},{code:632524,name:"兴海县"},{code:632525,name:"贵南县"}]},{code:632600,name:"果洛藏族自治州",children:[{code:632621,name:"玛沁县"},{code:632622,name:"班玛县"},{code:632623,name:"甘德县"},{code:632624,name:"达日县"},{code:632625,name:"久治县"},{code:632626,name:"玛多县"}]},{code:632700,name:"玉树藏族自治州",children:[{code:632701,name:"玉树市"},{code:632722,name:"杂多县"},{code:632723,name:"称多县"},{code:632724,name:"治多县"},{code:632725,name:"囊谦县"},{code:632726,name:"曲麻莱县"}]},{code:632800,name:"海西蒙古族藏族自治州",children:[{code:632801,name:"格尔木市"},{code:632802,name:"德令哈市"},{code:632803,name:"茫崖市"},{code:632821,name:"乌兰县"},{code:632822,name:"都兰县"},{code:632823,name:"天峻县"},{code:632857,name:"大柴旦行政委员会"}]}]},{code:64e4,name:"宁夏回族自治区",children:[{code:640100,name:"银川市",children:[{code:640104,name:"兴庆区"},{code:640105,name:"西夏区"},{code:640106,name:"金凤区"},{code:640121,name:"永宁县"},{code:640122,name:"贺兰县"},{code:640181,name:"灵武市"}]},{code:640200,name:"石嘴山市",children:[{code:640202,name:"大武口区"},{code:640205,name:"惠农区"},{code:640221,name:"平罗县"}]},{code:640300,name:"吴忠市",children:[{code:640302,name:"利通区"},{code:640303,name:"红寺堡区"},{code:640323,name:"盐池县"},{code:640324,name:"同心县"},{code:640381,name:"青铜峡市"}]},{code:640400,name:"固原市",children:[{code:640402,name:"原州区"},{code:640422,name:"西吉县"},{code:640423,name:"隆德县"},{code:640424,name:"泾源县"},{code:640425,name:"彭阳县"}]},{code:640500,name:"中卫市",children:[{code:640502,name:"沙坡头区"},{code:640521,name:"中宁县"},{code:640522,name:"海原县"}]}]},{code:65e4,name:"新疆维吾尔自治区",children:[{code:650100,name:"乌鲁木齐市",children:[{code:650102,name:"天山区"},{code:650103,name:"沙依巴克区"},{code:650104,name:"新市区"},{code:650105,name:"水磨沟区"},{code:650106,name:"头屯河区"},{code:650107,name:"达坂城区"},{code:650109,name:"米东区"},{code:650121,name:"乌鲁木齐县"}]},{code:650200,name:"克拉玛依市",children:[{code:650202,name:"独山子区"},{code:650203,name:"克拉玛依区"},{code:650204,name:"白碱滩区"},{code:650205,name:"乌尔禾区"}]},{code:650400,name:"吐鲁番市",children:[{code:650402,name:"高昌区"},{code:650421,name:"鄯善县"},{code:650422,name:"托克逊县"}]},{code:650500,name:"哈密市",children:[{code:650502,name:"伊州区"},{code:650521,name:"巴里坤哈萨克自治县"},{code:650522,name:"伊吾县"}]},{code:652300,name:"昌吉回族自治州",children:[{code:652301,name:"昌吉市"},{code:652302,name:"阜康市"},{code:652323,name:"呼图壁县"},{code:652324,name:"玛纳斯县"},{code:652325,name:"奇台县"},{code:652327,name:"吉木萨尔县"},{code:652328,name:"木垒哈萨克自治县"}]},{code:652700,name:"博尔塔拉蒙古自治州",children:[{code:652701,name:"博乐市"},{code:652702,name:"阿拉山口市"},{code:652722,name:"精河县"},{code:652723,name:"温泉县"}]},{code:652800,name:"巴音郭楞蒙古自治州",children:[{code:652801,name:"库尔勒市"},{code:652822,name:"轮台县"},{code:652823,name:"尉犁县"},{code:652824,name:"若羌县"},{code:652825,name:"且末县"},{code:652826,name:"焉耆回族自治县"},{code:652827,name:"和静县"},{code:652828,name:"和硕县"},{code:652829,name:"博湖县"},{code:652871,name:"库尔勒经济技术开发区"}]},{code:652900,name:"阿克苏地区",children:[{code:652901,name:"阿克苏市"},{code:652902,name:"库车市"},{code:652922,name:"温宿县"},{code:652924,name:"沙雅县"},{code:652925,name:"新和县"},{code:652926,name:"拜城县"},{code:652927,name:"乌什县"},{code:652928,name:"阿瓦提县"},{code:652929,name:"柯坪县"}]},{code:653e3,name:"克孜勒苏柯尔克孜自治州",children:[{code:653001,name:"阿图什市"},{code:653022,name:"阿克陶县"},{code:653023,name:"阿合奇县"},{code:653024,name:"乌恰县"}]},{code:653100,name:"喀什地区",children:[{code:653101,name:"喀什市"},{code:653121,name:"疏附县"},{code:653122,name:"疏勒县"},{code:653123,name:"英吉沙县"},{code:653124,name:"泽普县"},{code:653125,name:"莎车县"},{code:653126,name:"叶城县"},{code:653127,name:"麦盖提县"},{code:653128,name:"岳普湖县"},{code:653129,name:"伽师县"},{code:653130,name:"巴楚县"},{code:653131,name:"塔什库尔干塔吉克自治县"}]},{code:653200,name:"和田地区",children:[{code:653201,name:"和田市"},{code:653221,name:"和田县"},{code:653222,name:"墨玉县"},{code:653223,name:"皮山县"},{code:653224,name:"洛浦县"},{code:653225,name:"策勒县"},{code:653226,name:"于田县"},{code:653227,name:"民丰县"}]},{code:654e3,name:"伊犁哈萨克自治州",children:[{code:654002,name:"伊宁市"},{code:654003,name:"奎屯市"},{code:654004,name:"霍尔果斯市"},{code:654021,name:"伊宁县"},{code:654022,name:"察布查尔锡伯自治县"},{code:654023,name:"霍城县"},{code:654024,name:"巩留县"},{code:654025,name:"新源县"},{code:654026,name:"昭苏县"},{code:654027,name:"特克斯县"},{code:654028,name:"尼勒克县"}]},{code:654200,name:"塔城地区",children:[{code:654201,name:"塔城市"},{code:654202,name:"乌苏市"},{code:654203,name:"沙湾市"},{code:654221,name:"额敏县"},{code:654224,name:"托里县"},{code:654225,name:"裕民县"},{code:654226,name:"和布克赛尔蒙古自治县"}]},{code:654300,name:"阿勒泰地区",children:[{code:654301,name:"阿勒泰市"},{code:654321,name:"布尔津县"},{code:654322,name:"富蕴县"},{code:654323,name:"福海县"},{code:654324,name:"哈巴河县"},{code:654325,name:"青河县"},{code:654326,name:"吉木乃县"}]},{code:659e3,name:"自治区直辖县级行政区划",children:[{code:659001,name:"石河子市"},{code:659002,name:"阿拉尔市"},{code:659003,name:"图木舒克市"},{code:659004,name:"五家渠市"},{code:659005,name:"北屯市"},{code:659006,name:"铁门关市"},{code:659007,name:"双河市"},{code:659008,name:"可克达拉市"},{code:659009,name:"昆玉市"},{code:659010,name:"胡杨河市"},{code:659011,name:"新星市"}]}]},{name:"台湾省",code:"710000",children:[{name:"台北市",code:"710100",children:[{name:"中正区",code:"710101"},{name:"大同区",code:"710102"},{name:"中山区",code:"710103"},{name:"松山区",code:"710104"},{name:"大安区",code:"710105"},{name:"万华区",code:"710106"},{name:"信义区",code:"710107"},{name:"士林区",code:"710108"},{name:"北投区",code:"710109"},{name:"内湖区",code:"710110"},{name:"南港区",code:"710111"},{name:"文山区",code:"710112"},{name:"其它区",code:"710199"}]},{name:"高雄市",code:"710200",children:[{name:"新兴区",code:"710201"},{name:"前金区",code:"710202"},{name:"芩雅区",code:"710203"},{name:"盐埕区",code:"710204"},{name:"鼓山区",code:"710205"},{name:"旗津区",code:"710206"},{name:"前镇区",code:"710207"},{name:"三民区",code:"710208"},{name:"左营区",code:"710209"},{name:"楠梓区",code:"710210"},{name:"小港区",code:"710211"},{name:"苓雅区",code:"710241"},{name:"仁武区",code:"710242"},{name:"大社区",code:"710243"},{name:"冈山区",code:"710244"},{name:"路竹区",code:"710245"},{name:"阿莲区",code:"710246"},{name:"田寮区",code:"710247"},{name:"燕巢区",code:"710248"},{name:"桥头区",code:"710249"},{name:"梓官区",code:"710250"},{name:"弥陀区",code:"710251"},{name:"永安区",code:"710252"},{name:"湖内区",code:"710253"},{name:"凤山区",code:"710254"},{name:"大寮区",code:"710255"},{name:"林园区",code:"710256"},{name:"鸟松区",code:"710257"},{name:"大树区",code:"710258"},{name:"旗山区",code:"710259"},{name:"美浓区",code:"710260"},{name:"六龟区",code:"710261"},{name:"内门区",code:"710262"},{name:"杉林区",code:"710263"},{name:"甲仙区",code:"710264"},{name:"桃源区",code:"710265"},{name:"那玛夏区",code:"710266"},{name:"茂林区",code:"710267"},{name:"茄萣区",code:"710268"},{name:"其它区",code:"710299"}]},{name:"台南市",code:"710300",children:[{name:"中西区",code:"710301"},{name:"东区",code:"710302"},{name:"南区",code:"710303"},{name:"北区",code:"710304"},{name:"安平区",code:"710305"},{name:"安南区",code:"710306"},{name:"永康区",code:"710339"},{name:"归仁区",code:"710340"},{name:"新化区",code:"710341"},{name:"左镇区",code:"710342"},{name:"玉井区",code:"710343"},{name:"楠西区",code:"710344"},{name:"南化区",code:"710345"},{name:"仁德区",code:"710346"},{name:"关庙区",code:"710347"},{name:"龙崎区",code:"710348"},{name:"官田区",code:"710349"},{name:"麻豆区",code:"710350"},{name:"佳里区",code:"710351"},{name:"西港区",code:"710352"},{name:"七股区",code:"710353"},{name:"将军区",code:"710354"},{name:"学甲区",code:"710355"},{name:"北门区",code:"710356"},{name:"新营区",code:"710357"},{name:"后壁区",code:"710358"},{name:"白河区",code:"710359"},{name:"东山区",code:"710360"},{name:"六甲区",code:"710361"},{name:"下营区",code:"710362"},{name:"柳营区",code:"710363"},{name:"盐水区",code:"710364"},{name:"善化区",code:"710365"},{name:"大内区",code:"710366"},{name:"山上区",code:"710367"},{name:"新市区",code:"710368"},{name:"安定区",code:"710369"},{name:"其它区",code:"710399"}]},{name:"台中市",code:"710400",children:[{name:"中区",code:"710401"},{name:"东区",code:"710402"},{name:"南区",code:"710403"},{name:"西区",code:"710404"},{name:"北区",code:"710405"},{name:"北屯区",code:"710406"},{name:"西屯区",code:"710407"},{name:"南屯区",code:"710408"},{name:"太平区",code:"710431"},{name:"大里区",code:"710432"},{name:"雾峰区",code:"710433"},{name:"乌日区",code:"710434"},{name:"丰原区",code:"710435"},{name:"后里区",code:"710436"},{name:"石冈区",code:"710437"},{name:"东势区",code:"710438"},{name:"和平区",code:"710439"},{name:"新社区",code:"710440"},{name:"潭子区",code:"710441"},{name:"大雅区",code:"710442"},{name:"神冈区",code:"710443"},{name:"大肚区",code:"710444"},{name:"沙鹿区",code:"710445"},{name:"龙井区",code:"710446"},{name:"梧栖区",code:"710447"},{name:"清水区",code:"710448"},{name:"大甲区",code:"710449"},{name:"外埔区",code:"710450"},{name:"大安区",code:"710451"},{name:"其它区",code:"710499"}]},{name:"金门县",code:"710500",children:[{name:"金沙镇",code:"710507"},{name:"金湖镇",code:"710508"},{name:"金宁乡",code:"710509"},{name:"金城镇",code:"710510"},{name:"烈屿乡",code:"710511"},{name:"乌坵乡",code:"710512"}]},{name:"南投县",code:"710600",children:[{name:"南投市",code:"710614"},{name:"中寮乡",code:"710615"},{name:"草屯镇",code:"710616"},{name:"国姓乡",code:"710617"},{name:"埔里镇",code:"710618"},{name:"仁爱乡",code:"710619"},{name:"名间乡",code:"710620"},{name:"集集镇",code:"710621"},{name:"水里乡",code:"710622"},{name:"鱼池乡",code:"710623"},{name:"信义乡",code:"710624"},{name:"竹山镇",code:"710625"},{name:"鹿谷乡",code:"710626"}]},{name:"基隆市",code:"710700",children:[{name:"仁爱区",code:"710701"},{name:"信义区",code:"710702"},{name:"中正区",code:"710703"},{name:"中山区",code:"710704"},{name:"安乐区",code:"710705"},{name:"暖暖区",code:"710706"},{name:"七堵区",code:"710707"},{name:"其它区",code:"710799"}]},{name:"新竹市",code:"710800",children:[{name:"东区",code:"710801"},{name:"北区",code:"710802"},{name:"香山区",code:"710803"},{name:"其它区",code:"710899"}]},{name:"嘉义市",code:"710900",children:[{name:"东区",code:"710901"},{name:"西区",code:"710902"},{name:"其它区",code:"710999"}]},{name:"新北市",code:"711100",children:[{name:"万里区",code:"711130"},{name:"板桥区",code:"711132"},{name:"汐止区",code:"711133"},{name:"深坑区",code:"711134"},{name:"瑞芳区",code:"711136"},{name:"平溪区",code:"711137"},{name:"双溪区",code:"711138"},{name:"新店区",code:"711140"},{name:"坪林区",code:"711141"},{name:"乌来区",code:"711142"},{name:"永和区",code:"711143"},{name:"中和区",code:"711144"},{name:"土城区",code:"711145"},{name:"三峡区",code:"711146"},{name:"树林区",code:"711147"},{name:"三重区",code:"711149"},{name:"新庄区",code:"711150"},{name:"泰山区",code:"711151"},{name:"林口区",code:"711152"},{name:"五股区",code:"711154"},{name:"八里区",code:"711155"},{name:"淡水区",code:"711156"},{name:"三芝区",code:"711157"}]},{name:"宜兰县",code:"711200",children:[{name:"宜兰市",code:"711287"},{name:"头城镇",code:"711288"},{name:"礁溪乡",code:"711289"},{name:"壮围乡",code:"711290"},{name:"员山乡",code:"711291"},{name:"罗东镇",code:"711292"},{name:"三星乡",code:"711293"},{name:"大同乡",code:"711294"},{name:"五结乡",code:"711295"},{name:"冬山乡",code:"711296"},{name:"苏澳镇",code:"711297"},{name:"南澳乡",code:"711298"},{name:"钓鱼台",code:"711299"}]},{name:"新竹县",code:"711300",children:[{name:"竹北市",code:"711387"},{name:"湖口乡",code:"711388"},{name:"新丰乡",code:"711389"},{name:"新埔镇",code:"711390"},{name:"关西镇",code:"711391"},{name:"芎林乡",code:"711392"},{name:"宝山乡",code:"711393"},{name:"竹东镇",code:"711394"},{name:"五峰乡",code:"711395"},{name:"横山乡",code:"711396"},{name:"尖石乡",code:"711397"},{name:"北埔乡",code:"711398"},{name:"峨眉乡",code:"711399"}]},{name:"桃园县",code:"711400",children:[{name:"中坜市",code:"711487"},{name:"平镇市",code:"711488"},{name:"龙潭乡",code:"711489"},{name:"杨梅市",code:"711490"},{name:"新屋乡",code:"711491"},{name:"观音乡",code:"711492"},{name:"桃园市",code:"711493"},{name:"龟山乡",code:"711494"},{name:"八德市",code:"711495"},{name:"大溪镇",code:"711496"},{name:"复兴乡",code:"711497"},{name:"大园乡",code:"711498"},{name:"芦竹乡",code:"711499"}]},{name:"苗栗县",code:"711500",children:[{name:"竹南镇",code:"711582"},{name:"头份镇",code:"711583"},{name:"三湾乡",code:"711584"},{name:"南庄乡",code:"711585"},{name:"狮潭乡",code:"711586"},{name:"后龙镇",code:"711587"},{name:"通霄镇",code:"711588"},{name:"苑里镇",code:"711589"},{name:"苗栗市",code:"711590"},{name:"造桥乡",code:"711591"},{name:"头屋乡",code:"711592"},{name:"公馆乡",code:"711593"},{name:"大湖乡",code:"711594"},{name:"泰安乡",code:"711595"},{name:"铜锣乡",code:"711596"},{name:"三义乡",code:"711597"},{name:"西湖乡",code:"711598"},{name:"卓兰镇",code:"711599"}]},{name:"彰化县",code:"711700",children:[{name:"彰化市",code:"711774"},{name:"芬园乡",code:"711775"},{name:"花坛乡",code:"711776"},{name:"秀水乡",code:"711777"},{name:"鹿港镇",code:"711778"},{name:"福兴乡",code:"711779"},{name:"线西乡",code:"711780"},{name:"和美镇",code:"711781"},{name:"伸港乡",code:"711782"},{name:"员林镇",code:"711783"},{name:"社头乡",code:"711784"},{name:"永靖乡",code:"711785"},{name:"埔心乡",code:"711786"},{name:"溪湖镇",code:"711787"},{name:"大村乡",code:"711788"},{name:"埔盐乡",code:"711789"},{name:"田中镇",code:"711790"},{name:"北斗镇",code:"711791"},{name:"田尾乡",code:"711792"},{name:"埤头乡",code:"711793"},{name:"溪州乡",code:"711794"},{name:"竹塘乡",code:"711795"},{name:"二林镇",code:"711796"},{name:"大城乡",code:"711797"},{name:"芳苑乡",code:"711798"},{name:"二水乡",code:"711799"}]},{name:"嘉义县",code:"711900",children:[{name:"番路乡",code:"711982"},{name:"梅山乡",code:"711983"},{name:"竹崎乡",code:"711984"},{name:"阿里山乡",code:"711985"},{name:"中埔乡",code:"711986"},{name:"大埔乡",code:"711987"},{name:"水上乡",code:"711988"},{name:"鹿草乡",code:"711989"},{name:"太保市",code:"711990"},{name:"朴子市",code:"711991"},{name:"东石乡",code:"711992"},{name:"六脚乡",code:"711993"},{name:"新港乡",code:"711994"},{name:"民雄乡",code:"711995"},{name:"大林镇",code:"711996"},{name:"溪口乡",code:"711997"},{name:"义竹乡",code:"711998"},{name:"布袋镇",code:"711999"}]},{name:"云林县",code:"712100",children:[{name:"斗南镇",code:"712180"},{name:"大埤乡",code:"712181"},{name:"虎尾镇",code:"712182"},{name:"土库镇",code:"712183"},{name:"褒忠乡",code:"712184"},{name:"东势乡",code:"712185"},{name:"台西乡",code:"712186"},{name:"仑背乡",code:"712187"},{name:"麦寮乡",code:"712188"},{name:"斗六市",code:"712189"},{name:"林内乡",code:"712190"},{name:"古坑乡",code:"712191"},{name:"莿桐乡",code:"712192"},{name:"西螺镇",code:"712193"},{name:"二仑乡",code:"712194"},{name:"北港镇",code:"712195"},{name:"水林乡",code:"712196"},{name:"口湖乡",code:"712197"},{name:"四湖乡",code:"712198"},{name:"元长乡",code:"712199"}]},{name:"屏东县",code:"712400",children:[{name:"屏东市",code:"712467"},{name:"三地门乡",code:"712468"},{name:"雾台乡",code:"712469"},{name:"玛家乡",code:"712470"},{name:"九如乡",code:"712471"},{name:"里港乡",code:"712472"},{name:"高树乡",code:"712473"},{name:"盐埔乡",code:"712474"},{name:"长治乡",code:"712475"},{name:"麟洛乡",code:"712476"},{name:"竹田乡",code:"712477"},{name:"内埔乡",code:"712478"},{name:"万丹乡",code:"712479"},{name:"潮州镇",code:"712480"},{name:"泰武乡",code:"712481"},{name:"来义乡",code:"712482"},{name:"万峦乡",code:"712483"},{name:"莰顶乡",code:"712484"},{name:"新埤乡",code:"712485"},{name:"南州乡",code:"712486"},{name:"林边乡",code:"712487"},{name:"东港镇",code:"712488"},{name:"琉球乡",code:"712489"},{name:"佳冬乡",code:"712490"},{name:"新园乡",code:"712491"},{name:"枋寮乡",code:"712492"},{name:"枋山乡",code:"712493"},{name:"春日乡",code:"712494"},{name:"狮子乡",code:"712495"},{name:"车城乡",code:"712496"},{name:"牡丹乡",code:"712497"},{name:"恒春镇",code:"712498"},{name:"满州乡",code:"712499"}]},{name:"台东县",code:"712500",children:[{name:"台东市",code:"712584"},{name:"绿岛乡",code:"712585"},{name:"兰屿乡",code:"712586"},{name:"延平乡",code:"712587"},{name:"卑南乡",code:"712588"},{name:"鹿野乡",code:"712589"},{name:"关山镇",code:"712590"},{name:"海端乡",code:"712591"},{name:"池上乡",code:"712592"},{name:"东河乡",code:"712593"},{name:"成功镇",code:"712594"},{name:"长滨乡",code:"712595"},{name:"金峰乡",code:"712596"},{name:"大武乡",code:"712597"},{name:"达仁乡",code:"712598"},{name:"太麻里乡",code:"712599"}]},{name:"花莲县",code:"712600",children:[{name:"花莲市",code:"712686"},{name:"新城乡",code:"712687"},{name:"太鲁阁",code:"712688"},{name:"秀林乡",code:"712689"},{name:"吉安乡",code:"712690"},{name:"寿丰乡",code:"712691"},{name:"凤林镇",code:"712692"},{name:"光复乡",code:"712693"},{name:"丰滨乡",code:"712694"},{name:"瑞穗乡",code:"712695"},{name:"万荣乡",code:"712696"},{name:"玉里镇",code:"712697"},{name:"卓溪乡",code:"712698"},{name:"富里乡",code:"712699"}]},{name:"澎湖县",code:"712700",children:[{name:"马公市",code:"712794"},{name:"西屿乡",code:"712795"},{name:"望安乡",code:"712796"},{name:"七美乡",code:"712797"},{name:"白沙乡",code:"712798"},{name:"湖西乡",code:"712799"}]},{name:"连江县",code:"712800",children:[{name:"南竿乡",code:"712896"},{name:"北竿乡",code:"712897"},{name:"东引乡",code:"712898"},{name:"莒光乡",code:"712899"}]}]},{name:"香港特别行政区",code:"810000",children:[{name:"香港城区",code:"810100",children:[{name:"中西区",code:"810101"},{name:"湾仔区",code:"810102"},{name:"东区",code:"810103"},{name:"南区",code:"810104"},{name:"油尖旺区",code:"810105"},{name:"深水埗区",code:"810106"},{name:"九龙城区",code:"810107"},{name:"黄大仙区",code:"810108"},{name:"观塘区",code:"810109"},{name:"荃湾区",code:"810110"},{name:"屯门区",code:"810111"},{name:"元朗区",code:"810112"},{name:"北区",code:"810113"},{name:"大埔区",code:"810114"},{name:"西贡区",code:"810115"},{name:"沙田区",code:"810116"},{name:"葵青区",code:"810117"},{name:"离岛区",code:"810118"}]}]},{name:"澳门特别行政区",code:"820000",children:[{name:"澳门城区",code:"820100",children:[{name:"花地玛堂区",code:"820101"},{name:"花王堂区",code:"820102"},{name:"望德堂区",code:"820103"},{name:"大堂区",code:"820104"},{name:"风顺堂区",code:"820105"},{name:"嘉模堂区",code:"820106"},{name:"路凼填海区",code:"820107"},{name:"圣方济各堂区",code:"820108"}]}]}]},"5a8c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.wrapper},[a("el-select",{attrs:{disabled:e.disabled||e.provinceDisabled,placeholder:"省"},on:{change:e.getCities},model:{value:e.currentProvince,callback:function(t){e.currentProvince=t},expression:"currentProvince"}},e._l(e.provinces,(function(e,t){return a("el-option",{key:t,attrs:{value:e.name,label:e.name}})}))),e._v(" "),e.onlyProvince?e._e():[a("el-select",{attrs:{disabled:e.disabled||e.cityDisabled,placeholder:"市"},on:{change:e.getAreas},model:{value:e.currentCity,callback:function(t){e.currentCity=t},expression:"currentCity"}},e._l(e.cities,(function(e,t){return a("el-option",{key:t,attrs:{value:e.name,label:e.name}})}))),e._v(" "),e.hideArea?e._e():a("el-select",{attrs:{disabled:e.disabled||e.areaDisabled,placeholder:"区"},model:{value:e.currentArea,callback:function(t){e.currentArea=t},expression:"currentArea"}},e._l(e.areas,(function(e,t){return a("el-option",{key:t,attrs:{value:e.name,label:e.name}})})))]],2)},i=[],o=(a("a9e3"),a("7db0"),a("d3b7"),a("b0c0"),a("5a86")),c={name:"VDistpicker",props:{province:{type:[String,Number],default:""},city:{type:[String,Number],default:""},area:{type:[String,Number],default:""},hideArea:{type:Boolean,default:!1},onlyProvince:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},provinceDisabled:{type:Boolean,default:!1},cityDisabled:{type:Boolean,default:!1},areaDisabled:{type:Boolean,default:!1},wrapper:{type:String,default:"distpicker-address-wrapper"}},data:function(){return{provinces:[],cities:[],areas:[],currentProvince:"",currentCity:"",currentArea:""}},watch:{currentProvince:function(e){this.$emit("province",this.setData(e,this.provinces)),this.onlyProvince&&this.emit("selected")},currentCity:function(e){this.$emit("city",this.setData(e,this.cities)),this.hideArea&&this.emit("selected")},currentArea:function(e){this.$emit("area",this.setData(e,this.areas)),this.emit("selected")},province:function(e){this.currentProvince=this.province,this.cities=this.getDataList(this.currentProvince,this.provinces)},city:function(e){this.currentCity=this.city,this.areas=this.getDataList(this.currentCity,this.cities)},area:function(e){this.currentArea=this.area}},created:function(){this.provinces=o["a"],this.currentProvince=this.getNameValue(this.province,this.provinces),this.cities=this.province?this.getDataList(this.province,this.provinces):[],this.currentCity=this.getNameValue(this.city,this.cities),this.areas=this.city?this.getDataList(this.city,this.cities):[],this.currentArea=this.getNameValue(this.area,this.areas)},methods:{setData:function(e,t){var a=t?t.find((function(t){return t.name===e})):null;return a?{code:a.code,value:a.name}:{code:"",value:""}},emit:function(e){var t={province:this.setData(this.currentProvince,this.provinces)};this.onlyProvince||this.$set(t,"city",this.setData(this.currentCity,this.cities)),this.onlyProvince&&!this.hideArea||this.$set(t,"area",this.setData(this.currentArea,this.areas)),this.$emit(e,t)},getCities:function(){this.currentCity="",this.currentArea="",this.cities=this.getDataList(this.currentProvince,this.provinces),this.cleanList("areas"),0===this.cities.length&&this.emit("selected")},getAreas:function(){this.currentArea="",this.areas=this.getDataList(this.currentCity,this.cities),0===this.areas.length&&this.emit("selected")},getDataList:function(e,t){for(var a="number"===typeof e,n=0;n<t.length;n++){var i=t[n];if(a&&i.code===e||!a&&i.name===e)return i.children}},getNameValue:function(e,t){if("number"===typeof e)for(var a=0;a<t.length;a++){var n=t[a];if(n.code===e)return n.name}return e},cleanList:function(e){this[e]=[]}}},r=c,s=(a("03b4"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,null,null),d=l.exports;t["a"]=d},"5b79":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{disabled:!e.hasContent,placement:"bottom",width:"200",trigger:"hover"}},[a("el-image",{staticStyle:{width:"100%",height:"100%"},style:e.styleObj,attrs:{src:e.url,fit:"contain"}}),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[e.hasContent?a("el-image",{style:Object.assign({},{height:e.height},e.styleObj),attrs:{src:e.url,fit:"contain"}}):[e._v("--")]],2)],1)},i=[],o=(a("ac1f"),a("5319"),a("b5b9")),c={name:"WkSignatureImage",components:{},props:{height:{type:String,default:"100%"},src:String},data:function(){return{url:"",styleObj:{}}},computed:{hasContent:function(){return!!this.url}},watch:{src:{handler:function(e){e?this.getData():this.url=""},immediate:!0,deep:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getData:function(){var e=this;Object(o["f"])(this.src).then((function(t){var a=t.data;if(a){var n="/"+a.url;n=n.replace("//","/"),e.url!==n&&(e.url=n)}else e.url=""})).catch((function(){}))}}},r=c,s=a("2877"),l=Object(s["a"])(r,n,i,!1,null,"88c272b2",null);t["a"]=l.exports},"5c0a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"elclickoutside",rawName:"v-elclickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"wk-user-select xh-form-border",class:[e.disabled?"is_disabled":"is_valid",{is_focus:e.visible},{"is-default":!e.$slots.reference}],style:{height:""+(isNaN(e.height)?e.height||"auto":e.height+"px")},attrs:{wrap:"wrap"},on:{click:e.containerClick}},[e._t("reference"),e._v(" "),e.$slots.reference?e._e():[a("div",{ref:"tags",staticClass:"el-select__tags"},e._l(e.showSelects,(function(t,n){return a("span",{key:n,staticClass:"user-item text-one-line",class:{"is-hide":t.isHide}},["realname"===e.config.label?a("wx-open-data",{attrs:{openid:t.realname}}):[e._v(e._s(t[e.config.label]))],e._v(" "),t.disabled?e._e():a("i",{staticClass:"delete-icon el-icon-close",on:{click:function(a){a.stopPropagation(),e.deleteuser(t,n)}}})],2)}))),e._v(" "),e.selects.length>e.max&&e.max>0?a("i",{staticClass:"el-icon-more"}):e._e(),e._v(" "),a("i",{class:["el-icon-arrow-up"]}),e._v(" "),0==e.selects.length?a("div",{staticClass:"user-placeholder text-one-line"},[e._v(e._s(e.placeholder))]):e._e()],e._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[a("wk-select-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!e.disabled,expression:"visible && !disabled"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[a("el-scrollbar",{ref:"scrollbar",attrs:{tag:"div"}},[e.initView?a("wk-user",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{disabled:e.disabled,options:e.optionsList,props:e.config,radio:e.radio},on:{change:e.wkUserChange,close:function(t){e.visible=!1}},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}}):e._e()],1)],1)],1)],2)},i=[],o=a("5530"),c=(a("a9e3"),a("fb6a"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("d81d"),a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":e.$parent.multiple},e.popperClass],style:{minWidth:e.minWidth}},[e._t("default")],2)}),r=[],s=a("e974"),l=a.n(s),d={name:"WkSelectDropdown",componentName:"WkSelectDropdown",mixins:[l.a],props:{placement:{type:String,default:"bottom-start"},boundariesPadding:{type:Number,default:0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}},visibleArrow:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:"300px"}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{},mounted:function(){var e=this;this.referenceElm=this.$parent.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},u=d,m=a("2877"),f=Object(m["a"])(u,c,r,!1,null,null,null),h=f.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xh-user"},[e.headerShow?a("div",{staticClass:"xh-user__hd"},[e._v("\n    员工\n  ")]):e._e(),e._v(" "),a("div",{staticClass:"xh-user__bd"},[a("el-autocomplete",{attrs:{disabled:e.disabled,"popper-append-to-body":!1,"fetch-suggestions":e.searchListUser,placeholder:"请输入内容"},on:{select:e.searchSelect},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("wx-open-data",{attrs:{openid:n[e.config.label]}}),e._v(" "),a("span",{staticStyle:{color:"#6b778c"}},[e._v("("),a("wx-open-data",{attrs:{openid:n.deptName,type:"departmentName"}}),e._v(e._s((n.deptName?"-":"")+(n.post||"无")+")"))],1)]}}]),model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),a("div",{staticClass:"search-list"},[e.breadcrumbList.length>0&&!e.config.isList?a("el-breadcrumb",{staticStyle:{padding:"5px 0"},attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.breadcrumbList,(function(t,n){return a("el-breadcrumb-item",{key:n},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){e.breadcrumbBtn(t,n)}}},[0===n?[e._v(e._s(t.label))]:a("wx-open-data",{attrs:{openid:t.label,type:"departmentName"}})],2)])}))):e._e(),e._v(" "),e.currentBreadcrumbItem?a("div",{staticClass:"xh-user__list"},[e.radio?e._e():a("el-checkbox",{staticStyle:{"line-height":"30px"},attrs:{disabled:e.disabled},on:{change:e.handleCheckAllChange},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("全选")]),e._v(" "),a("wk-dep-checkbox",{attrs:{radio:e.radio,data:e.currentBreadcrumbItem.deptList,props:e.props,disabled:e.disabled,"only-show":""},on:{next:e.nextDebounceClick}}),e._v(" "),a("wk-user-checkbox",{ref:"userCheckbox",attrs:{radio:e.radio,data:e.currentBreadcrumbItem.employeeList,props:e.props,value:e.value,disabled:e.disabled},on:{input:function(t){e.$emit("input",t)},change:e.checkboxChange,"all-select":e.userAllSelect}})],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"xh-user__ft"},[a("span",{staticClass:"select-info"},[e._v("已选择"),a("span",{staticClass:"select-info--num"},[e._v(e._s(e.value?e.value.length:0))]),e._v("项")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.clearAll}},[e._v("清空")])],1)])},v=[],b=(a("ac1f"),a("466d"),a("b0c0"),a("b775"));function g(e){return Object(b["a"])({url:"adminUser/queryDeptUserList/".concat(e),method:"post"})}function y(e){return Object(b["a"])({url:"hrmEmployee/queryInEmployeeList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(b["a"])({url:"hrmEmployee/queryDeptEmployeeList/".concat(e),method:"post"})}var k=a("2934"),C=a("aa59"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox-group",{ref:"checkboxGroup",staticClass:"wk-user-checkbox",attrs:{disabled:e.disabled},on:{change:e.userChange},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},e._l(e.data,(function(t,n){return a("el-checkbox",{key:n,staticClass:"xh-user__item",attrs:{label:t[e.config.value]}},[a("xr-avatar",{staticClass:"user-img",attrs:{disabled:"",name:t[e.config.label],size:24,src:t.img}}),e._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name text-one-line"},["realname"===e.config.label?a("wx-open-data",{attrs:{openid:t.realname}}):[e._v(e._s(t[e.config.label]))]],2),e._v(" "),a("div",{staticClass:"user-post"},[e._v(e._s(t.post||"暂无岗位"))])])],1)})))},I=[],_=a("3cd8"),j={name:"WkUserCheckbox",components:{},mixins:[_["a"]],props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{userChange:function(e){}}},O=j,F=(a("6f20"),Object(m["a"])(O,x,I,!1,null,"78c818ed",null)),T=F.exports,A=a("a318"),D=a.n(A),S=a("8ed6"),L=a("7a1a");function E(e){var t=e?e.name:null;return t?{hrmEmployeeQueryByDeptAPI:y,adminUserQueryByDeptAPI:k["p"]}[t]:null}var N={value:"userId",label:"realname",searchRequest:null,searchParams:null,request:null,params:null,dataType:"manage",isList:!1},V={name:"WkUser",components:{WkDepCheckbox:C["a"],WkUserCheckbox:T},inheritAttrs:!1,props:{radio:Boolean,headerShow:{type:Boolean,default:!0},options:Array,value:Array,type:{type:String,default:"user"},props:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{searchInput:"",searchUserList:[],breadcrumbList:[],currentBreadcrumbItem:null,allChecked:!1,requstOptions:null}},computed:{config:function(){return Object(S["a"])(Object(o["a"])({},N),this.props||{})},userOptions:function(){return this.requstOptions||this.options}},watch:{breadcrumbList:function(){this.config.isList||(this.currentBreadcrumbItem=this.breadcrumbList[this.breadcrumbList.length-1])},options:{handler:function(){this.config.isList&&(this.currentBreadcrumbItem={employeeList:this.options})},immediate:!0}},created:function(){this.config.isList?(this.config.request&&this.getUserOptions(),this.nextDebounceClick=function(){}):(this.getDepUserList(0),this.nextDebounceClick=Object(L["debounce"])(300,this.nextClick))},methods:{searchListUser:function(e,t){var a=this;if(this.searchUserList&&this.searchUserList.length||this.userOptions){var n=this.userOptions||this.searchUserList;t(e?n.filter((function(t){return D.a.match(t[a.config.label]||"",e)||D.a.match(t.deptName||"",e)})):n)}else{var i=this.getSearchRequest(),c={pageType:0};this.config.searchParams&&(c=Object(o["a"])(Object(o["a"])({},c),this.config.searchParams)),i(c).then((function(n){var i=n.data;a.searchUserList=i.hasOwnProperty("list")?i.list||[]:i||[],t(e?a.searchUserList.filter((function(t){return D.a.match(t[a.config.label]||"",e)})):a.searchUserList)})).catch((function(){}))}},getSearchRequest:function(){return"hrm"===this.config.dataType?y:E(this.config.request)||k["p"]},searchSelect:function(e){this.$refs.userCheckbox.searchSelect(e)},checkboxChange:function(e){var t=this;this.radio?(this.$emit("input",e.length?[e[e.length-1]]:[]),this.$emit("close")):this.$emit("input",e),this.$nextTick((function(){t.$emit("change",e)}))},handleCheckAllChange:function(e){this.$refs.userCheckbox&&this.$refs.userCheckbox.handleCheckAllChange(e)},userAllSelect:function(e){this.allChecked!=e&&(this.allChecked=e)},clearAll:function(){this.$emit("input",[])},getDepUserList:function(e,t){var a=this;this.loading=!0;var n="hrm"===this.config.dataType?w:this.config.request||g;n(e).then((function(n){var i=n.data||{},o=i.deptList||[],c=i.employeeList||i.userList||[];0==e?a.breadcrumbList=[{label:"全部",deptList:o,employeeList:c}]:a.breadcrumbList.push({label:t.name,deptList:o,employeeList:c}),a.loading=!1})).catch((function(){a.loading=!1}))},getUserOptions:function(){var e=this;this.loading=!0,this.config.request(this.config.params).then((function(t){var a=t.data||[];e.requstOptions=a,e.currentBreadcrumbItem={employeeList:a},e.loading=!1})).catch((function(){e.loading=!1}))},nextClick:function(e){this.radio||(this.allChecked=!1),this.getDepUserList(e.deptId,e)},breadcrumbBtn:function(e,t){t+1<=this.breadcrumbList.length-1&&this.breadcrumbList.splice(t+1,this.breadcrumbList.length-1)}}},M=V,B=(a("f9f1"),Object(m["a"])(M,p,v,!1,null,"48a0f52c",null)),R=B.exports,U=a("d010"),P=a.n(U),W=a("8122"),$=a("ed08"),z=a("6bfe"),q=a("4360"),Z=a("2f62"),Y={value:"userId",label:"realname",dataType:"",request:null,params:null,isList:!1},G={name:"WkUserSelect",components:{WkSelectDropdown:h,WkUser:R},mixins:[P.a],props:{radio:Boolean,max:{type:Number,default:2},props:{type:Object,default:function(){return{}}},placeholder:{type:String,default:function(){return"请选择"}},value:{required:!0},request:Function,params:Object,options:Array,disabled:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{visible:!1,dataValue:[],loading:!1,height:34,initView:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(Z["c"])(["userList","hrmUserList"])),{},{optionsList:function(){return this.options?this.options:this.config.isList&&this.config.request?null:"manage"===this.config.dataType?this.userList:(this.config.dataType,null)},showSelects:function(){return this.max&&this.max>0&&this.selects&&this.selects.length>this.max?this.selects.slice(0,this.max):this.selects},selects:function(){var e=this,t=[];return"manage"===this.config.dataType?t=this.userList:"hrm"===this.config.dataType&&(t=this.hrmUserList),t.filter((function(t){return e.dataValue.includes(t[e.config.value])}))},config:function(){var e=Object(S["a"])(Object(o["a"])({},Y),this.props||{});return this.request&&(e.request=this.request),Object(z["b"])(e.dataType)&&("userId"===e.value?e.dataType="manage":"employeeId"===e.value&&(e.dataType="hrm")),this.params&&(e.params=this.params),e}}),watch:{visible:function(e){e?this.broadcast("WkSelectDropdown","updatePopper"):this.broadcast("WkSelectDropdown","destroyPopper"),this.$emit("visible-change",e)},value:function(e,t){this.verifyValue()},props:{handler:function(){this.requestUserList()},immediate:!0},dataValue:function(){this.radio?this.$emit("input",this.dataValue&&this.dataValue.length?this.dataValue[0]:""):this.$emit("input",this.dataValue)},showSelects:{handler:function(){this.resetHeight()},immediate:!0}},created:function(){this.verifyValue()},methods:{resetHeight:function(){var e=this,t=this.$refs.tags;t?this.$nextTick((function(){e.height=t.clientHeight>34?t.clientHeight+6:34})):this.height=34},verifyValue:function(){var e=this;if(this.radio||Array.isArray(this.value)||this.$emit("input",[]),this.radio&&(Array.isArray(this.value)||null===this.value||void 0===this.value)&&this.$emit("input",""),this.radio)this.value!==this.dataValue&&(Object(z["b"])(this.value)?this.dataValue=[]:this.dataValue=[this.value]);else if(!Object(W["valueEquals"])(this.value,this.dataValue))if(this.value&&this.value.length){var t=this.value[0];t[this.config.value]?this.dataValue=this.value.map((function(t){return t[e.config.value]})):this.dataValue=Object($["u"])(this.value)}else this.dataValue=[]},requestUserList:function(){"manage"===this.config.dataType?q["a"].dispatch("debounceGetUserList"):"hrm"===this.config.dataType&&q["a"].dispatch("debounceGetHrmUserList")},handleClose:function(){this.visible=!1},handleMenuEnter:function(){},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},deleteuser:function(e){if(!e.disabled&&!this.disabled)for(var t=0;t<this.dataValue.length;t++){var a=this.dataValue[t];if(a==e[this.config.value]){this.dataValue.splice(t,1),this.wkUserChange();break}}},focusClick:function(){this.$emit("focus")},wkUserChange:function(){var e=this;this.$nextTick((function(){e.radio?e.dispatch("ElFormItem","el.form.change",e.dataValue&&e.dataValue.length>0?e.dataValue[0]:""):e.dispatch("ElFormItem","el.form.change",e.dataValue)})),this.$emit("change",this.dataValue,this.selects)},containerClick:function(){this.disabled||(this.initView=!0,this.visible=!this.visible)}}},K=G,J=(a("b116"),Object(m["a"])(K,n,i,!1,null,"93c23ea8",null));t["a"]=J.exports},"5c0b":function(e,t,a){"use strict";a("70c1")},"5cf2":function(e,t,a){"use strict";a("33a8")},"5eef":function(e,t,a){e.exports=a.p+"static/img/download.78ff10f9.png"},"5f87":function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h}));a("d3b7");var n=a("bc3a"),i=a.n(n),o=a("6b43"),c=a("e297"),r=a.n(c),s=a("4360"),l=a("a78e"),d=a.n(l),u=a("ed08");function m(){return new Promise((function(e,t){o["a"].rmAxiosCache(),s["a"].commit("SET_ALLAUTH",null),delete i.a.defaults.headers["AUTH-TOKEN"],e(!0)}))}function f(e){return new Promise((function(t,a){i.a.defaults.headers["AUTH-TOKEN"]=e,t(!0)}))}function h(){return new Promise((function(e,t){var a=d.a.get("AdminToken"),n=i.a.defaults.headers["AUTH-TOKEN"];if(n)a&&n!==a&&o["a"].updateAxiosCache(a),e();else{var c=r.a.get("AUTH-TOKEN");if(!0!==window.sessionStorage.wkIgnoreCookies&&a&&c!==a&&(r.a.set("AUTH-TOKEN",a),c=a),c&&!a){var l=Object(u["k"])();d.a.set("AdminToken",c,{domain:l,expires:365})}c?(o["a"].updateAxiosCache(),s["a"].dispatch("GetUserInfo").then((function(){window.sessionStorage.wkIgnoreCookies=!1,e()})).catch((function(){t()}))):t()}}))}},"604f":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relative-choose"},[a("flexbox",{staticClass:"user-container",class:[e.disabled?"is_disabled":"is_valid"],attrs:{wrap:"wrap"},nativeOn:{click:function(t){return e.handleToChoose(t)}}},[e._l(e.dataValue,(function(t,n){return a("el-tag",{key:n,attrs:{closable:!e.disabled,type:"info",size:"small"},on:{close:function(t){e.deleteItem(n)}}},[e._v("\n      "+e._s(e.getShowName(t))+"\n    ")])})),e._v(" "),0===e.dataValue.length?a("div",{staticClass:"add-item"},[e._v("\n      +请选择\n    ")]):e._e()],2),e._v(" "),e.showPopover?a("el-dialog",{attrs:{title:"选择"+e.field.name,visible:e.showPopover,"before-close":e.handleClose,"custom-class":"no-padding-dialog","append-to-body":"",width:"1050px"},on:{"update:visible":function(t){e.showPopover=t}},nativeOn:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"card-body"},[e.categoryList.length?a("div",{staticClass:"category-list"},e._l(e.categoryList,(function(t){return a("div",{key:t.categoryId,staticClass:"category-list-item text-one-ellipsis",class:{active:e.activeCategory.categoryId===t.categoryId},on:{click:function(a){e.handleChangeCategory(t)}}},[e._v("\n          "+e._s(t.categoryName)+"\n        ")])}))):e._e(),e._v(" "),a("div",{staticClass:"relative-card-wrapper"},[e.showPopover&&e.showCard?a("relative-card",{attrs:{"default-value":e.defaultSelected,"relative-type":e.field.formType,"request-config":e.requestConfig,radio:e.getRadio(),"module-data":e.targetModuleDetail,"primary-key":"dataId"},on:{change:e.handleChange}}):e._e()],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleRelativeConfirm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.handleClose}},[e._v("取 消")])],1)]):e._e()],1)},i=[],o=a("1da1"),c=a("5530"),r=(a("96cf"),a("a9e3"),a("d81d"),a("7db0"),a("d3b7"),a("4de4"),a("159b"),a("ac1f"),a("841c"),a("e9c4"),a("99af"),a("b64b"),a("caad"),a("a434"),a("a15b"),a("1276"),a("498a"),a("eea8")),s=a("aa2b"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-container"},[a("div",{staticStyle:{position:"relative",height:"100%"}},[e.showSearch?a("flexbox",{staticClass:"search-box",attrs:{justify:"flex-start",align:"center"}},[a("div",[e._v("搜索：")]),e._v(" "),a("el-input",{staticClass:"search-container",attrs:{placeholder:e.requestConfig.placeholder||""},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleToSearch},slot:"append"})],1),e._v(" "),a("flexbox-item",[a("flexbox",{attrs:{align:"center",justify:"flex-end"}},[e._t("header-right")],2)],1)],1):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"row-height":40,data:e.tableData,"cell-class-name":e.cellClassName,height:e.tableHeight,stripe:"",border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection",align:"center",width:"55"}}),e._v(" "),e._l(e.tableFieldList,(function(t){return a("el-table-column",{key:t.fieldId,attrs:{prop:t.fieldName,label:t.name,width:t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.row,o=n.column;return["field_tag"===t.formType?[a("tag-view",{attrs:{"item-bottom":0,value:e.fieldFormatter(i,o,i[o.property],t)}})]:"data_union"===t.formType?[a("span",{class:{"can-check":!0},on:{click:function(a){a.stopPropagation(),e.handleClick(e.fieldFormatter(i,o,i[o.property],t))}}},[e._v(e._s(e.fieldFormatter(i,o,i[o.property],t).value)+"\n            ")])]:"data_union_multi"===t.formType?e._l(e.fieldFormatter(i,o,i[o.property],t),(function(t,n){return a("span",{key:n,class:{"can-check":!0},on:{click:function(a){a.stopPropagation(),e.handleClick(t)}}},[e._v(e._s(t.value)+"    ")])})):a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:e.fieldFormatter(i,o,i[o.property],t)},scopedSlots:e._u([{key:"default",fn:function(a){a.data;return[e._v("\n              "+e._s(e.fieldFormatter(i,o,i[o.property],t))+"\n            ")]}}])})]}}])})})),e._v(" "),0===e.tableData.length&&0===e.tableFieldList.length?a("el-table-column"):e._e()],2),e._v(" "),e.page?a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,"pager-count":5,background:"",layout:"prev, pager, next, sizes, total, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1),e._v(" "),e.showDetail&&e.clickedRow?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.rowId,"module-id":e.clickedRow.moduleId,"page-list":e.tableData||[],"page-index":e.rowIndex},on:{"update:id":function(t){e.rowId=t},"update:pageIndex":function(t){e.rowIndex=t},handle:function(t){e.getData(!0)},"hide-view":function(t){e.showDetail=!1}}})],1):e._e()])},d=[],u=a("2909"),m=(a("3ca3"),a("ddb0"),a("8967")),f=a("ad0e"),h=a("15cc"),p=a("6bfe"),v=a("ed08"),b=a("7a1a"),g=a("2f62"),y=a("e297"),w=a.n(y),k=a("3f26"),C=a("ab96"),x={name:"AppRelevanceCard",components:{WkFieldView:m["default"],TagView:f["a"],ModuleDetail:function(){return Promise.resolve().then(a.bind(null,"b0a1"))}},props:{requestConfig:{type:Object,required:!0},list:{type:Array,default:function(){return[]}},radio:{type:Boolean,default:!1},primaryKey:{type:String,required:!0},defaultValue:{type:Array,default:function(){return[]}},page:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},moduleData:{type:Object,required:!0}},data:function(){return{searchContent:null,debouncedConfirm:null,total:0,pageSizes:[15,30,60,100],pageSize:w.a.get("pageSizes")||15,tableHeight:.5*document.body.clientHeight,loading:!1,tableData:[],tableFieldList:[],selectedItem:[],hideSelectedItem:[],currentPage:1,showDetail:!1,rowId:"",clickedRow:null,rowIndex:null,zIndex:0,currentMainProperty:""}},computed:Object(c["a"])({},Object(g["c"])("appModule",["userAppDataList"])),watch:{defaultValue:{handler:function(e){var t=this;this.hideSelectedItem=[],this.$nextTick((function(){Object(p["a"])(e)?t.selectedItem=Object(v["u"])(t.defaultValue):t.selectedItem=[Object(v["u"])(t.defaultValue)],t.setSelectedRow()}))},immediate:!0,deep:!0}},created:function(){this.debouncedConfirm=Object(b["debounce"])(500,this.confirmClick),this.searchContent="",this.tableData=[],this.getData()},methods:{getData:function(){Object(p["b"])(this.requestConfig)?this.$message.error("模块被停用或已被删除"):(this.currentPage=1,0===this.tableFieldList.length?this.getFieldList():this.getTableData())},getFieldList:function(){var e=this,t=this.requestConfig.fieldList;if(t){var a=Object(v["u"])(t);return this.formatField(a),void this.getTableData()}var n=this.requestConfig.fieldRequest,i=this.requestConfig.fieldParams;n&&(this.loading=!0,n(i).then((function(t){e.loading=!1,e.formatField(t.data),e.getTableData()})).catch((function(){e.loading=!1})))},formatField:function(e){this.tableFieldList=Object(k["a"])(e||[],{excludesFieldName:["categoryId","stageId","teamMember"],filterSys:!1,rules:function(e){return 0===e.isHide&&!e.groupId&&!["detail_table","field_group"].includes(e.formType)}})},handleToSearch:function(){this.getTableData()},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(v["u"])(this.requestConfig.listParams);a=this.getSearchParams(a);var n=this.requestConfig.listRequest;if(!n)return this.tableData=[],this.currentPage=1,void(this.total=0);(0===this.tableFieldList.length||t)&&(this.currentPage=1);var i={};this.page&&(i={page:this.currentPage,limit:this.pageSize}),this.loading=!0,n(Object(c["a"])(Object(c["a"])({},a),i)).then((function(t){e.tableData=t.data.hasOwnProperty("list")?t.data.list:t.data,e.total=t.data.hasOwnProperty("totalRow")?Number(t.data.totalRow):1,e.loading=!1,e.setSelectedRow(),e.$emit("data-ok",t.data)})).catch((function(){e.loading=!1}))},getSearchParams:function(e){if(!this.showSearch)return e;var t=this.requestConfig.searchParamsFn||null;return t&&"function"===typeof t?this.requestConfig.searchParamsFn(e,this.searchContent,this.tableFieldList):(this.searchContent&&(e.search=this.searchContent),e)},handleSizeChange:function(e){w.a.set("pageSizes",e),this.pageSize=e,this.currentPage=1,this.getTableData()},handleCurrentChange:function(e){this.currentPage=e,this.getTableData()},setSelectedRow:function(){var e=this,t=this.selectedItem||[];if(t=t.concat(this.hideSelectedItem),this.$refs.multipleTable){this.$refs.multipleTable.clearSelection();var a=[];this.hideSelectedItem=[],t.forEach((function(t){var n=t[e.primaryKey]||t.id||t,i=e.tableData.find((function(t){return t[e.primaryKey]==n}));i?a.push(i):e.hideSelectedItem.push(t)})),this.$nextTick((function(){a.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t,!0)}))}))}},handleSelectionChange:function(e){var t=this;0===e.length&&(this.selectedItem=[]),this.radio?(this.hideSelectedItem=[],e.forEach((function(a,n){n!==e.length-1&&t.$refs.multipleTable.toggleRowSelection(a,!1)})),0===e.length?this.selectedItem=[]:this.selectedItem=1===e.length?e:[e[e.length-1]]):this.selectedItem=e;var a=[].concat(Object(u["a"])(this.selectedItem),Object(u["a"])(this.hideSelectedItem));this.$emit("change",a)},closeView:function(){this.$emit("close")},confirmClick:function(){},handleClick:function(e){this.rowId=e.dataId,this.clickedRow=e,this.showDetail=!0,this.zIndex=Object(v["o"])()},handleRowClick:function(e,t){t.property===this.currentMainProperty&&(this.rowId=e.dataId,this.clickedRow=e,this.zIndex=Object(v["o"])(),this.showDetail=!0)},cellClassName:function(e){e.row;var t=e.column,a=(e.rowIndex,e.columnIndex,this.moduleData.mainFieldId),n=this.tableFieldList.find((function(e){return e.fieldId===a}));return t.property===n.fieldName?"can-visit--underline":""},fieldFormatter:function(e,t,a,n){var i="--",o=e[t.property];if("handwriting_sign"===n.formType)return o;if("flowType"===t.property){if(!e.currentFlow)return i;var c=Number(e.currentFlow.flowType),r=C["a"].find((function(e){return e.value===c}));return r?r.label:i}if("stageStatus"===t.property){var s=Number(e.stageStatus),l=k["g"].find((function(e){return e.key===s}));return l?l.value:i}if(""===o||null===o||void 0===o)return{website:"",field_tag:[]}[n.formType]||i;if("flowStatus"===t.property){if(!e.currentFlow)return i;var d=k["c"].find((function(e){return e.key===o}));return d?d.value:i}return"currentFlowId"===t.property?e.currentFlow?e.currentFlow.flowName:e.currentFlowId:Object(h["b"])(n.formType,o,n)||i}}},I=x,_=(a("3b08"),a("2877")),j=Object(_["a"])(I,l,d,!1,null,"9f3dc2e8",null),O=j.exports,F=a("6eca"),T=a("163e"),A=a("f6f4"),D={name:"RelativeChoose",components:{RelativeCard:O},mixins:[T["a"],A["a"]],props:{value:{type:[String,Number,Object,Array],default:null},disabled:{type:Boolean,default:!1},field:{type:Object,default:function(){}},moduleId:[String,Number],fieldForm:{type:Object,default:function(){}},parentFieldForm:{type:Object,default:null},fieldList:{type:Array,default:function(){return[]}},validateEvent:{type:Boolean,default:!0},radio:{type:Boolean,default:null},useLastVersion:{type:Boolean,default:!0},useCommon:Boolean},data:function(){return{showPopover:!1,requestConfig:{fieldRequest:null,fieldParams:{},fieldList:null,listRequest:null,listParams:{},placeholder:"",searchParamsFn:null},dataValue:[],defaultDataValue:[],defaultSelected:[],chooseList:[],targetModuleDetail:{},showCard:!0,allCategoryList:[],categoryList:[],activeCategory:null,dataCache:{common:[]}}},computed:Object(c["a"])({},Object(g["c"])("appModule",["userAppCategoryList"])),watch:{value:{handler:function(e){var t=this;this.field&&(Object(p["c"])(e)?(this.dataValue=[e],this.defaultDataValue=Object(v["u"])(this.dataValue),this.initDataCache(),this.emitChange({valData:[e.dataId],data:[e]})):Object(p["a"])(e)?function(){var a=!1,n=t.dataValue.map((function(e){return e.dataId})),i=e.map((function(e){return e.dataId}));if(n.length!==i.length)a=!0;else for(var o=function(e){var t=i.find((function(t){return t===n[e]}));if(!t)return a=!0,"break"},c=0;c<n.length;c++){var r=o(c);if("break"===r)break}t.dataValue=e,t.defaultDataValue=Object(v["u"])(t.dataValue),t.initDataCache(),a&&t.emitChange({valData:e.map((function(e){return e.dataId})),data:e})}():Object(p["d"])(e)&&!this.dataValue.length&&this.getTableData(e))},immediate:!0,deep:!0}},created:function(){this.getCategoryList()},methods:{initCom:function(){this.useCommon?this.initCommonCardRequest():this.initCardRequest()},getTargetModule:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=null,e.useCommon?a=e.moduleId:(n=e.field.fieldUnionSaveBO||{},a=n.targetModuleId,a||(a=e.moduleId)),t.next=4,e.asyncGetModuleObjById(a).catch((function(){return null}));case 4:if(i=t.sent,i){t.next=9;break}return e.targetModuleDetail=null,e.$message.error("未找到关联模块"),t.abrupt("return");case 9:return e.targetModuleDetail=i,e.$forceUpdate(),t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})))()},initCardRequest:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,l,d,u,m,f,h,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.field.fieldUnionSaveBO||{},n=a.targetModuleId,n||(n=e.moduleId),t.next=5,e.getTargetModule();case 5:i=t.sent,o=(e.getModuleObjById(e.moduleId)||{}).version,l=!1,d=[],u=(a.fieldUnionConditionList||[]).find((function(e){return 1===e.model})),u?(m=F["a"].methods.getSubmitParams(e.fieldList,e.parentFieldForm||e.fieldForm),d=m.fieldDataList||[],l=!0):(f=(a.fieldUnionConditionList||[]).filter((function(e){return 1===e.type})),f.forEach((function(t){var a=t.search.currentFieldObj;if(a){var n,i=a.fieldName;n=e.parentFieldForm&&e.parentFieldForm.hasOwnProperty(i)?e.parentFieldForm[i]:e.fieldForm[i];var o=F["a"].methods.getSaveFieldValue(n,a.formType,a);(Object(p["a"])(o)||Object(p["c"])(o))&&(o=JSON.stringify(o)),d.push({fieldId:a.fieldId,fieldName:a.fieldName,formType:a.formType,moduleId:e.moduleId,value:o})}})),l=d.length===f.length),h=[],e.activeCategory&&(v=0===e.activeCategory.type?null:e.activeCategory.categoryId,h.push({fieldName:"categoryId",formType:"text",type:v?1:5,values:v?[v]:[]})),e.requestConfig={fieldRequest:r["c"],fieldParams:{moduleId:n,version:i.version},fieldList:null,listRequest:l?s["f"]:null,listParams:{fieldId:e.field.fieldId,targetModuleId:n,moduleId:e.moduleId,version:o,fieldValues:d,searchList:h},placeholder:"",searchParamsFn:function(e,t,a){var n=a.find((function(e){return e.fieldId===i.mainFieldId}))||{};return t&&(e=Object(c["a"])(Object(c["a"])({},e),{},{searchList:[{fieldName:n.fieldName,formType:"text",type:3,values:[t]}]})),e}},n&&(i.version||0===i.version)||(e.requestConfig={});case 15:case"end":return t.stop()}}),t)})))()},initCommonCardRequest:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTargetModule();case 2:a=t.sent,n=[],e.activeCategory&&(i=0===e.activeCategory.type?null:e.activeCategory.categoryId,n.push({fieldName:"categoryId",formType:"text",type:i?1:5,values:i?[i]:[]})),e.requestConfig={fieldRequest:r["c"],fieldParams:{moduleId:a.moduleId,version:a.version},fieldList:null,listRequest:r["d"],listParams:{moduleId:e.moduleId,searchList:n},placeholder:"",searchParamsFn:function(e,t,n){var i=n.find((function(e){return e.fieldId===a.mainFieldId}))||{};return t&&(e=Object(c["a"])(Object(c["a"])({},e),{},{searchList:[{fieldName:i.fieldName,formType:"text",type:3,values:[t]}]})),e}},a.moduleId&&(a.version||0===a.version)||(e.requestConfig={});case 7:case"end":return t.stop()}}),t)})))()},getCategoryList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.field){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.getTargetModule();case 4:if(a=t.sent,a){t.next=10;break}return e.allCategoryList=[],e.categoryList=[],e.activeCategory=null,t.abrupt("return");case 10:e.allCategoryList=e.userAppCategoryList.filter((function(e){return e.moduleId===a.moduleId&&e.version===a.version})),e.categoryList=e.allCategoryList.filter((function(t){var n="".concat(a.moduleId,"-").concat(0===t.type?"":t.categoryId);return e.$auth("".concat(a.applicationId,".").concat(n,".index"))})),e.categoryList.length?e.activeCategory||(e.activeCategory=e.categoryList[0]):e.activeCategory=null,e.initDataCache();case 14:case"end":return t.stop()}}),t)})))()},getRadio:function(){return null!==this.radio?this.radio:"data_union"===this.field.formType},initDataCache:function(){var e=this,t=this.defaultDataValue;this.defaultSelected=Object(v["u"])(this.defaultDataValue),this.chooseList=[];var a=this.getRadio();a||this.categoryList.forEach((function(a){var n=[],i="";0===a.type?(i="common",n=t.filter((function(e){return e.categoryId===a.categoryId||!e.categoryId}))):(i=a.categoryId,n=t.filter((function(e){return e.categoryId===a.categoryId}))),e.dataCache[i]=Object(v["u"])(n)}))},handleChangeCategory:function(e){var t=this,a=this.getRadio(),n=null;a||(n=this.activeCategory.categoryId,0===this.activeCategory.type&&(n="common"),this.dataCache[n]=Object(v["u"])(this.chooseList)),this.activeCategory=e,this.showCard=!1,this.initCom(),this.$nextTick((function(){a||(n=e.categoryId,0===e.type&&(n="common"),t.defaultSelected=Object(v["u"])(t.dataCache[n])),t.showCard=!0,t.showPopover=!0}))},handleToChoose:function(){var e=this,t=this.getRadio();if(this.activeCategory&&!t){this.defaultDataValue=Object(v["u"])(this.dataValue),this.initDataCache(),this.initCom();var a=this.activeCategory.categoryId;0===this.activeCategory.type&&(a="common"),this.defaultSelected=Object(v["u"])(this.dataCache[a]),this.$nextTick((function(){e.showCard=!0,e.showPopover=!0}))}else this.initCom(),this.$nextTick((function(){e.showPopover=!0}))},handleChange:function(e){this.chooseList=e;var t=this.getRadio();if(!t&&this.activeCategory){var a=0===this.activeCategory.type?"common":this.activeCategory.categoryId;this.dataCache[a]=Object(v["u"])(e)}},handleClose:function(){this.showPopover=!1},handleRelativeConfirm:function(){var e=this,t=this.getRadio(),a=[],n=[];t?(this.chooseList.forEach((function(e){a.push(e.dataId)})),n=Object(v["u"])(this.chooseList)):(Object.keys(this.dataCache).forEach((function(t){n=n.concat(e.dataCache[t])})),n.forEach((function(e){a.push(e.dataId)})),this.chooseList.forEach((function(e){a.includes(e.dataId)||(n.push(e),a.push(e.dataId))}))),this.dataValue=Object(v["u"])(n),this.handleClose(),this.emitChange({data:this.dataValue,valData:a})},deleteItem:function(e){if(!this.disabled){this.dataValue.splice(e,1),this.emitChange({valData:this.dataValue.map((function(e){return e.dataId})),data:this.dataValue});var t=this.getRadio();t&&this.activeCategory&&(this.defaultDataValue=Object(v["u"])(this.dataValue),this.initDataCache())}},emitChange:function(e){this.$emit("input",e.valData.join(",")),this.$emit("change",this.field,e),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",e.valData.join(","))},getShowName:function(e){return e.hasOwnProperty("value")?e.value:this.targetModuleDetail.mainFieldName?e[this.targetModuleDetail.mainFieldName]:e.dataId},getTableData:function(e){var t=this,a=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}));if(a.length){var n=this.moduleId;if(!this.useCommon){var i=this.field.fieldUnionSaveBO||{};n=i.targetModuleId||this.moduleId}this.loading=!0,Object(r["d"])({moduleId:n,page:1,limit:a.length,searchList:[{fieldName:"dataId",formType:"text",type:11,values:a}]}).then((function(e){var a=e.data.list;t.dataValue=a,t.defaultDataValue=Object(v["u"])(t.dataValue),t.initDataCache(),t.emitChange({valData:a.map((function(e){return e.dataId})),data:a})})).catch((function(){t.loading=!1}))}}}},S=D,L=(a("f40e"),Object(_["a"])(S,n,i,!1,null,"c6a4e842",null));t["a"]=L.exports},6053:function(e,t,a){"use strict";a("e360")},"60c2":function(e,t,a){"use strict";a("a68a")},"61af":function(e,t,a){},"61f7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("ac1f"),a("00b4");function n(e){return/^(https?:|mailto:|tel:)/.test(e)}},6293:function(e,t,a){"use strict";a("c4ed")},6451:function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},6496:function(e,t,a){"use strict";a("4b1d")},"6acf":function(e,t,a){"use strict";a("b712")},"6b43":function(e,t,a){"use strict";var n=a("4360"),i=a("e297"),o=a.n(i),c=a("bc3a"),r=a.n(c),s=a("a78e"),l=a.n(s),d=a("ed08"),u={loadingCache:function(){if(o.a.get("AUTH-TOKEN")&&!r.a.defaults.headers["AUTH-TOKEN"]){var e=o.a.get("loginUserInfo");e&&n["a"].commit("SET_USERINFO",e)}n["a"].commit("SET_APPNAME",o.a.get("systemName")),n["a"].commit("SET_APPLOGO",o.a.get("systemLogo"))},updateAxiosCache:function(e){r.a.defaults.headers["AUTH-TOKEN"]=e||o.a.get("AUTH-TOKEN"),e&&o.a.set("AUTH-TOKEN",e)},updateAxiosHeaders:function(e){var t=e||o.a.get("AUTH-TOKEN");if(e&&o.a.set("AUTH-TOKEN",e),t&&r.a.defaults.headers["AUTH-TOKEN"]!==t)return r.a.defaults.headers["AUTH-TOKEN"]=t,!0},rmAxiosCache:function(){l.a.remove("AdminToken",{domain:Object(d["k"])()}),o.a.rm("AUTH-TOKEN")}};t["a"]=u},"6bf6":function(e,t,a){"use strict";a("85c1")},"6bfd":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNTUyMDUwRjA1MkYxMUVBQjAwQUFGQzUzMjVEQjYyQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNTUyMDUxMDA1MkYxMUVBQjAwQUFGQzUzMjVEQjYyQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE1NTIwNTBEMDUyRjExRUFCMDBBQUZDNTMyNURCNjJCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE1NTIwNTBFMDUyRjExRUFCMDBBQUZDNTMyNURCNjJCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+9nK0rwAABftJREFUeNrs3V9olWUcwPHfnBqCOjNNPArKCv/gglQiqc1ApMRR4U115U2GRRG4my6iq+iiC+dVF6FXdVNXUjSwkC4MKgixCwWRkkk6yEoQiWGQ63mdy23u7JzJ9LzPOZ8PPCpnr8ed9/36nmfP3nPWtvvgSEyyKY3X0tiVRmca8wLuvb/TGEzjeBpHBvri9OQN2sbFOj+N/jTeSGOOfUcD3UjjcBoHUrTDYzfOGRfqQBpvCpUSKBrcn8ZXvf0325wQ66E0dtpHlMyOW23+H2vXrYqhjPans2vXWKyvptFun1BSRZv7xmLdZX9QcjvHYu20Lyi5NWOxzrcvKLmF41cDoPTEilhBrIgVxApiRawgVhArYgWxglgRK4gVxIpYQawgVsQKYgWxIlYQK4gVsYJYQayIFcSKWO0CxApiRawgVhArYgWxglgRK4gVxIpYQawgVsQKDTTXLmgNmysRlQcjVnZMvP3c7xGnhyKuDIuVGno3TQzo5GDEqaHZue/tj0R0r4vY0hmx4IHpt/3wi4gTv4qVKme6A70RDy2aePuebSnW8xH9X9/92W7pgoi+59K/0WkakJXi7NJok59mO5dGvLun+tmuiOy9F1LMn9/df4Lp7lusJfbOi43/HCY/xT7/eO2Y1q0aDW8mU4JmDtVqQIOsXV7fdlvXzux+X9/ZvKGKtYm8sjVi9bLmfoy+wGqAwT9Gn+ZrKVYG6rV7S33bnbsUcea30SWrypKIhelM/MSjYqWKT3+I6Nk4/VN2EVW989Virjp5VWEqR3+MOPL9nbdPdZtpADcVKwMfHI3461r1UN//sv77W7+y9jYX/8wnSmfWkinOmnsPj841V3RELF+cpgeXR5+eZ7o4v7COL6p++sWctfR6+2e2/UDf7N/ndD47eX/2Q/GfwGoAiBXEijkrM1HrmoVrw1MvXRXLVIsWTLzt4Y7a/966FdU/5hJBplXrmoWb66xTXMiyt6e+byhMVlzNVU0OlweaBmDOCmJFrCBWsBrQuj757s6lq+JFgU9vnP7vFVdcVfuW6+khsXIPTLX2Ot0a6pi7uUDGNADEilhBrCBWxApiBbEiVhAriBWxglhhCtlddVW8a/SODbdf0Xn5asS3ZyPOX3EwxVoi+56a+lWaxW3V3iEP04DShDo+2GIbxNpQxU8f2bW59nb1bINY76muSn3vlV9sU7xjCWLNwuTXJyHW+6reF7QNX8//dUZkHmvxpmHFV/u1HDvlgIq1BIplqW9+rv7x4mOWrppb2+6DIyM5fcLFW0VuXnP7B58VP6bnxNnZ++G8lNNAX7Rl9x2sYk5qXmoaAGIFsSJWECuIFbGCWEGsiBXECmJFrCBWECtiBbGCWBEriBXEilhBrCBWxApiRawgVhArYgWxglgRK4gVxIpYQawgVsQKYgWxIlYQK4gVsYJYQayIFcQKYkWsIFYQK2IFsSJWECvMjgvFL3Pth+ZQeTCiZ31E16qIZYvTgW2i09CNG9E+dDXWiDVzRZQvPRnxzMb0NNnWfI8vhXpxzpzornTEBbFmbF57xNvPRmyoNOfjGx+qOWvmXt7WOqGKNec56pKI7etbJ1SxZqw7hdrW1jqhijVjXatbK1SxZmz5otYKVawZm9veWqGKlWxCFSvZhCpWGh1qT72hipWGhpr+ODiTvydWsghVrGQTqljJJlSxkk2oYiWbUMVKNqGKlWxCFSvZhCpWsglVrGQTqljJJlSxkk2oYiWbUMVKNqGKlWxCFSvZhCpWsglVrGQTqljJJlSxkk2oYiWbUMVKNqGKlWxCFSvZhCpWsglVrGQTqljJJlSxkk2oYiWbUMUq1GxCFatQswlVrEIdzOnzFqtQxYpQxUpLhipWoYoVoYqVlg1VrELNLtZ/HFqh5hLreYdXqLnEeswhFmousR5J41+HWqg5xHomjY8dbqHmshpwII3jDnuWoV5qhVDHx1qsCPSm8VHx+CWQVajdrRDq+FjHgn0rjcfSOJTG2TSuS6KUBlst1ELbyMiIQ5+hoauxttIRg+n3rKXHULf/BBgASgXIZDhuDdkAAAAASUVORK5CYII="},"6bfe":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return s}));var n=a("53ca");a("d3b7"),a("b64b"),a("498a");function i(e){return"[object String]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null===e||(void 0===e||("[object Array]"===Object.prototype.toString.call(e)?0===e.length:"[object Object]"===Object.prototype.toString.call(e)?0===Object.keys(e).length:"string"===typeof e&&""===e.trim()))}function s(e){if("string"==typeof e)try{var t=JSON.parse(e);return"object"==Object(n["a"])(t)&&t?t:null}catch(a){return null}}},"6c09":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return d}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"/moduleFlow/preview",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(n["a"])({url:"/moduleFlow/flowDetail",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function c(e){return Object(n["a"])({url:"moduleFlowExamine/auditExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(n["a"])({url:"moduleFlow/fill/saveFieldValue",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(n["a"])({url:"moduleFlow/dealDetail",method:"post",data:e})}function l(e){return Object(n["a"])({url:"moduleFlow/transferFlow",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/moduleCustomButton/dealRecord/".concat(e.moduleId,"/").concat(e.dataId),method:"post",data:e})}},"6d30":function(e,t,a){},"6d66":function(e,t,a){},"6e72":function(e,t,a){},"6eca":function(e,t,a){"use strict";var n=a("53ca"),i=a("ade3"),o=a("3835"),c=a("1da1"),r=a("5530"),s=(a("96cf"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("d81d"),a("159b"),a("7db0"),a("0481"),a("4069"),a("caad"),a("ac1f"),a("841c"),a("b0c0"),a("1276"),a("e9c4"),a("b64b"),a("00b4"),a("fb6a"),a("a630"),a("6062"),a("a15b"),a("99af"),a("0edd")),l=a("aa2b"),d=a("563d"),u=a("6c09"),m=a("871c"),f=a("b5b9"),h=a("0730"),p=a("163e"),v=a("ed08"),b=a("6bfe"),g=a("15cc"),y=[{componentName:"FieldInput",formType:"text",name:"单行文本",type:1,icon:"wk wk-icon-text"},{componentName:"FieldTextarea",formType:"textarea",name:"多行文本",type:2,icon:"wk wk-icon-textarea"},{componentName:"FieldInput",formType:"website",name:"网址",type:25,icon:"wk wk-icon-website"},{componentName:"FieldBoolean",formType:"boolean_value",name:"布尔值",type:41,icon:"wk wk-icon-bool"},{componentName:"FieldSelect",formType:"select",name:"单选",type:3,icon:"wk wk-icon-select"},{componentName:"FieldCheckbox",formType:"checkbox",name:"多选",type:9,icon:"wk wk-icon-checkbox"},{componentName:"FieldInput",formType:"number",name:"数字",type:5,icon:"wk wk-icon-int"},{componentName:"FieldInput",formType:"floatnumber",name:"货币",type:6,icon:"wk wk-icon-coin"},{componentName:"FieldPercent",formType:"percent",name:"百分数",type:42,icon:"wk wk-percent-line"},{componentName:"FieldInput",formType:"mobile",name:"手机",type:7,icon:"wk wk-icon-mobile2"},{componentName:"FieldInput",formType:"email",name:"邮箱",type:14,icon:"wk wk-icon-email2"},{componentName:"FieldInput",formType:"date",name:"日期",type:4,icon:"wk wk-icon-date2"},{componentName:"FieldInput",formType:"datetime",name:"日期时间",type:13,icon:"wk wk-icon-datetime2"},{componentName:"FieldDateInterval",formType:"date_interval",name:"日期区间",type:48,icon:"wk wk-icon-range"},{componentName:"FieldPosition",formType:"position",name:"地址",type:43,icon:"wk wk-nearby"},{componentName:"FieldLocation",formType:"location",name:"定位",type:44,icon:"wk wk-icon-nav"},{componentName:"FieldInput",formType:"user",name:"人员",type:10,icon:"wk wk-s-contacts-line"},{componentName:"FieldInput",formType:"structure",name:"部门",type:12,icon:"wk wk-icon-s-seas-line"},{componentName:"FieldFile",formType:"file",name:"附件",type:8,icon:"wk wk-icon-file"},{componentName:"FieldWritingSign",formType:"handwriting_sign",name:"手写签名",type:46,icon:"wk wk-icon-edit-line"},{componentName:"FieldDescText",formType:"desc_text",name:"描述文字",type:50,icon:"wk wk-icon-des"},{componentName:"FieldDetailTable",formType:"detail_table",name:"明细表格",type:45,icon:"wk wk-icon-form"},{componentName:"FieldGroup",formType:"field_group",name:"分组标题",type:60,icon:"wk wk-icon-title"},{componentName:"FieldTag",formType:"field_tag",name:"自定义标签",type:61,icon:"wk wk-icon-label2"},{componentName:"FieldAttention",formType:"field_attention",name:"关注度",type:62,icon:"wk wk-focus-on-line"},{componentName:"FieldSerialNumber",formType:"serial_number",name:"自定义编号",type:63,icon:"wk wk-icon-catalog2"}],w=function(e){return[].concat(y,k).find((function(t){return t.type===Number(e)}))},k=[{componentName:"FieldInput",formType:"data_union",name:"数据关联",type:52,icon:"wk wk-icon-data-association"},{componentName:"FieldInput",formType:"data_union_multi",name:"数据关联多选",type:54,icon:"wk wk-icon-multiple-choice"},{componentName:"FieldInput",formType:"statistic",name:"统计字段",type:56,icon:"wk wk-icon-statistical-field"},{componentName:"FieldInput",formType:"formula",name:"计算公式",type:64,icon:"wk wk-icon-formula"}],C=a("3f26");t["a"]={mixins:[h["a"],p["a"]],props:{action:{type:Object,default:function(){return{type:"save",id:"",title:"",data:{}}}},moduleId:{type:String,required:!0},categoryId:[String,Number]},data:function(){return{loading:!1,flatFieldList:[],fieldList:[],fieldForm:{},fieldRules:{},commonDefaultValList:[],formulaDefaultValList:[],defaultValueCondition:[],matchFieldRelateIds:[],detailData:null,canFlow:!0,flowList:[],listenChangeFlag:!0,formulaLoading:!1,flowLoading:!1,defaultFormulaLoading:!1,moduleFieldsCache:{},throttleChange:!0}},computed:{moduleObj:function(){return this.getModuleObjByCategory(this.moduleId,{categoryId:this.categoryId})||{}}},methods:{getFieldList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0;var a={moduleId:this.moduleId,version:this.moduleObj.version,categoryId:this.categoryId};"update"===this.action.type&&(a.dataId=this.action.id);var n=[Object(s["b"])(Object(r["a"])(Object(r["a"])({},a),{},{filterHidden:!1})),Object(s["c"])(a),Object(l["b"])(a),Object(s["a"])(a),Object(s["f"])(a),Object(s["e"])(a)];this.userInfo.isAdmin?n.push(new Promise((function(e,t){return e()}))):n.push(Object(d["b"])({moduleId:this.moduleId,userId:this.userInfo.userId})),"update"===this.action.type&&n.push(Object(l["n"])(Object(r["a"])(Object(r["a"])({},a),{},{replaceMask:!1}))),this.detailData=null,Promise.all(n).then(function(){var a=Object(c["a"])(regeneratorRuntime.mark((function a(n){var i,c,s,l,d,u,m,f,h,p,v,b,g,y,w,k,C,x,I,_,j;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=Object(o["a"])(n,8),c=i[0],c=void 0===c?{}:c,s=c.data,l=i[1],l=void 0===l?{}:l,d=l.data,u=i[2],u=void 0===u?{}:u,m=u.data,f=i[3],f=void 0===f?{}:f,h=f.data,p=i[4],p=void 0===p?{}:p,v=p.data,b=i[5],b=void 0===b?{}:b,g=b.data,y=i[6],y=void 0===y?{}:y,w=y.data,k=i[7],k=void 0===k?{}:k,C=k.data,s=s||[],d=d||[],g=g||[],e.commonDefaultValList=m||[],e.formulaDefaultValList=(h||[]).filter((function(e){return 3===e.type})),e.defaultValueCondition=(h||[]).filter((function(e){return 2===e.type})),v=v||[],w=w||[],s=s.map((function(e){var t=[];return e.forEach((function(e){var a=w.find((function(t){return t.fieldId===e.fieldId}));(!a||a&&1!==a.authLevel)&&t.push(e)})),t.length?t:null})).filter((function(e){return!!e})),e.detailData=C||null,e.getMatchDefaultFieldIds(),x={},I={optList:d,unionList:v,authLevelLib:w,tagList:g},e.itemsForEach(s,(function(t){e.formatField(t,I),t.groupId?"detail_table"===t.formType&&(x[t.fieldName]=e.getDetailTableRule(t)):x[t.fieldName]=e.getRules(t)})),_=s.flat(1),e.formatUnion(s,_),j=[],s.forEach((function(t){var a=[];t.forEach((function(t){t.groupId?"detail_table"===t.formType&&(t.children=_.filter((function(e){return"detail_table"!==e.formType&&e.groupId===t.groupId})).map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{rules:e.getRules(t)})})),a.push(t)):a.push(t)})),a.length&&j.push(a)})),e.fieldList=j,e.fieldRules=x,e.flatFieldList=_,a.prev=38,!e.detailData){a.next=44;break}return a.next=42,e.setDefaultValueByDetail();case 42:a.next=47;break;case 44:return a.next=46,e.setDefaultValueByConfig();case 46:case 47:a.next=51;break;case 49:a.prev=49,a.t0=a["catch"](38);case 51:e.loading=!1,e.getFlowPreview().then((function(){t&&"function"===typeof t&&t()})).catch((function(){t&&"function"===typeof t&&t()}));case 53:case"end":return a.stop()}}),a,null,[[38,49]])})));return function(e){return a.apply(this,arguments)}}()).catch((function(){e.loading=!1,t&&"function"===typeof t&&t()}))},formatField:function(e,t){["select","checkbox"].includes(e.formType)&&(e.optionsList=t.optList.filter((function(t){return t.fieldId===e.fieldId}))),"field_tag"===e.formType&&(e.tagList=t.tagList.filter((function(t){return t.fieldId===e.fieldId}))),"position"===e.formType&&(e.showDetail=1===e.precisions,e.hideArea=3===e.precisions||4===e.precisions,e.onlyProvince=4===e.precisions),"date_interval"===e.formType&&(e.dateType=1===e.precisions?"daterange":"datetimerange"),e.fieldUnionSaveBO=t.unionList.find((function(t){return t.relateFieldId===e.fieldId}));var a=t.authLevelLib||[];e.authLevel=(a.find((function(t){return t.fieldId===e.fieldId}))||{}).authLevel,e.show=!e.isHidden;var n=this.getItemIsCanEdit(e,this.action?this.action.type:void 0);e.disabled=!n,e.field=e.fieldName,this.getItemRadio(e)},getItemRadio:function(e){"single_user"!==e.formType?["user","structure"].includes(e.formType)&&(e.radio=!1):e.radio=!0},getMatchDefaultFieldIds:function(){var e=[];this.defaultValueCondition.forEach((function(t){t.fieldUnionConditionList.forEach((function(a){0!==a.type&&e.push({fieldId:a.search.currentFieldId,relateFieldId:t.fieldId})}))}));var t=[];e.forEach((function(e){var a=t.find((function(t){return t.fieldId===e.fieldId}));a?a.relateFieldIds.push(e.relateFieldId):t.push({fieldId:e.fieldId,relateFieldIds:[e.relateFieldId]})})),this.matchFieldRelateIds=t},formatUnion:function(e,t){this.itemsForEach(e,(function(e){["data_union","data_union_multi"].includes(e.formType)&&(e.fieldUnionSaveBO.fieldUnionConditionList=(e.fieldUnionSaveBO.fieldUnionConditionList||[]).map((function(e){if(!e.search.currentFieldId)return null;var a=t.find((function(t){return t.fieldId===e.search.currentFieldId}));return a?(e.search.currentFieldObj=Object(v["u"])(a),e):null})).filter((function(e){return!!e})))}))},itemsForEach:function(e,t){for(var a=0;a<e.length;a++)for(var n=e[a],i=0;i<n.length;i++){var o=n[i];t(o,a,i,n)}},getItemIsCanEdit:function(e){return!["statistic","formula"].includes(e.formType)&&(!!Object(b["b"])(e.authLevel)||3===e.authLevel)},getDetailTableRule:function(e){var t=this,a=[];return 1!==e.isNull||(a.push({required:!0,message:"".concat(e.name,"不能为空"),trigger:["blur","change"]}),a.push({validator:function(e,a,n){var i=e.item,o=t.validatorDetailTable(i,a);o?n():n(new Error("".concat(i.name,"不能为空")))},item:e,trigger:["blur","change"]})),a},validatorDetailTable:function(e,t){if(!t||!t.length)return!1;for(var a=0;a<t.length;a++){var n=t[a],i=this.judgeFormValueIsEmpty(e.children,n);if(i)return!1}return!0},setDefaultValueByDetail:function(){var e=this;return new Promise(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(a,n){var i,o,c,s,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.listenChangeFlag=!1,i={},o=e.fieldList.flat(),c=0;case 4:if(!(c<o.length)){t.next=22;break}return s=o[c],l=null,t.prev=7,t.next=10,e.getValueFromDetail(s);case 10:l=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](7),l=null;case 16:Object(b["b"])(l)&&(l=Object(g["a"])(s.formType,null,s)),i[s.fieldName]=l,"detail_table"===s.formType&&(d=e.getDetailTableDefaultRow(s),e.$set(s,"rowDefaultValue",d));case 19:c++,t.next=4;break;case 22:e.fieldForm=Object(r["a"])(Object(r["a"])({},e.fieldForm),i),e.$nextTick((function(){e.listenChangeFlag=!0,a()}));case 24:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e,a){return t.apply(this,arguments)}}())},setDefaultValueByConfig:function(){var e=this;return new Promise((function(t,a){for(var n={},i=e.fieldList.flat(),o=function(t){var a=i[t],o=Object(g["a"])(a.formType,null,a);if("detail_table"===a.formType){var c=e.commonDefaultValList.find((function(e){return e.fieldId===a.fieldId}));c&&(o=Object(g["a"])(a.formType,c.value,a));var r=e.getDetailTableDefaultRow(a);o&&o.length?n[a.fieldName]=o:n[a.fieldName]=[Object(v["u"])(r)],e.$set(a,"rowDefaultValue",r)}else{var s=e.commonDefaultValList.find((function(e){return e.fieldId===a.fieldId}));s&&(o=e.getCommonDefaultVal(a,s)),n[a.fieldName]=o}},c=0;c<i.length;c++)o(c);e.fieldForm=Object(r["a"])(Object(r["a"])({},e.fieldForm),n),t()}))},getDetailTableDefaultRow:function(e){var t=this,a={};return e.children.forEach((function(e){var n=Object(g["a"])(e.formType,null,e),i=t.commonDefaultValList.find((function(t){return t.fieldId===e.fieldId}));i&&(n=t.getCommonDefaultVal(e,i)),a[e.fieldName]=n})),a},getCommonDefaultVal:function(e,t){switch(e.formType){case"select":return t.key?{key:t.key}:null;case"checkbox":return t.key?t.key.split(",").map((function(e){return{key:e}})):null;case"date_interval":return t.value?Object(v["v"])(t.value):{};case"position":return t.value?Object(v["v"])(t.value):[];case"detail_table":return t.value?Object(g["a"])(e.formType,t.value,e):[];case"percent":return Object(C["h"])(t.value,"*");default:return t.value}},getFilterDefaultVal:function(e){var t=this;return new Promise((function(a,n){var i=t.defaultValueCondition.find((function(t){return t.fieldId===e.fieldId}));if(!i)return a();var o=[],r=i.fieldUnionConditionList.filter((function(e){return 1===e.type}));r.forEach((function(e){var a=t.flatFieldList.find((function(t){return t.fieldId===e.search.currentFieldId}));if(a){var n=t.getSaveFieldValue(t.fieldForm[a.fieldName],a.formType,a);(Object(b["a"])(n)||Object(b["c"])(n))&&(n=JSON.stringify(n)),o.push({fieldId:a.fieldId,fieldName:a.fieldName,formType:a.formType,moduleId:t.moduleId,value:n})}}));var s=[];i.fieldUnionConditionList.forEach((function(e){s.push(e.search)}));var d={fieldId:e.fieldId,targetModuleId:i.targetModuleId,targetFieldId:i.targetFieldId,searchList:s,moduleId:t.moduleId,fieldValues:o,version:t.moduleObj.version};Object(l["l"])(d).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(n){var i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=n.data||[],o=regeneratorRuntime.mark((function e(a){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i[a],o=t.flatFieldList.find((function(e){return e.fieldId===n.fieldId})),!(o&&n.value&&n.value.length)){e.next=9;break}if("detail_table"!==o.formType){e.next=8;break}return e.next=6,t.detailTableUnionDefaultFill(o,n.value[0]).catch((function(){}));case 6:e.next=9;break;case 8:t.fieldForm[o.fieldName]=n.value[0];case 9:case"end":return e.stop()}}),e)})),c=0;case 3:if(!(c<i.length)){e.next=8;break}return e.delegateYield(o(c),"t0",5);case 5:c++,e.next=3;break;case 8:a();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){n()}))}))},detailTableUnionDefaultFill:function(e,t){var a=this;return new Promise((function(n,i){var o=a.defaultValueCondition.find((function(t){return t.fieldId===e.fieldId}));if(!o)return n();var r=Object(v["u"])(o.fieldUnionList||[]);if(!r.length)return n();var s=o.targetModuleId;a.getModuleFields(s).then(function(){var n=Object(c["a"])(regeneratorRuntime.mark((function n(i){var o,c,s,l,d,u,m,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r.forEach((function(e){e.fromField=i.find((function(t){return t.fieldId===e.targetFieldId})),e.toField=a.flatFieldList.find((function(t){return t.fieldId===e.fieldId}))})),o=[],c=0;case 3:if(!(c<t.length)){n.next=23;break}s=t[c],l=Object(v["u"])(e.rowDefaultValue||{}),d=0;case 7:if(!(d<r.length)){n.next=19;break}if(u=r[d],u.fromField&&u.toField){n.next=11;break}return n.abrupt("return");case 11:return m=u.fromField.fieldName,f=u.toField.fieldName,n.next=15,a.getFillValue(u.fromField,u.toField,s[m]);case 15:l[f]=n.sent;case 16:d++,n.next=7;break;case 19:o.push(l);case 20:c++,n.next=3;break;case 23:a.setFieldValue(e,o);case 25:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(){i()}))}))},getValueFromDetail:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,i,o,c,r,s,l,d,u,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.detailData.fieldDataCommon||{},!n.hasOwnProperty(e.fieldName)){a.next=3;break}return a.abrupt("return",n[e.fieldName]);case 3:if(i=t.detailData.fieldDataList||[],o=i.find((function(t){return t.fieldId===e.fieldId})),o){a.next=7;break}return a.abrupt("return",null);case 7:c=o.value,a.t0=e.formType,a.next="file"===a.t0?11:"detail_table"===a.t0?23:43;break;case 11:if(!Object(b["b"])(o.value)){a.next=13;break}return a.abrupt("return",[]);case 13:if("string"!==typeof c){a.next=20;break}return a.next=17,t.getFileListByBatchId(c).catch((function(){return[]}));case 17:return a.abrupt("return",a.sent);case 20:if(!Object(b["a"])(c)){a.next=22;break}return a.abrupt("return",c);case 22:return a.abrupt("return",[]);case 23:if(r=Object(g["a"])(e.formType,o.value,e),s=e.children.filter((function(e){return"file"===e.formType})),!s.length||!r.length){a.next=42;break}l=0;case 27:if(!(l<r.length)){a.next=42;break}d=r[l],u=0;case 30:if(!(u<s.length)){a.next=39;break}if(m=s[u].fieldName,!d[m]){a.next=36;break}return a.next=35,t.getFileListByBatchId(d[m]).catch((function(){return[]}));case 35:d[m]=a.sent;case 36:u++,a.next=30;break;case 39:l++,a.next=27;break;case 42:return a.abrupt("return",r);case 43:return a.abrupt("return",Object(g["a"])(e.formType,o.value,e));case 44:case"end":return a.stop()}}),a)})))()},getFileListByBatchId:function(e){return new Promise((function(t,a){if(Object(b["b"])(e))return t([]);Object(f["e"])(e).then((function(e){t(e.data||[])})).catch((function(){a()}))}))},getValueFromFormula:function(e){var t=this;return new Promise((function(a,n){if(!t.formulaDefaultValList.length)return a();var i=t.getSubmitParams(t.fieldList,t.fieldForm,e);i.moduleId=t.moduleId,i.version=t.moduleObj.version,"update"===t.action.type&&(i.dataId=t.action.id),t.action.relativeData&&Object.keys(t.action.relativeData).length&&(i=Object(r["a"])(Object(r["a"])({},i),t.action.relativeData)),t.defaultFormulaLoading=!0,Object(l["d"])(i).then((function(n){var i=n.data||[];i.forEach((function(a){var n=t.flatFieldList.find((function(e){return e.fieldId===a.fieldId}));n&&t.setFieldValue(n,a.value,e)})),a()})).catch((function(){t.defaultFormulaLoading=!1,n()}))}))},getFlowPreview:function(){var e=this;return new Promise((function(t,a){if(!e.canFlow)return e.flowList=[],e.flowLoading=!1,t();if(e.detailData&&(e.examineStatus||0===e.examineStatus)&&![2,4].includes(e.examineStatus))return e.flowList=[],e.flowLoading=!1,t();e.flowLoading=!0;var n=[];e.flatFieldList.forEach((function(t){if(e.fieldForm.hasOwnProperty(t.field)){var a=e.fieldForm[t.fieldName],i="";Object(b["b"])(a)||(i=e.getSaveFieldValue(a,t.formType,t),(Object(b["a"])(i)||Object(b["c"])(i))&&(i=JSON.stringify(i))),n.push({fieldId:t.fieldId,fieldName:t.fieldName,formType:t.formType,moduleId:e.moduleId,value:i})}})),Object(u["b"])({moduleId:e.moduleId,version:e.moduleObj.version,flowMetadataType:0,typeId:0,fieldValues:n}).then((function(a){e.flowList=a.data,e.$nextTick((function(){e.flowLoading=!1})),t()})).catch((function(){e.flowLoading=!1,a()}))}))},validateByFormula:function(e){var t=this;return new Promise((function(a,n){Object(m["e"])({moduleId:t.moduleObj.moduleId,version:t.moduleObj.version,fieldDataList:e}).then((function(e){var i=e.data||[],o=[];return i.forEach((function(e){0===e.result?o.push(e.tip):2===e.result&&o.push("自定义校验规则校验失败")})),t.toastMultiError(o).then((function(){})),0===o.length?a():n()})).catch((function(){n()}))}))},validateTableData:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,c,r,s,l,d,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t&&t.length){n.next=2;break}return n.abrupt("return",!0);case 2:o=0;case 3:if(!(o<t.length)){n.next=34;break}c={field:e,rowIndex:o},r=0;case 7:if(!(r<e.children.length)){n.next=25;break}if(s=e.children[r],s.rules&&s.rules.length){n.next=11;break}return n.abrupt("continue",22);case 11:return n.next=13,a.customValidator(Object(i["a"])({},s.fieldName,s.rules),t[o]).catch((function(e){return e}));case 13:if(l=n.sent,!l){n.next=22;break}if(!l[0]){n.next=19;break}a.$message.error(l[0].message),n.next=21;break;case 19:return n.abrupt("return",!1);case 21:return n.abrupt("return",!1);case 22:r++,n.next=7;break;case 25:return d=a.getSubmitParams(a.fieldList,a.fieldForm,c),n.next=28,a.validateByFormula(d.fieldDataList).then((function(){return!0})).catch((function(){return!1}));case 28:if(u=n.sent,u){n.next=31;break}return n.abrupt("return",!1);case 31:o++,n.next=3;break;case 34:return n.abrupt("return",!0);case 35:case"end":return n.stop()}}),n)})))()},customValidator:function(e,t){return new Promise(function(){var a=Object(c["a"])(regeneratorRuntime.mark((function a(n,i){var o,c,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=Object.keys(e),c=[],r=regeneratorRuntime.mark((function a(n){var i,r,s,l,d,u,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=o[n],r=e[i],s=t[i],l=0;case 4:if(!(l<r.length)){a.next=23;break}if(d=r[l],d.required&&Object(b["b"])(s)&&c.push({message:d.message||"校验失败",field:i}),d.regexp&&!d.regexp.test(s)&&c.push({message:d.message||"校验失败",field:i}),!d.validator||"function"!==typeof d.validator){a.next=20;break}if(u=function(e){e&&c.push({message:e.message,field:i})},m=d.validator(d,s,u),!(m&&m instanceof Promise)){a.next=20;break}return a.prev=12,a.next=15,m;case 15:a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](12),c.push({message:a.t0.message,field:i});case 20:l++,a.next=4;break;case 23:case"end":return a.stop()}}),a,null,[[12,17]])})),s=0;case 4:if(!(s<o.length)){a.next=9;break}return a.delegateYield(r(s),"t0",6);case 6:s++,a.next=4;break;case 9:if(!c.length){a.next=11;break}return a.abrupt("return",i(c));case 11:n();case 12:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())},UniquePromise:function(e){var t=this,a=e.field,n=e.value;return new Promise((function(e,i){var o=t.getSaveFieldValue(n,a.formType,a);(Object(b["a"])(o)||Object(b["c"])(o))&&(o=JSON.stringify(o));var c={moduleId:t.moduleId,fieldName:a.fieldName,fieldId:a.fieldId,formType:a.formType,value:o};"update"===t.action.type&&(c.dataId=t.action.id),t.moduleObj&&(c.version=t.moduleObj.version),Object(l["g"])(c).then((function(t){t.data?e():i()})).catch((function(){i()}))}))},toastMultiError:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.length>0&&void 0!==e[0]?e[0]:[],i=0;case 2:if(!(i<n.length)){a.next=8;break}return a.next=5,t.toastError(n[i]);case 5:i++,a.next=2;break;case 8:case"end":return a.stop()}}),a)})))()},toastError:function(e){var t=this;return new Promise((function(a,n){setTimeout((function(){t.$message.error(e),a()}),300)}))},getFormErrorMessage:function(e){if(e.fields)for(var t=0;t<e.fields.length;t++){var a=e.fields[t];if("error"===a.validateState){this.$message.error(a.validateMessage);break}}},getFormulaFieldNum:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.flatFieldList.filter((function(e){return"formula"===e.formType&&!e.groupId})).length;if(e)return t;var a=[];return this.flatFieldList.filter((function(e){return e.groupId})).forEach((function(e){a.includes(e.groupId)||(a.push(e.groupId),t+="formula"===e.formType?1:0)})),t},getDefaultValueFormulaNum:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=0,n=[];return this.formulaDefaultValList.forEach((function(i){var o=e.flatFieldList.find((function(e){return e.fieldId===i.fieldId}));o&&(o.groupId?t||n.includes(o.groupId)||(n.push(o.groupId),a++):a++)})),a},loopAsyncFunc:function(e,t){var a=arguments;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=a.length>2&&void 0!==a[2]?a[2]:[],e&&"function"===typeof e&&"number"===typeof t){n.next=3;break}return n.abrupt("return",Promise.reject());case 3:if(i||(i=[]),!(t<=0)){n.next=6;break}return n.abrupt("return",Promise.resolve());case 6:n.prev=6,o=0;case 8:if(!(o<t)){n.next=14;break}return n.next=11,e(i[o]);case 11:o++,n.next=8;break;case 14:return n.abrupt("return",Promise.resolve());case 18:return n.prev=18,n.t0=n["catch"](6),n.abrupt("return",Promise.reject());case 22:case"end":return n.stop()}}),n,null,[[6,18]])})))()},formChange:function(e,t,a,n,i){var o=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o.listenChangeFlag){t.next=2;break}return t.abrupt("return");case 2:if(a=o.matchFieldRelateIds.find((function(t){return t.fieldId===e.fieldId})),a&&a.relateFieldIds.forEach((function(e){var t=o.flatFieldList.find((function(t){return t.fieldId===e}));t&&o.getFilterDefaultVal(t).then((function(){})).catch((function(){}))})),!("data_union"===e.formType&&n.length>0)){t.next=8;break}return t.next=8,o.unionFieldFill(e,n).catch((function(){}));case 8:if(!("detail_table"===e.formType&&i.childField&&"data_union"===i.childField.formType&&i.childFieldValueList&&i.childFieldValueList.length)){t.next=11;break}return t.next=11,o.unionFieldDetailTableFill(e,i);case 11:o.timer&&o.throttleChange&&(clearTimeout(o.timer),o.timer=null),o.timer=setTimeout(Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a,n,c,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.getFormulaFieldNum(),a=o.getFormulaFieldNum(!0),n=t-a>0?[i]:null,e.next=5,o.loopAsyncFunc(o.calcFormula,t,n).then((function(){o.formulaLoading=!1})).catch((function(){o.formulaLoading=!1}));case 5:return c=o.getDefaultValueFormulaNum(),r=o.getDefaultValueFormulaNum(!0),s=c-r>0?[i]:null,e.next=10,o.loopAsyncFunc(o.getValueFromFormula,c,s).then((function(){o.defaultFormulaLoading=!1})).catch((function(){o.defaultFormulaLoading=!1}));case 10:if(!o.getFlowPreview){e.next=13;break}return e.next=13,o.getFlowPreview().catch((function(){}));case 13:clearTimeout(o.timer),o.timer=null;case 15:case"end":return e.stop()}}),e)}))),50);case 13:case"end":return t.stop()}}),t)})))()},tableFormChange:function(){if(this.listenChangeFlag){var e=Array.prototype.slice.call(arguments),t=e[0],a=e[1],n=e[2],i=n.value;this.formChange(t,a,i,null,Object(r["a"])({field:t},n))}},unionFieldFill:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,o,c,s,l,d,u,m,f,h,p,b,g,y;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.fieldUnionSaveBO.fieldUnionList||[],o=e.fieldUnionSaveBO.targetModuleId,c=t[0],s=Object(v["u"])(i).map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{toField:a.flatFieldList.find((function(t){return t.fieldId===e.fieldId}))})})).filter((function(e){return e.toField})),l=s.filter((function(e){return!e.toField.groupId})),d=0;case 8:if(!(d<l.length)){n.next=20;break}return u=l[d],m=c[u.targetFieldName],f=(w(u.targetFieldType)||{}).formType,n.next=14,a.getFillValue({fieldName:u.targetFieldName,formType:f},u.toField,m);case 14:h=n.sent,a.$set(a.fieldForm,u.toField.fieldName,h);case 17:d++,n.next=8;break;case 20:p=s.map((function(e){return e.toField.groupId})).filter((function(e){return e})),p=Array.from(new Set(p)),b=regeneratorRuntime.mark((function e(t){var n,i,l,d,u,m,f,h,v,b,g,y,k,C,x,I,_,j,O,F,T,A,D,S;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.throttleChange=!1,n=p[t],i=a.flatFieldList.find((function(e){return"detail_table"===e.formType&&e.groupId===n})),i){e.next=5;break}return e.abrupt("return","continue");case 5:if(l=s.filter((function(e){return e.toField.groupId===n})),d=[],d=l.filter((function(e){return c.hasOwnProperty(e.targetFieldName)})),!d.length){e.next=24;break}u={},m=0;case 11:if(!(m<d.length)){e.next=21;break}return f=d[m],h=c[f.targetFieldName],v=(w(f.targetFieldType)||{}).formType,e.next=17,a.getFillValue({fieldName:f.targetFieldName,formType:v},f.toField,h);case 17:u[f.toField.fieldName]=e.sent;case 18:m++,e.next=11;break;case 21:b=i.fieldName,a.fieldForm[b][0]=Object(r["a"])(Object(r["a"])({},a.fieldForm[b][0]||{}),u),a.$set(a.fieldForm,b,a.fieldForm[b]);case 24:if(d=l.filter((function(e){return!c.hasOwnProperty(e.targetFieldName)})),!d.length){e.next=63;break}return e.next=28,a.getModuleFields(o);case 28:g=e.sent,y=d.map((function(e){var t=g.find((function(t){return t.fieldName===e.targetFieldName}));return t?t.groupId:null})).filter((function(e){return!!e})),y=Array.from(new Set(y)),k=y.map((function(e){return g.find((function(t){return"detail_table"===t.formType&&t.groupId===e}))})),C=0;case 33:if(!(C<k.length)){e.next=63;break}x=k[C],I=c[x.fieldName],_=[],j=0;case 39:if(!(j<I.length)){e.next=58;break}O=I[j],F={},T=0;case 43:if(!(T<d.length)){e.next=54;break}if(A=d[T],!O.hasOwnProperty(A.targetFieldName)){e.next=51;break}return D=O[A.targetFieldName],S=(w(A.targetFieldType)||{}).formType,e.next=50,a.getFillValue({fieldName:A.targetFieldName,formType:S},A.toField,D);case 50:F[A.toField.fieldName]=e.sent;case 51:T++,e.next=43;break;case 54:_.push(F);case 55:j++,e.next=39;break;case 58:a.$set(a.fieldForm,i.fieldName,_);case 60:C++,e.next=33;break;case 63:setTimeout((function(){a.throttleChange=!0}),1e3);case 64:case"end":return e.stop()}}),e)})),g=0;case 24:if(!(g<p.length)){n.next=32;break}return n.delegateYield(b(g),"t0",26);case 26:if(y=n.t0,"continue"!==y){n.next=29;break}return n.abrupt("continue",29);case 29:g++,n.next=24;break;case 32:case"end":return n.stop()}}),n)})))()},unionFieldDetailTableFill:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var o,c,r,s,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=t.childField.fieldUnionSaveBO.fieldUnionList||[],c=t.childFieldValueList[0],r=regeneratorRuntime.mark((function n(i){var r,s,l,d,u,m,f,h,p,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=o[i],s=a.flatFieldList.find((function(e){return e.fieldId===r.fieldId})),!s){n.next=26;break}return l=c[r.targetFieldName],d=(w(r.targetFieldType)||{}).formType,n.next=7,a.getFillValue({fieldName:r.targetFieldName,formType:d},s,l);case 7:if(u=n.sent,s.groupId){n.next=12;break}a.$set(a.fieldForm,s.fieldName,u),n.next=26;break;case 12:if(s.groupId!==t.childField.groupId){n.next=19;break}m=t.rowIndex,f=a.fieldForm[e.fieldName],f[m][s.fieldName]=u,a.$set(a.fieldForm,e.fieldName,f),n.next=26;break;case 19:if(h=a.flatFieldList.find((function(e){return e.groupId===s.groupId&&"detail_table"===e.formType})),h){n.next=22;break}return n.abrupt("return",{v:void 0});case 22:p=0,v=a.fieldForm[h.fieldName],v[p][s.fieldName]=u,a.$set(a.fieldForm,h.fieldName,v);case 26:case 27:case"end":return n.stop()}}),n)})),s=0;case 4:if(!(s<o.length)){i.next=12;break}return i.delegateYield(r(s),"t0",6);case 6:if(l=i.t0,"object"!==Object(n["a"])(l)){i.next=9;break}return i.abrupt("return",l.v);case 9:s++,i.next=4;break;case 12:case"end":return i.stop()}}),i)})))()},getModuleFields:function(e){var t=this;return new Promise((function(a,n){var i=t.getModuleObjById(e);if(!i)return a([]);var o=t.moduleFieldsCache[e]||[];if(o.length)return a(o);Object(s["d"])({moduleId:e,version:i.version}).then((function(n){t.moduleFieldsCache[e]=n.data||[],a(n.data||[])})).catch((function(){a([])}))}))},getFillValue:function(e,t,a){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var o,c,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&t){i.next=2;break}return i.abrupt("return",a);case 2:if(o=e.formType,c=t.formType,o){i.next=6;break}return i.abrupt("return",a);case 6:if(o&&o!==c){i.next=15;break}i.t0=c,i.next="user"===i.t0?10:"structure"===i.t0?11:12;break;case 10:return i.abrupt("return",(a||[]).map((function(e){return e.userId})));case 11:return i.abrupt("return",(a||[]).map((function(e){return e.deptId})));case 12:return i.abrupt("return",Object(g["a"])(o,a,t));case 13:i.next=25;break;case 15:if(r=Object(g["a"])(o,a,t),"data_union"!==o){i.next=25;break}if(Object(b["c"])(r)){i.next=24;break}return i.next=20,n.getDataMainFieldValue(r).catch((function(){}));case 20:r=i.sent,r=Object(g["a"])(o,r,t),i.next=25;break;case 24:r=r.value;case 25:return i.abrupt("return",r);case 26:case"end":return i.stop()}}),i)})))()},getDataMainFieldValue:function(e){return new Promise((function(t,a){if(!e)return a();Object(l["o"])({dataId:e}).then((function(e){t(e.data||{})})).catch((function(){a()}))}))},getTableRowData:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",i="";if(!t)return i;if("all"===n)return i=[],t.forEach((function(t){var n=a.getSubmitParams(e.children,t);i.push(n.fieldDataList)})),i;if(n>t.length)return i;var o=this.getSubmitParams(e.children,t[n]);return i=o.fieldDataList,i},calcFormula:function(e){var t=this;return new Promise((function(a,n){var i=t.flatFieldList.find((function(e){return"formula"===e.formType}));if(!i)return a();var o=t.getSubmitParams(t.fieldList,t.fieldForm,e);o.moduleId=t.moduleId,o.version=t.moduleObj.version,"update"===t.action.type&&(o.dataId=t.action.id),t.action.relativeData&&Object.keys(t.action.relativeData).length&&(o=Object(r["a"])(Object(r["a"])({},o),t.action.relativeData)),t.formulaLoading=!0,Object(l["a"])(o).then((function(n){var i=n.data||[];0===i.length&&(t.formulaLoading=!1),i.forEach((function(a,n){var i=t.flatFieldList.find((function(e){return e.fieldId===a.fieldId}));i&&t.setFieldValue(i,a.value,e)})),a()})).catch((function(){t.formulaLoading=!1,n()}))}))},setFieldValue:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(a){var n=a.field,i=a.rowIndex,o=n.fieldName,c=this.fieldForm[o][i];this.$set(c,e.fieldName,t),this.$set(this.fieldForm,o,this.fieldForm[o])}else this.$set(this.fieldForm,e.fieldName,t)},getSaveFieldValue:function(e,t,a){if(Object(b["b"])(e))return"";if(["user","structure"].includes(a.formType)){var n=e||[],i="user"===t?"userId":"id";return Object(b["a"])(e)&&e.length&&Object(b["c"])(e[0])&&(n=e.map((function(e){return e[i]}))),n.join(",")}switch(t){case"file":return Object(b["a"])(e)?e&&e.length>0?e[0].batchId:"":e;case"checkbox":return Object(b["a"])(e)?e.map((function(e){return{type:e.type,value:e.value,key:e.key}})):"";case"select":return e?{type:e.type,value:e.value,key:e.key}:"";case"percent":return Object(C["h"])(e,"/");case"location":return Object(b["c"])(e)&&Object(b["b"])(e.lat)&&Object(b["b"])(e.lng)&&Object(b["b"])(e.address)?"":e;case"detail_table":var o=this.getTableRowData(a,e);return o=o.map((function(e){var t={},a=!0;return e.forEach((function(e){t[e.fieldName]=e.value,Object(b["b"])(e.value)||(a=!1)})),a?null:t})),o=o.filter((function(e){return!!e})),(Object(b["a"])(o)||Object(b["c"])(o))&&(o=JSON.stringify(o)),o;case"data_union":return this.getUnionValue(e);case"data_union_multi":return this.getUnionValue(e);default:return e}},getUnionValue:function(e){return Object(b["b"])(e)?"":Object(b["c"])(e)?e.dataId:Object(b["a"])(e)?e.map((function(e){return Object(b["c"])(e)?e.dataId:e})).join(","):e},awaitLoading:function(){var e=this;return new Promise((function(t,a){var n=null,i=e,o=function e(){n=setTimeout((function(){if(!(i.flowLoading||i.formulaLoading||i.defaultFormulaLoading))return clearInterval(n),n=null,t();e()}),100)};o()}))},getSubmitParams:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={entity:{},fieldDataList:[],relateFieldId:""};return e.flat().forEach((function(e,o){var c=t[e.fieldName];if("detail_table"===e.formType&&n){var r=[];r=n.field.fieldId===e.fieldId?a.getTableRowData(e,c,n.rowIndex):a.getTableRowData(e,c,0),i.fieldDataList=i.fieldDataList.concat(r)}else if(!["desc_text","field_group"].includes(e.formType)){var s=a.getSaveFieldValue(c,e.formType,e);(Object(b["a"])(s)||Object(b["c"])(s))&&(s=JSON.stringify(s)),i.fieldDataList.push({fieldName:e.fieldName,name:e.name,type:e.type,fieldId:e.fieldId,value:s})}})),i}}}},"6f03":function(e,t,a){"use strict";a("486e")},"6f20":function(e,t,a){"use strict";a("7c2b")},"706c":function(e,t,a){},"70a5":function(e,t,a){"use strict";a("3c43")},"70c1":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},7155:function(e,t,a){},7191:function(e,t,a){var n={"./admin.js":"bb12","./register.sync.js":"9210","./user.sync.js":"1e12"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="7191"},"72c0":function(e,t,a){},"730b":function(e,t,a){},7353:function(e,t,a){"use strict";a("3e95")},"73a3":function(e,t,a){"use strict";a("7155")},"73b1":function(e,t,a){"use strict";a("0710")},7403:function(e,t,a){"use strict";t["a"]={methods:{getStatusColor:function(e){return 0==e?"#FF991F":1==e?"#00875A":2==e?"#DE350B":3==e?"#FF991F":4==e?"#5E6C84":5==e?"#FF991F":6==e||8==e?"#5E6C84":10==e?"#0052CC":void 0},getStatusName:function(e){return 0==e?"待审核":1==e?"通过":2==e?"拒绝":3==e?"审核中":4==e?"撤回":5==e?"未提交":6==e?"创建":8==e?"已作废":10==e?"正常":""},getStatusIcon:function(e){return 0==e?"wk wk-icon-invalid":1==e?"wk wk-icon-success":2==e?"wk wk-icon-refuse":3==e?"wk wk-icon-in-review":4==e?"wk wk-icon-withdraw":5==e?"wk wk-icon-uncommitted":6==e?"wk wk-icon-create":8==e?"wk wk-icon-invalid":10==e?"wk wk-icon-normal":""}}}},"74ca":function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},7598:function(e,t,a){e.exports=a.p+"static/img/examine_head.cf74372c.png"},"769b":function(e,t,a){"use strict";a("a19b")},"794f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxM0Q5NjFGNDA1MkYxMUVBQjFGRkUxNEIzODBDNDUwRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxM0Q5NjFGNTA1MkYxMUVBQjFGRkUxNEIzODBDNDUwRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEzRDk2MUYyMDUyRjExRUFCMUZGRTE0QjM4MEM0NTBGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEzRDk2MUYzMDUyRjExRUFCMUZGRTE0QjM4MEM0NTBGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uH83+AAACwZJREFUeNrsnctuHEUUhj2+JU6cvXdB2QISDxA2KAsQjwEskNjkRciKBSKvgcQi4hlYgMQKORJI2Uay48SJPdQ/yrE6k6nqbmemq07V90nFRLng6eqvT526dNXsxYsXW0t8HMp3oXwZyr1Q9rYANs9pKMehPAnl8cHBwZ/Lf2HWkXU/lB9D+T6UbeoOMnIZyi+hPAzSni3LKlF/DeUB9QQF8XsoXwVhz7c6EfQRokKBfPHWzavI+kn4/COUHeoGCuQilM+UwyqyfoOoUDBy81tLA76kPqBwHpis96gLKJy7Jus+dQGFc9gdDQAoHmQFZAVAVkBWAGQFQFZAVgBkBUBWQFYAZAVAVkBWAGQFQFZAVgBkBUBWQFYAZAVAVkBWAGQFQFZAVgBkBUBWQFYAZIXm2aUKhnNxcbF1eXl59akyn88XRdjnbDa7KouIsL29KDs7O1efgKxrl/PNmzeLol+bjH10Bbb/TxdJLGF3d3cXBXmR9VooWp6fn2+9fv168etNIJHtIbDIu7e3t7W/v7/4NSBrEsn56tWr96LgVA+IfraKouyNGzcW8gKyvoOiqCTZVBS9Tuqhg/QUYSWtoi00Lmtpkq6KtmdnZ4vviLSNyqrIJQmu29yrQ9Tt2Xd7/tb7tw6Wle4IwpiOWldaPVwHBwdNd8aakvXly5eLSDWGbq9dZQhdcVdhnSsbZRj6kJ2cnCyi7M2bN5G15h6+8sChYmy6d94Vf+zogx42SX7r1q3mRg50duu85guUBGpGhzS9uXviY0YkFLmVFrQyahCudVa1rEOb/dKGi8ZI20paIFmrTQOsU9IXnXSzVUpCD42Kvr8euFSrIKn154qy5KwOUX6q6NQnhCJSyXmfcmZ9Tz14qeuR1BJWeWzNbLcoqqKQlw6Kor++a1/k1DXr2pG1ElEl5+HhocsBdn1nfffUA1a7sNXIqtwuJao6Ubdv33Y9qD7kGlQHqgtkLRTrPUcT893dxU2uYVxS16BrSU1QqC76UiFkzYBNR6ZEVc6XmlHyhuWxKWFVJ6Wue2hWVuVosaEdNZe1ibosbCwlUJ3Ulr+6llW5WWzgXM1lraIuCxtLb1Q3NeWvbmXVjUjlqa3MndtDmcpfcywoR9alnCyGBvtbWkqna01NuabqClk3jGZsYtFCMz6lTZ9OQWptg+qqb+oZWTeAOg6x5t9WIrWKrj2Wo9saAmSdOKrGhmTUFNbcoRrS4YqlA7Zu1jPuFrLEoqrytlzTqPZKdTc10fex/QGmRHUQS5PsfS5knSiqxpqyKW+CRamhr6Uol9QA/lQPk6Lr6enpyhRK39vry4fuZI1F1SkWTktOe61kDJr6tClh5ZVD3+W69k19u8vLqgfJs6xuclZVfCyKTRVVFa3GirockfX/mCJ3jNVJqh6RdU3EFmbYy32e6FtMvQ5UJ7FJEa+LXNzL6rVJG/oS44d2tpA1QwoQG67y+nandXY2HV1j6YjHVMBFByuWJ9quKDmREN3dWUyEISLqujaZb9vOMavE1M/2NiXtWtZcUdUG3/XzY5MQ+rPU8sXUda37YYrJ6m3M1YWssSZr00NAsV62St9Mmb6b/l7uJXqxOvKYBhSfs9pW6Kui29TNmMZIx0zpltD5s5m0VTmzN2GLlzVWoTnyrbHylbJOIVZX3l57QdYNtwp9HaCcshJZJ7rhHt4C6BvPnCrnjtUVkXXNxHrTpcuaWnc79WhGrK68rW8lsm6IvmGrMZsTfyix3JnIOlFkLXmRtaZSU2OoU7/RUEtk5WihNT9YWlWV6rhI1Fp2hyGyOo2sY0SdeiQjVlfkrETUokStieLTAN3kVRFAv1dKdO07qsi2McrV9HvM+11G1tKbMHWkhmy1SY6KrNlJLQU0UXNHsNgQFZG1MVlTUTW16UQJaYC3aF/8ty15qjA1lmqLskvA85Q1sk5ASb1+ZM0say3bOE5Bag9bZJ0gQpUga2puv6TI73mZ5Tv17SGyrhprtZXuuStcC7JXiVlKBzB2ZLzq1FtkdbE2QBFsVa+7hDc0S99iM9YJzPH+WvVpQKpiazw+Z93E6ghZM+SttR2fs+5RgFryVTdpgG0isUpMRY7c77/bLoEWxWyv2Nxvt6b2B/Moq5sMO/YKSO7dnLWIZfnMWEUz/X7ugydideN1yyX3sira5spd1XlJPSz6s773sDYZVWvbH8yNrGq2Yk1XLiGGbP8zxRZBY+okVY/IukZiOaCa3RzRtdRZtNT28V63CHUpa+ronMl7pwOGf3Ksuortr6XvgqwTktp+fOrOVurhyRXJUgfaeT/Mzp2suvmxaUJFlCmnOfveVJ3isIsuuvZYVNV39BxVFy2Zty8sQRQhVg0L6Wbp91MH726i43fnzp33jj1K7em/KVJbvw/ZphNZNxRdY82dHeEzdZOXO2rpmmOdzJwH2jWdBnSb2FQHo6X1rrrW1KbFtZxn61ZWRYtU9NSsUgvrBnSNutZUh7SWvQpcvx+sXahTG+X2bY7mHV1b6qFU3cQOHkbWDKgzFes4qHmsVVgTNZbuqE6m7Ggi65ALCD3uVE6m2ZzahDVRU1O5qpPaNtao4mo0TJTKX3VTtRdVDcLavlopUVUXXherVC+r5a+pG6Tm8uTkxPUowZBrUB3UlKdWKavlrylh1RHRzc69BvY66Dvru6dGOHTtteWp1co6RFhhC6Y9pAWWn/Yt5K5dVFHlzte6abq5qQiq2R47ErLUBR76/kPWO7QgarWyWm9YwzeppYO28MPe4yqlU2JTxkPya33vWnPUZmS1TpcGxlMLPKzjoqbWZsVySTtGUjtEo8Zef5OyWhMpCVMD6MvSanxS/y61HHFdqMOk5j71ztQyuXfSzsUs3Jx5KxerJn/sGwUSw86sWtfaVOXKVsYOpbXU7C+ldbOmZLXo2XcGQKrptRfuFNWs2HSvfVrKoU9FSyv6mbG9p4Y8NGr2Wz1Ao0lZuz1tRdnSV2bpYVA0rWE96ofK2uyhbbZjSqnSImmDHayh0o7piW+S3CMSyOpk1EDlOr3zdUTRqUYfkLUiJIt62yqKst1e+7qmZ62jZiMMnDqIrGtpkruvz9gWm/apIoG7vf/uqIA+bYdp27nP6w5+yOpUXvLJTK0eVQDICoCsgKwAyAqArICsAMgKgKyArADICoCsgKwAyAqArICsAMgKgKyArADICoCsgKwAyAqArICsAMgKgKyArADICsgKgKwAyArt8VT/YTPhStBu3DoHYcqzECZk5/nz53eRtQL6TgB3zr+h3D86OnqKrI7RGQY6a1YHdNQuKjmrc3QWbSuiIqtj7LyuVkRFVse0JiqyOka9/pZERVbnaUBLoiIruBEVWcGNqMgKbkRFVsgt6udDRUVWyCpqKMdj/hGyggtRkRXciIqs4EZUZAU3oiIruBEVWcGNqMgKbkRFVnAjKrKCG1GRFdyIiqzgRlRkBTeiIiu4ERVZwY2oyApuREVWcCMqsoIbUZEV3IiKrOBGVGQFN6IiK7gRFVnBjajICm5ERVZwIyqyghtRkRXciIqs4EZUZAU3oiIruBEVWcGNqMiKqG5ERVZEPfb0pZEVUZEVEBVZoUlRkRVRkRUQFVmhWVGRFVHdyXrOfUVUL7L+w71FVC+y/sb9RVQvsj4O5YL7jKgeZP0rlJ+514jqZTTgYShPuOcu+a8FUbuyakTg61B+CuWS++9K1PstiNqV1YT9IZRPQ3kUyt+hvMKHIjluTVQxm8/n3HqHPHv27KOjo6Pj8On6OsI1DP67/wswAGaRUM7rPS0xAAAAAElFTkSuQmCC"},"79ff":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a("b775"),i=a("db49");function o(e){return Object(n["a"])({url:"adminUser/updateImg",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function c(e){return Object(n["a"])({url:i["a"].iDCenterUrl+"idsUser/queryLoginUser",method:"post",data:e})}function r(e){return Object(n["a"])({url:"adminUser/updateUser",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(n["a"])({url:"adminUser/updatePassword",method:"post",data:e})}},"7c04":function(e,t,a){"use strict";a("2b74")},"7c2b":function(e,t,a){},"7d8f":function(e,t,a){"use strict";a("8d3a")},"80a8":function(e,t,a){"use strict";a("b6af")},"81a5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{class:e.className},[e.menu&&e.menu.length>0?["simple"===e.sideType?a("wk-side-menu",{style:{backgroundColor:e.sidebar.backgroundColor,color:e.sidebar.color},attrs:{menus:e.menu}},[e.headerObj?a("flexbox",{staticClass:"header-cell",attrs:{slot:"header"},slot:"header"},[a("flexbox",{staticClass:"header-cell__hd",attrs:{justify:"center"}},[a("i",{class:e.headerObj.icon})]),e._v(" "),a("div",{staticClass:"header-cell__bd"},[a("div",{staticClass:"header-cell--label"},[e._v(e._s(e.headerObj.label))]),e._v(" "),a("div",{staticClass:"header-cell--des"},[e._v(e._s(e.headerObj.des))])])],1):e._e(),e._v(" "),a("menu-color-select",{attrs:{slot:"header"},on:{change:e.menuColorChange},slot:"header"})],1):"normal"===e.sideType?a("sidebar",{style:{backgroundColor:e.sidebar.backgroundColor,color:e.sidebar.color},attrs:{items:e.menu}},[e.headerObj?a("flexbox",{staticClass:"header-cell is-normal",attrs:{slot:"header"},slot:"header"},[a("flexbox",{staticClass:"header-cell__hd",attrs:{justify:"center"}},[a("i",{class:e.headerObj.icon})]),e._v(" "),a("div",{staticClass:"header-cell__bd"},[a("div",{staticClass:"header-cell--label text-one-line"},[e._v(e._s(e.headerObj.label))]),e._v(" "),a("div",{staticClass:"header-cell--des text-one-line"},[e._v(e._s(e.headerObj.des))])])],1):e._e(),e._v(" "),a("menu-color-select",{attrs:{slot:"header"},on:{change:e.menuColorChange},slot:"header"})],1):e._e()]:e._e(),e._v(" "),e._t("default"),e._v(" "),e._t("right")],2)},i=[],o=a("5530"),c=(a("caad"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-side-menu wk-side-wrap",style:{width:e.contentWidth}},[a("div",{ref:"sideContent",staticClass:"wk-side-content",class:{"is-close":e.collapse}},[e.$slots.header?a("div",{staticClass:"wk-side__header",style:{"min-width":e.width}},[e._t("header")],2):e._e(),e._v(" "),a("div",{staticClass:"wk-side__body",style:{"min-width":e.width}},[a("transition",{attrs:{name:"menu-fade"}},[a("el-scrollbar",{style:{"border-right-color":e.variables.menuBg},attrs:{"wrap-class":"scrollbar-wrapper"}},[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":e.activeMenu,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"active-text-color":e.variables.menuActiveText,mode:"vertical"},on:{select:e.handleSelect}},e._l(e.menus,(function(t,n){return a("sidebar-item",{key:""+t.path+n,attrs:{item:t,"base-path":t.path,"active-menu":e.activeMenu}})})))],1)],1)],1),e._v(" "),e.$slots.footer?a("div",{staticClass:"wk-side__footer"},[e._t("footer")],2):e._e()]),e._v(" "),a("div",{ref:"wkControlBar",staticClass:"wk-side-bar",class:{"is-close":e.collapse},on:{mousedown:e.mousedown}},[a("div",{staticClass:"wk-side-bar__shadow"}),e._v(" "),a("div",{staticClass:"wk-side-bar__control"},[a("el-button",{class:{"is-close":e.collapse},attrs:{icon:"el-icon-arrow-right",circle:""},on:{click:e.collapseClick}})],1),e._v(" "),a("div",{staticClass:"wk-side-bar__control-line"})])])}),r=[],s=(a("a630"),a("3ca3"),a("e9ca")),l=a("55f9"),d=a.n(l),u=a("999a"),m={name:"WkSideMenu",components:{SidebarItem:s["a"]},mixins:[u["a"]],props:{width:{type:String,default:"240px"},menus:Array},data:function(){return{collapse:!1,initLeft:0,dragWidth:0}},computed:{variables:function(){return d.a},activeMenu:function(){var e=this.$route,t=e.meta,a=e.fullPath;return t.activeMenu?t.activeMenu:a},contentWidth:function(){return this.collapse?"20px":this.dragWidth>20?"".concat(this.dragWidth,"px"):this.width}},watch:{$route:function(e,t){this.initMenuColor()}},created:function(){this.initMenuColor()},mounted:function(){},beforeDestroy:function(){},methods:{collapseClick:function(){this.collapse=!this.collapse},handleSelect:function(e,t){this.$emit("select",e,t)},mousedown:function(e){var t=this,a=this.$refs.sideContent;if(!Array.from(a.classList||[]).includes("is-close")){var n=e.target,i=e.clientX-n.offsetLeft;e.preventDefault();var o=document.body.clientWidth/2;document.onmousemove=function(e){t.dragWidth=e.clientX-i},document.onmouseup=function(e){var a=e.clientX-i;t.dragWidth=o<a?o:a,document.onmousemove=null,document.onmouseup=null}}}}},f=m,h=(a("449d"),a("2877")),p=Object(h["a"])(f,c,r,!1,null,"7aa4e791",null),v=p.exports,b=a("30c6"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{staticClass:"menu-color-select",attrs:{placement:"bottom-end",width:"225",trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"colors-title"},[e._v("设置背景颜色")]),e._v(" "),a("div",{staticClass:"colors-wrap"},e._l(e.list,(function(t,n){return a("span",{key:n,style:{"background-color":t.backgroundColor},on:{click:function(a){e.click(t,n)}}})}))),e._v(" "),a("el-button",{attrs:{slot:"reference",type:e.visible?"selected":"",icon:"el-icon-s-help"},slot:"reference"})],1)},y=[],w=a("f7e0"),k={name:"MenuColorSelect",components:{},props:{},data:function(){return{visible:!1,list:w["b"]}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{click:function(e,t){this.$emit("change",e,t)}}},C=k,x=(a("cb4a"),Object(h["a"])(C,g,y,!1,null,"343a6812",null)),I=x.exports,_=a("2f62"),j={name:"WkContainer",components:{WkSideMenu:v,Sidebar:b["a"],MenuColorSelect:I},mixins:[u["a"]],props:{sideType:{type:String,default:"simple"},menu:Array,headerObj:Object,className:String},data:function(){return{}},computed:Object(o["a"])(Object(o["a"])({},Object(_["c"])(["sidebar","menuColorData"])),{},{showGuideBtn:function(){var e=this.$route.path;return!!e.includes("crm/")}}),watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{menuColorChange:function(e,t){var a=this.getMenuPathKey();this.setMenuColor(a,t)}}},O=j,F=(a("b29e"),Object(h["a"])(O,n,i,!1,null,"f4a0ae3a",null));t["a"]=F.exports},8256:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.active?a("editor",e._g(e._b({ref:"mceEditor",attrs:{id:e.id,init:e.showInit,plugins:e.showPlugins,toolbar:e.showToolbar,"tinymce-script-src":"https://www.72crm.com/npm/tinymce/tinymce.min.js"},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}},"editor",e.$attrs,!1),e.$listeners)):e._e()},i=[],o=a("5530"),c=(a("a9e3"),a("d3b7"),a("159b"),a("2934")),r=a("ca72"),s="print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons lineheight rowspacing",l="undo redo | bold italic underline strikethrough | charmap emoticons | fontselect fontsizeselect formatselect | rowspacingtop rowspacingbottom | lineheight | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | table | forecolor backcolor removeformat | pagebreak | fullscreen  preview save print | insertfile image media link anchor codesample | ltr rtl",d=a("0d44"),u=a.n(d),m=0,f={name:"Tinymce",components:{Editor:r["a"]},inheritAttrs:!1,props:{value:String,init:Object,height:[String,Number],plugins:[String,Array],toolbar:[String,Array],menubar:[String,Array]},data:function(){return{active:!1,id:this.uuid(),dataValue:"",languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"},showInit:{}}},computed:{editor:function(){return window.tinymce.get(this.id)},showToolbar:function(){return void 0!=this.toolbar?this.toolbar:l},showPlugins:function(){return void 0!=this.plugins?this.plugins:s}},watch:{value:{handler:function(e){e!=this.dataValue&&(this.dataValue=e)},immediate:!0,deep:!0},dataValue:function(){this.$emit("input",this.dataValue)},init:{handler:function(){this.initTinymce()},immediate:!0,deep:!0}},mounted:function(){var e=this;this.$nextTick((function(){e.active=!0}))},methods:{initTinymce:function(){var e=this,t=Object(o["a"])({skin:"wukong",resize:!1,branding:!1,language:this.languageTypeList["zh"],menubar:!!this.menubar&&this.menubar,body_class:"panel-body",image_advtab:!0,end_container_on_empty_block:!0,powerpaste_word_import:"clean",content_css:["./static/tinymce/css/tiny-wukong.css"],fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",font_formats:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats;微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["72crm.com","5kcrm.com"],imagetools_proxy:"https://www.72crm.com/file.php",default_link_target:"_blank",link_assume_external_targets:!0,link_title:!1,target_list:!1,quickbars_insert_toolbar:!1,nonbreaking_force_tab:!0,convert_urls:!1,toolbar_mode:"sliding",images_upload_handler:function(e,t,a,n){n(0),Object(c["q"])({file:e.blob()}).then((function(e){t(e.data.url),n(100)})).catch((function(){a("出现未知问题，刷新页面，或者联系管理员")}))},watermark_click:function(){e.addWaterMark()}},this.init);void 0!=this.height&&(t.height=this.height),this.showInit=t},uuid:function(){var e=Date.now(),t=Math.floor(1e9*Math.random());return m++,"wukong_"+t+m+String(e)},addWaterMark:function(){var e=this;this.$prompt("请输入水印文字","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputPattern:/^.{1,20}$/}).then((function(t){var a=t.value,n=e.editor.contentWindow;u.a.init({watermark_txt:a,window:n,document:n.document}),e.$nextTick((function(){e.$emit("input",e.editor.getContent({format:e.$refs.mceEditor.$props.outputFormat}))}))})).catch((function(){}))},imageSuccessCBK:function(e){var t=this;e.forEach((function(e){t.editor.insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}))}}},h=f,p=(a("1733"),a("2877")),v=Object(p["a"])(h,n,i,!1,null,null,null);t["a"]=v.exports},8281:function(e,t,a){"use strict";a("50c0")},8346:function(e,t,a){},"847c":function(e,t,a){},"85c1":function(e,t,a){},8648:function(e,t,a){"use strict";a("4a15")},8659:function(e,t,a){},86897:function(e,t,a){},"871c":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"l",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return f})),a.d(t,"k",(function(){return h})),a.d(t,"g",(function(){return p})),a.d(t,"r",(function(){return v})),a.d(t,"p",(function(){return b})),a.d(t,"q",(function(){return g})),a.d(t,"m",(function(){return y})),a.d(t,"o",(function(){return w})),a.d(t,"n",(function(){return k}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"/moduleCustomButton/queryList/".concat(e.moduleId,"/").concat(e.version),method:"post"})}function o(e){return Object(n["a"])({url:"/moduleCustomButton/execute",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function c(e){return Object(n["a"])({url:"/moduleCustomButton/saveFieldData",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function r(e){return Object(n["a"])({url:"/moduleDataCheckRule/dataCheck",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function s(e){return Object(n["a"])({url:"/modulePrintTemplate/list/".concat(e.moduleId,"/").concat(e.version),method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function l(){return Object(n["a"])({url:"/moduleCustomCategory/list",method:"post"})}function d(e){return Object(n["a"])({url:"/moduleFieldData/setDataCategory",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function u(e){return Object(n["a"])({url:"/modulePrintTemplate/print",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/modulePrintTemplate/preview",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/modulePrintTemplate/printRecord/".concat(e.recordId),method:"post",data:e})}function h(e){return Object(n["a"])({url:"/modulePrintTemplate/printRecord/save",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(n["a"])({url:"/modulePrintTemplate/download",method:"post",data:e,responseType:"blob"})}function v(e){return Object(n["a"])({url:"/moduleStageSetting/queryList/".concat(e.dataId),method:"post"})}function b(e){return Object(n["a"])({url:"/moduleStageData/queryList",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function g(e){return Object(n["a"])({url:"/moduleStageData/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function y(e){return Object(n["a"])({url:"/moduleStageData/comment/list/".concat(e.dataId),method:"post"})}function w(e){return Object(n["a"])({url:"/moduleStageData/comment/save",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function k(e){return Object(n["a"])({url:"/moduleStageData/comment/remove",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}},8811:function(e,t,a){},8827:function(e,t,a){},8860:function(e,t,a){},"88b6":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));var n=a("b775");function i(){return Object(n["a"])({url:"moduleAppCategory/app/list",method:"post"})}function o(e){return Object(n["a"])({url:"moduleAppCategory/saveAppCustomCategory",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function c(e){return Object(n["a"])({url:"moduleAppCategory/app/store",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}},8967:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isEmpty?e._e():a("div",{staticClass:"wk-field-view",class:["is-"+e.formType,{"is-common-type":e.isCommonType||e.isInline||e.isModule}]},[e.ignoreFields.includes(e.props.field)||e.ignoreFields.includes(e.props.fieldName)?[e._t("default",null,{data:e.$props})]:e.isUserField?[e._l(e.userValue,(function(t,n){return[a("wx-open-data",{key:"user"+n,attrs:{openid:t}}),e.userValue.length-1>n?[e._v("、")]:e._e()]}))]:e.isDeptField?[e._l(e.deptValue,(function(t,n){return[a("wx-open-data",{key:"dep"+n,attrs:{openid:t,type:"departmentName"}}),e.deptValue.length-1>n?[e._v("、")]:e._e()]}))]:e.isCommonType?a("span",[e._v(e._s(e.getCommonShowValue()))]):"boolean_value"==e.formType?a("el-switch",{attrs:{value:e.value,disabled:"","active-value":"1","inactive-value":"0"}}):"handwriting_sign"==e.formType?a("wk-signature-image",{attrs:{src:e.value,height:e.config.signatureHeight}}):"desc_text"==e.formType?a("wk-desc-text",{key:Date.now().toString(),attrs:{value:e.value}}):"location"==e.formType?a("span",{class:{"can-check":e.objectHasValue(e.value,"address")},on:{click:function(t){t.stopPropagation(),e.mapViewShow=!0}}},[e._v(e._s(e.objectHasValue(e.value,"address")?e.value.address:""))]):"website"==e.formType?a("span",{class:{"can-check":!e.isEmpty},on:{click:function(t){t.stopPropagation(),e.openUrl(e.value)}}},[e._v(e._s(e.value))]):"file"==e.formType?a("file-list-view",{attrs:{list:e.value||[]}}):"detail_table"==e.formType?a("wk-detail-table-view",{attrs:{"show-type":2===e.props.precisions?"table":"default",title:e.props.name,"add-field-list":e.props.fieldExtendList,"field-form":e.value,"field-list":e.props.fieldList},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[e._t("default",null,{data:a})]}}])}):"field_group"==e.formType?a("wk-group",{attrs:{"show-tips":!1,data:e.props}}):"field_attention"==e.formType?a("el-rate",{attrs:{value:Number(e.value||0),disabled:""}}):"field_tag"==e.formType?a("tag-view",{attrs:{"item-bottom":0,value:e.value}}):"rich_text_format"==e.formType?a("div",{domProps:{innerHTML:e._s(e.value)}}):["data_union","data_union_multi"].includes(e.formType)?a("wk-field-data-union-view",{attrs:{"can-visit":e.canVisit,value:e.value},on:{"union-click":e.handleUnionClick}}):[e._t("default",null,{data:e.$props})],e._v(" "),e.mapViewShow?a("map-view",{attrs:{title:e.value.address,lat:e.value.lat,lng:e.value.lng},on:{hidden:function(t){e.mapViewShow=!1}}}):e._e()],2)},i=[],o=a("5530"),c=(a("a9e3"),a("caad"),a("d81d"),a("ac1f"),a("1276"),a("b0c0"),a("466d"),a("99af"),a("fb6a"),a("5b79")),r=a("aebc"),s=a("566f"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file-list-view"},e._l(e.list,(function(t,n){return a("div",{key:n,staticClass:"file-item"},[a("img",{staticClass:"pic-icon",attrs:{src:e.getFileTypeIcon(t.name),alt:""}}),e._v(" "),a("div",{staticClass:"file-name text-one-line"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"file-size"},[e._v("( "+e._s(e._f("fontSizeValue")(t.size))+" )")]),e._v(" "),a("div",{staticClass:"down"},[a("span",{on:{click:function(a){e.previewClick(t,n)}}},[e._v("预览")]),e._v(" "),a("span",{on:{click:function(a){e.downloadClick(t)}}},[e._v("下载")])])])})))},d=[],u=a("ed08"),m={name:"FileListView",filters:{fontSizeValue:function(e){return Object(u["g"])(e)}},props:{list:{type:Array,required:!0}},data:function(){return{}},methods:{getFileTypeIcon:function(e){if(!e)return"";var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",Object(u["l"])(a)},downloadClick:function(e){Object(u["e"])({path:e.filePath||e.url,name:e.name})},previewClick:function(e,t){this.$wkPreviewFile.preview({index:t,data:this.list.map((function(e){return{url:e.filePath||e.url,name:e.name}}))})}}},f=m,h=(a("1226"),a("2877")),p=Object(h["a"])(f,l,d,!1,null,"792ecc68",null),v=p.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.fieldForm&&e.fieldForm.length>0?a("div",{staticClass:"wk-detail-table-view"},["default"===e.showType?e._l(e.fieldList,(function(t,n){return a("div",{key:n,staticClass:"detail-item"},[a("flexbox",{staticClass:"detail-item__head"},[a("div",{staticClass:"detail-item__head-title"},[e._v(e._s(e.title)+"（"+e._s(n+1)+"）")])]),e._v(" "),a("flexbox",{staticClass:"wk-form-items",attrs:{align:"flex-start",wrap:"wrap",justify:"flex-start"}},[e._l(t,(function(t,i){return[e.getShowValue(t)?a("div",{key:i,staticClass:"wk-form-item",class:["is-"+t.formType],style:{width:t.stylePercent?t.stylePercent+"%":"auto"},attrs:{label:t.name}},[a("div",{staticClass:"wk-form-item__label"},[e._v(e._s(t.name))]),e._v(" "),a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:e.fieldForm[n][t.field]},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[e._t("default",null,{data:a})]}}])})],1):e._e()]}))],2)],1)})):"table"===e.showType?a("div",{staticClass:"detail-item"},[a("el-table",{key:Date.now().toString(),staticClass:"wk-table-items",staticStyle:{width:"100%"},attrs:{data:e.fieldForm}},e._l(e.addFieldList,(function(t,n){return a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:e.getShowValue(t),expression:"getShowValue(item)"}],key:n,attrs:{prop:t.field,label:t.name,"min-width":e.getMinWidth(t.formType)},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.row;n.column,n.$index;return[a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:i[t.field]},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[e._t("default",null,{data:a})]}}])})]}}])})})))],1):e._e()],2):e._e()},g=[],y=(a("d3b7"),a("3ca3"),a("ddb0"),{name:"WkDetailTableView",components:{WkFieldView:function(){return Promise.resolve().then(a.bind(null,"8967"))}},props:{title:String,showType:{type:String,default:"defalut"},addFieldList:Array,fieldForm:{type:Array,default:function(){return[]}},fieldList:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{getMinWidth:function(e){return"date_interval"===e||"dateRange"===e||"file"===e||"location"===e||"position"===e?250:150},getShowValue:function(e){return!e.hasOwnProperty("show")||e.show}}}),w=y,k=(a("10a1"),Object(h["a"])(w,b,g,!1,null,"6110632e",null)),C=k.exports,x=a("2444"),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-view",style:{"flex-wrap":e.wrap}},[e.value&&e.value.length<=e.maxLength?e._l(e.value,(function(t,n){return a("div",{key:n,staticClass:"item-label",style:{background:e.colorRgb(t.value,.1),"margin-bottom":e.itemBottom+"px",color:t.value}},[a("span",[e._v(e._s(t.name))])])})):e._e(),e._v(" "),e.value&&e.value.length>e.maxLength?[e._l(e.value.slice(0,e.maxLength),(function(t,n){return a("div",{key:n,staticClass:"item-label",style:{background:e.colorRgb(t.value,.1),"margin-bottom":e.itemBottom+"px",color:t.value}},[e._v(e._s(t.name))])})),e._v(" "),a("el-tooltip",{attrs:{placement:"top",effect:"light","popper-class":"tooltip-change-border"}},[a("div",{staticClass:"tooltip-box",attrs:{slot:"content"},slot:"content"},e._l(e.value,(function(t,n){return a("span",{directives:[{name:"show",rawName:"v-show",value:n>=e.maxLength,expression:"index >= maxLength"}],key:n,staticClass:"tooltip-item",style:{background:e.colorRgb(t.value,.1),"margin-bottom":e.itemBottom+"px",color:t.value}},[e._v("\n          "+e._s(t.name)+"\n        ")])}))),e._v(" "),a("el-button",{staticStyle:{height:"20px"},attrs:{size:"mini",icon:"el-icon-more"}})],1)]:e._e(),e._v(" "),e._t("default")],2)},_=[],j={name:"TagView",props:{value:null,maxLength:{type:Number,default:2},wrap:{type:String,default:"nowrap"},itemBottom:{type:Number,default:4}},data:function(){return{}},methods:{colorRgb:function(e,t){return Object(u["c"])(e,t)}}},O=j,F=(a("769b"),Object(h["a"])(O,I,_,!1,null,"80f47b96",null)),T=F.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-field-union-view"},[e.isArray(e.dataValue)?e._l(e.dataValue,(function(t,n){return a("span",{key:n,class:{"can-visit--underline":e.canVisit},on:{click:e.handleToDetail}},[e._v(e._s(t?t.value:t)),n<e.dataValue.length-1?a("span",[e._v(",")]):e._e()])})):e.isObject(e.dataValue)?[a("span",{class:{"can-visit--underline":e.canVisit},on:{click:e.handleToDetail}},[e._v(e._s(e.dataValue.value))])]:[e._v(e._s(e.dataValue))]],2)},D=[],S=(a("4de4"),a("6bfe")),L={name:"WkFieldUnionView",props:{value:{type:[String,Array,Object],default:null},canVisit:Boolean},computed:{dataValue:function(){return Object(S["a"])(this.value)?this.value.filter((function(e){return!!e})):this.value}},methods:{isArray:function(e){return Object(S["a"])(e)},isObject:function(e){return Object(S["c"])(e)},handleToDetail:function(e){this.canVisit&&this.$emit("union-click",e)}}},E=L,N=Object(h["a"])(E,A,D,!1,null,"8c49341c",null),V=N.exports,M=a("8ed6"),B=(a("a15b"),a("7403")),R=a("53ca"),U=(a("159b"),a("e9c4"),a("7db0"),a("2532"),a("a630"),a("6062"),a("c740"),a("e170")),P=a("0730"),W="其他",$={mixins:[P["a"]],props:{},methods:{getItemValue:function(e,t,a){var n=this;if(t=t||{},"contacts"==e.formType||"customer"==e.formType||"contract"==e.formType||"business"==e.formType){if("update"===a)return e.value?Object(u["u"])(e.value):[];var i=t[e.formType];return i?[i]:[]}if("category"==e.formType)return e.value?e.value:[];if("product"==e.formType)return e.value;if("map_address"==e.formType)return"update"==a?(e.value.address&&(e.value.address=e.value.address.split(",")),e.value):{};if("address"==e.formType){if("update"==a){if(e.value){if("string"===typeof e.value){var o=e.value.split(",");return{province:o[0]||"",city:o[1]||"",area:o[2]||""}}return e.value}return{}}return{}}if("single_user"==e.formType)return"update"===a?Object(S["c"])(e.value)&&e.value.userId?e.value.userId:"":Object(S["a"])(e.defaultValue)&&e.defaultValue.length>0?Object(u["u"])(e.defaultValue[0]).userId:"";if("user"==e.formType||"structure"==e.formType||"file"==e.formType)return"update"===a?e.value?Object(u["u"])(e.value):[]:e.defaultValue?Object(u["u"])(e.defaultValue):[];if("number"==e.formType||"floatnumber"==e.formType||"percent"==e.formType)return"update"==a?Object(S["b"])(e.value)?void 0:e.value:Object(S["b"])(e.defaultValue)?void 0:e.defaultValue;if("field_attention"==e.formType)return"update"==a?Object(S["b"])(e.value)?0:Number(e.value):Object(S["b"])(e.defaultValue)?0:Number(e.defaultValue);if("detail_table"==e.formType){var c=Object(S["b"])(e.value)?[e.fieldExtendList]:e.value;if("string"===typeof c&&c)try{c=JSON.parse(c)}catch(s){}var r=[];return c.forEach((function(e){var t={};r.push(t),e.forEach((function(e){["select","checkbox"].includes(e.formType)&&(e.optionsData=null),t[e.fieldName]=n.getItemValue(e,null,a)}))})),r}return"update"==a?null===e.value||void 0===e.value?"":e.value:null===e.defaultValue||void 0===e.defaultValue?"":e.defaultValue},getUniquePromise:function(e,t,a){var n=this;return new Promise((function(i,o){var c={};c.fieldId=e.fieldId;var r=n.getRealParams(e,t);c.value=r&&"object"===Object(R["a"])(r)?JSON.stringify(r):r,"update"==a.type&&(c.batchId=a.batchId),Object(U["e"])(c).then((function(t){var a=t.data||{};1===a.status?i():a.ownerUserName?o("".concat(e.name,"已存在，负责人为“").concat(a.ownerUserName,"”")):a.poolNames&&a.poolNames.length>0?o("".concat(e.name,"已存在，当前位于公海“").concat(a.poolNames.join("，"),"”")):o("".concat(e.name,"已存在"))})).catch((function(){o()}))}))},getFormItemDefaultProperty:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a?Object(u["u"])(e):e;if(n.field=e.fieldName,"date_interval"===e.formType)2===e.precisions?(n.dateType="datetimerange",n.dateValueFormat="yyyy-MM-dd HH:mm:ss"):(n.dateType="daterange",n.dateValueFormat="yyyy-MM-dd");else if("position"===e.formType)n.showDetail=1===e.precisions,n.hideArea=3===e.precisions||4===e.precisions,n.onlyProvince=4===e.precisions;else if("detail_table"===e.formType){var i={};n.fieldExtendList.forEach((function(e){var a=Object(u["u"])(e);t.getFormItemDefaultProperty(e,!1),e.show=1!==e.isHidden,e.show&&(e.rules=t.getRules(a)),t.getItemRadio(e,e),i[e.fieldName]=t.getItemValue(e)})),n.fieldForm=i;var o=Object(u["u"])(e.fieldExtendList),c=Object(S["b"])(e.value)?[o]:e.value;if("string"===typeof c&&c)try{c=JSON.parse(c)}catch(s){}var r=[];c.forEach((function(e){var a=[];e.forEach((function(e){var n=Object(u["u"])(e),i=t.getFormItemDefaultProperty(e,!1);t.getItemRadio(e,i),i.show=1!==i.isHidden,i.show&&(i.rules=t.getRules(n)),a.push(i)})),r.push(a)})),n.fieldList=r}return n},getItemWithFromType:function(e,t){for(var a=null,n=0;n<e.length;n++){for(var i=e[n],o=0;o<i.length;o++){var c=i[o];if(c.formType===t){a=c;break}}if(a)break}return a},itemsForEach:function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(Object(S["a"])(n))for(var i=0;i<n.length;i++){var o=n[i];t(o,a,i,n)}else t(n,a)}},getItemIsCanEdit:function(e,t){return!!Object(S["b"])(e.authLevel)||3==e.authLevel},getItemRadio:function(e,t){"user"==e.formType||"structure"==e.formType?t.radio=!1:"single_user"==e.formType&&(t.radio=!0)},getFormErrorMessage:function(e){if(e.fields)for(var t=0;t<e.fields.length;t++){var a=e.fields[t];if("error"==a.validateState){this.$message.error(a.validateMessage);break}}},getItemRelatveInfo:function(e,t){var a=null;if("relative"==this.action.type)a=this.action.data[t];else{var n=e.length>0&&Object(S["a"])(e[0]),i=n?this.getItemWithFromType(e,t):e.find((function(e){return e.formType===t}));i&&i.value&&i.value.length>0&&(a=i.value[0])}return a},getSubmiteParams:function(e,t,a,n){for(var i=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["desc_text"],r={entity:{},field:[]},s=function(s){var l=e[s],d=null;if(d=l.hasOwnProperty("show")?l.show?t[l.fieldName]:null:t[l.fieldName],"product"==l.formType)i.getProductParams(r,d);else if("map_address"==l.formType)i.getCustomerAddressParams(r.entity,d);else if(1==l.fieldType){var u=i.getRealParams(l,d);r.entity[l.fieldName]=Object(S["b"])(u)?"":u}else if(!c.includes(l.formType)){var m=Object(o["a"])(Object(o["a"])({},n?l:{}),{},{fieldName:l.fieldName,fieldType:l.fieldType,name:l.name,type:l.type,fieldId:l.fieldId,value:i.getRealParams(l,d)});Object(S["a"])(a)&&a.forEach((function(e){m[e]=l[e]})),r.field.push(m)}},l=0;l<e.length;l++)s(l);return r},getProductParams:function(e,t){t?(e["product"]=t.product?t.product.map((function(e){return e.salesPrice=""==e.salesPrice?0:e.salesPrice,e.num=""==e.num?0:e.num,e.discount=""==e.discount?0:e.discount,e})):[],e.entity["totalPrice"]=t.totalPrice?t.totalPrice:0,e.entity["discountRate"]=t.discountRate?t.discountRate:0):(e["product"]=[],e.entity["totalPrice"]="",e.entity["discountRate"]="")},getCustomerAddressParams:function(e,t){t?(e["address"]=t.address?t.address.join(","):"",e["detailAddress"]=t.detailAddress,e["location"]=t.location,e["lng"]=t.lng,e["lat"]=t.lat):(e["address"]="",e["detailAddress"]="",e["location"]="",e["lng"]="",e["lat"]="")},getRealParams:function(e,t){var a=this,n=["customer","contacts","business","leads","contract"];if(n.includes(e.formType))return Object(S["b"])(t)?"":Object(S["a"])(t)&&t.length>0&&Object(S["c"])(t[0])?t[0]["".concat(e.formType,"Id")]:Object(S["a"])(t)?t[t.length-1]:["string","number"].includes(Object(R["a"])(t))?t:"";if("user"==e.formType||"structure"==e.formType){var i=t||[];return Object(S["a"])(t)&&t.length>0&&Object(S["c"])(t[0])&&(i=t.map((function(t){return"user"==e.formType?t.userId:t.id}))),Object(S["a"])(i)?i.join(","):i}if("file"==e.formType)return t&&t.length>0?t[0].batchId:"";if("category"==e.formType)return Object(S["b"])(t)?"":Object(S["a"])(t)?t&&t.length>0?t[t.length-1]:"":t;if("checkbox"==e.formType)return Object(S["a"])(t)?t.join(","):t;if("select"==e.formType)return t;if("detail_table"==e.formType){for(var o=e.fieldExtendList||[],c=[],r=Array.isArray(t)?t:[],s=function(e){var t=r[e];if(!a.getFormValueIsEmpty(o,t)){var n=[];o.forEach((function(e){var i=Object(u["u"])(e);delete i.companyId,i.value=a.getRealParams(i,t[i.fieldName]),n.push(i)})),c.push(n)}},l=0;l<r.length;l++)s(l);return c}return["data_union","data_union_multi"].includes(e.formType)?Object(S["b"])(t)?"":Object(S["c"])(t)?t.dataId:Object(S["a"])(t)?t.map((function(e){return Object(S["c"])(e)?e.dataId:e})).join(","):t.map((function(e){return e.dataId})).join(","):t},getFormValueIsEmpty:function(e,t){for(var a=0;a<e.length;a++){var n=e[a],i=t[n.fieldName];if("location"===n.formType){if(Object(S["c"])(i)&&(!Object(S["b"])(i.lat)||!Object(S["b"])(i.lng)||!Object(S["b"])(i.address)))return!1}else if(!Object(S["b"])(i))return!1}return!0},getFormAssistIds:function(e,t){var a=this,n=[],i=t?null:{};t&&this.itemsForEach(e,(function(e){t.hasOwnProperty(e.field)||(t[e.field]=a.getItemValue(e))})),this.itemsForEach(e,(function(e){if(i&&(i[e.field]=a.getItemValue(e)),["select","checkbox"].includes(e.formType)&&"options_type"===e.remark&&e.optionsData)for(var t in e.optionsData)n=n.concat(e.optionsData[t]||[])})),n=n.filter((function(e){return Boolean(e)})),n=Array.from(new Set(n));var o=[];return this.getFormAssistData(e,t||i,n,o),n.filter((function(e){return!o.includes(e)}))},getFormAssistData:function(e,t,a,n){var i=n.length;if(this.itemsForEach(e,(function(e){if(["select","checkbox"].includes(e.formType)&&"options_type"===e.remark&&e.optionsData){var i=t?t[e.field||e.fieldName]:e.value;if(!a.includes(e.formAssistId)){if("select"===e.formType)if(Object(S["b"])(i))i=[];else{var o=e.setting.find((function(e){return Object(S["c"])(e)?e.value===i:e===i}));if(o){var c=Object(S["c"])(o)?o.value:o;i=[c]}else i=[W]}else if("checkbox"===e.formType)if(Object(S["a"])(i)){var r=Object(u["u"])(i),s=r.filter((function(t){return!e.setting.includes(t)}));if(s.length>0){var l=r.filter((function(e){return!s.includes(e)}));l.push(W),i=l}}else i=[];var d=function(t){if(i){var a=i.findIndex((function(e){return e==t}));if(-1===a)return"continue";for(var o=e.optionsData[t]||[],c=0;c<o.length;c++){var r=o[c];n.includes(r)||n.push(r)}}};for(var m in e.optionsData)d(m)}}})),i!==n.length){var o=a.filter((function(e){return!n.includes(e)}));this.getFormAssistData(e,t,o,n)}},getFormContentByOptionsChange:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,c=this.fieldRules||n,r=this.action&&this.action.data?this.action.data:i,s=this.action&&this.action.type?this.action.type:o,l={},d={},u=this.getFormAssistIds(e,t);return this.itemsForEach(e,(function(e){e.show=!u.includes(e.formAssistId),!e.show||e.disabled&&1!=e.isNull||(c[e.field]?l[e.field]=c[e.field]:l[e.field]=a.getRules(e)),e.show&&(t.hasOwnProperty(e.field)?d[e.field]=t[e.field]:d[e.field]=a.getItemValue(e,r,s))})),{fieldForm:d,fieldRules:l}}}},z=a("8c73");function q(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if("position"===e){if(Object(S["a"])(t))return t.map((function(e){return e.name})).join()||a;if("string"===typeof t&&t)try{var n=JSON.parse(t);return Object(S["a"])(n)?n.map((function(e){return e.name})).join():a}catch(c){return a}return a}if("floatnumber"===e)return Object(S["b"])(t)?"":isNaN(t)?t:Object(z["h"])(t);if("date"===e)return Object(u["r"])(t);if("location"===e)return Object(S["c"])(t)?t.address:a;if("date_interval"===e)return Object(S["a"])(t)?t.join("-"):a;if("percent"===e)return Object(S["b"])(t)?a:"".concat(t,"%");if("single_user"===e)return Object(S["c"])(t)?t.realname||a:t||a;if("select"===e){var i=$.methods.getRealParams({formType:e},t);return Object(S["b"])(i)?a:i}if("checkbox"===e){var o=$.methods.getRealParams({formType:e},t);return Object(S["b"])(o)?a:o}return"structure"===e?Object(S["a"])(t)?t.map((function(e){return e.name||e.deptName})).join()||a:t||a:"user"===e?Object(S["a"])(t)?t.map((function(e){return e.realname||e.employeeName})).join()||a:Object(S["c"])(t)?t.realname||t.employeeName||a:t||a:"check_status"===e?B["a"].methods.getStatusName(t):Object(S["b"])(t)?a:t}var Z={signatureHeight:"26px"},Y={name:"WkFieldView",components:{WkSignatureImage:c["a"],WkDescText:r["a"],MapView:s["a"],FileListView:v,WkDetailTableView:C,WkGroup:x["a"],TagView:T,WkFieldDataUnionView:V},props:{props:Object,formType:String,value:[String,Object,Array,Number],ignoreFields:{type:Array,default:function(){return[]}},canVisit:Boolean},data:function(){return{mapViewShow:!1}},computed:{config:function(){return Object(M["a"])(Object(o["a"])({},Z),this.props||{})},isEmpty:function(){return"field_group"!==this.formType&&Object(S["b"])(this.value)},isCommonType:function(){return["text","textarea","select","checkbox","number","floatnumber","percent","mobile","email","date","datetime","date_interval","user","structure","position"].includes(this.formType)},isModule:function(){return["customer","business","contract","contacts"].includes(this.formType)},isInline:function(){return["website","category","field_attention"].includes(this.formType)},isUserField:function(){if("user"===this.formType)return!0;var e=["ownerUserName","createUserName"];return e.includes(this.props.prop)||e.includes(this.props.field)},userValue:function(){return this.isUserField?Object(S["b"])(this.value)?[]:Object(S["a"])(this.value)?this.value.map((function(e){return Object(S["c"])(e)?e.realname:e})):"string"===typeof this.value?this.value.split(","):Object(S["c"])(this.value)?[this.value.realname]:[]:[]},isDeptField:function(){return"structure"===this.formType||"ownerDeptName"===this.props.prop},deptValue:function(){return this.isDeptField?Object(S["b"])(this.value)?[]:Object(S["a"])(this.value)?this.value.map((function(e){return Object(S["c"])(e)?e.name||e.deptName:e})):"string"===typeof this.value?this.value.split(","):Object(S["c"])(this.value)?[this.value.name||this.value.deptName]:[]:[]}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{objectHasValue:function(e,t){return!!Object(S["c"])(e)&&!Object(S["b"])(e[t])},openUrl:function(e){e.match(/^https?:\/\//i)||(e="http://"+e),window.open(e)},getCommonShowValue:function(){return q(this.formType,this.value,"",this.props)},handleUnionClick:function(){this.$emit.apply(this,["union-click"].concat(Array.prototype.slice.call(arguments)))}}},G=Y,K=(a("e7b7"),Object(h["a"])(G,n,i,!1,null,"64732ef6",null));t["default"]=K.exports},"8a75":function(e,t,a){"use strict";a("d60d")},"8c73":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return u})),a.d(t,"c",(function(){return m}));a("d3b7"),a("25f0"),a("ac1f"),a("1276"),a("843c");var n=a("6612"),i=a.n(n),o=function(e){return i()(e).format("0.0a")},c=function(e){return i()(e).format("0 b")},r=function(e,t){return i()(e).format(t)},s=function(e){return i()(e).format("0.[00]e+0")},l=function(e){return i()(e).format("Oo")},d=function(e){return i()(e).format("0.[00]%")},u=function(e){if(""===e||null===e||void 0===e)return"";var t=e.toString(),a=t.indexOf(".");if(-1==a)return i()(e).format("0,0.00");var n=t.split("."),o=n[1].padEnd(2,"0");return i()(n[0]).format("0,0")+"."+o},m=function(e){return i()(e).format("$0,0.00")}},"8cb5":function(e,t,a){"use strict";a("cd3f")},"8cf5":function(e,t,a){},"8d3a":function(e,t,a){},"8d49":function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=a("2909"),o=a("1da1"),c=(a("96cf"),a("d3b7"),a("4de4"),a("7db0"),a("a630"),a("3ca3"),a("6062"),a("ddb0"),a("d81d"),a("159b"),a("a9e3"),a("c740"),a("b64b"),a("e395")),r=a("0edd"),s=a("871c"),l=a("d254"),d=a("ed08"),u=a("6bfe");t["default"]={state:{categoryList:[],appList:[],appDataList:[],userAppRouterObj:{},customAppList:[]},actions:{getAllAppList:function(e){var t=e.commit,a=e.dispatch;return new Promise((function(e,n){a("getModuleCustomCategory"),Object(l["a"])().then((function(a){var n=a.data||[];t("INIT_APP_CACHE",n);var i=n.filter((function(e){return!e.relateApplicationId}));t("SET_USER_APP_LIST",i),e(i)})).catch((function(){n()}))}))},getActiveModuleByAppId:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e,i){var o=Object(u["c"])(t)?t.applicationId:t,r=!!Object(u["c"])(t)&&t.updateFlag,s=n.appDataList.find((function(e){return e.applicationId===o}));return s?s.activeModule&&s.activeModule.length&&!r?e(s.activeModule):void Object(c["c"])({applicationId:o}).then((function(t){var n=(t.data||[]).filter((function(e){return!e.hasOwnProperty("isEnable")||!!e.isEnable}));a("SET_APP_CACHE",{applicationId:o,activeModule:n}),e(n)})).catch((function(){i()})):[]}))},getLastVersionModuleByAppId:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e,i){var o=Object(u["c"])(t)?t.applicationId:t,r=!!Object(u["c"])(t)&&t.updateFlag,s=n.appDataList.find((function(e){return e.applicationId===o}));return s?s.lastVersionModule&&s.lastVersionModule.length&&!r?e(s.lastVersionModule):void Object(c["e"])({applicationId:o}).then((function(t){var n=t.data||[];a("SET_APP_CACHE",{applicationId:o,lastVersionModule:n}),e(n)})).catch((function(){i()})):[]}))},getAllModuleListByAppId:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.commit,n=e.state,i=e.dispatch,n.appDataList&&n.appDataList.length){a.next=4;break}return a.next=4,i("getAllAppList");case 4:if(o=n.appDataList.find((function(e){return e.applicationId===t})),o){a.next=7;break}return a.abrupt("return",[]);case 7:return a.next=9,i("getActiveModuleByAppId",t).catch((function(){return[]}));case 9:return a.next=11,i("getLastVersionModuleByAppId",t).catch((function(){return[]}));case 11:return a.abrupt("return",n.appDataList);case 12:case"end":return a.stop()}}),a)})))()},getModuleListByAppId:function(e,t){e.commit,e.state;return new Promise((function(e,a){Object(r["h"])({applicationId:t.applicationId}).then((function(t){var a=t.data||[],o=[],c=Array.from(new Set(a.map((function(e){return e.moduleId}))));c.forEach((function(e){var t,c=a.filter((function(t){return t.moduleId===e})),r=c.find((function(e){return 1===Number(e.status)&&e.isActive})),s=Math.max.apply(Math,Object(i["a"])(c.map((function(e){return e.version})))),l=c.find((function(e){return e.version===s}));t=r?r.version===s?1:3:2,o.push(Object(n["a"])(Object(n["a"])({},l),{},{moduleStatus:t}))})),e(o)})).catch((function(){a()}))}))},getModuleOrGroupListByAppId:function(e,t){e.commit,e.state;return new Promise((function(e,a){Object(r["g"])({applicationId:t.applicationId}).then((function(t){var a=t.data,n=[];a.forEach((function(e){if(e.childList){var t=[];e.childList.forEach((function(e){e.isActive||2!==Number(e.status)?e.moduleStatus=Number(e.status):e.moduleStatus=2;var a=t.findIndex((function(t){return t.moduleId===e.moduleId}));-1===a?t.push(e):(2===e.moduleStatus&&(t[a]=e),t[a].moduleStatus=3)})),e.childList=t,n.push(e)}else{e.isActive||2!==Number(e.status)?e.moduleStatus=Number(e.status):e.moduleStatus=2;var a=n.findIndex((function(t){return t.moduleId===e.moduleId}));-1===a?n.push(e):(2===e.moduleStatus&&(n[a]=e),n[a].moduleStatus=3)}})),e(n)})).catch((function(){a()}))}))},getModuleCustomCategory:function(e){var t=e.commit;return new Promise((function(e,a){Object(s["d"])().then((function(a){t("SET_CATEGORY_LIST",a.data||[]),e(a.data)})).catch((function(){a()}))}))},getModuleDetailById:function(e,t){return Object(r["m"])(t)}},mutations:{SET_CATEGORY_LIST:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.categoryList=t},SET_USER_APP_LIST:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.appList=t},INIT_APP_CACHE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];t.forEach((function(t){var n=e.appDataList.findIndex((function(e){return e.applicationId===t.applicationId}));if(n){var i=Object(d["u"])(t);Object.keys(n).forEach((function(e){i.hasOwnProperty(e)||(i[e]=n[e])})),a.push(i)}else a.push(Object(d["u"])(t))})),e.userAppRouterObj={},e.appDataList=a},SET_APP_CACHE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.appDataList.find((function(e){return e.applicationId===t.applicationId}));a&&Object.assign(a,t)},SET_APP_ROUTERS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(e.userAppRouterObj,t)}},getters:{userAppCategoryList:function(e){return e.categoryList},userAppList:function(e){return e.appList},userAppDataList:function(e){return e.appDataList},userAppRouterObj:function(e){return e.userAppRouterObj}},namespaced:!0}},"8ed6":function(e,t,a){"use strict";t["a"]=function(e){for(var t=1,a=arguments.length;t<a;t++){var n=arguments[t]||{};for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];void 0!==o&&(e[i]=o)}}return e}},"8f0b":function(e,t,a){"use strict";a("028d")},"8f3f":function(e,t,a){"use strict";a("6e72")},"8f81":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("wk-tags-view",{staticClass:"wk-user-dialog-select",attrs:{selected:e.selected,visible:e.visible,disabled:e.disabled,placeholder:e.placeholder,"collapse-tags":e.collapseTags,"value-key":"realname","wx-type-name":"userName"},on:{"remove-tag":e.removeTag},nativeOn:{click:function(t){return e.click(t)}}},[a("wk-dep-user-dialog",{attrs:{radio:e.radio,disabled:e.disabled,"user-value":e.dataValue,visible:e.visible,props:{showDept:!1,showDisableUser:e.config.showDisableUser,showUser:!e.config.disableUserList,disableUserList:e.config.disableUserList,disableUserLabel:e.config.disableUserLabel}},on:{"update:userValue":function(t){e.dataValue=t},"update:visible":function(t){e.visible=t},change:e.depUserDialogChange},nativeOn:{click:function(e){e.stopPropagation()}}})],1)},i=[],o=a("5530"),c=(a("d81d"),a("a434"),a("2581")),r=a("58fa"),s=a("8122"),l=a("ed08"),d=a("2f62"),u=a("6bfe"),m=a("8ed6"),f=a("d010"),h=a.n(f),p={name:"WkUserDialogSelect",components:{WkDepUserDialog:c["a"],WkTagsView:r["a"]},mixins:[h.a],props:{radio:Boolean,placeholder:{type:String,default:function(){return"请选择"}},collapseTags:Boolean,props:{type:Object,default:function(){return{}}},value:{required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{visible:!1,dataValue:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(d["c"])(["userDeptMap"])),{},{selected:function(){var e=this;return this.dataValue.map((function(t){var a=e.userDeptMap["user-".concat(t)];return a||{userId:t,realname:""}}))},config:function(){return Object(m["a"])({value:"userId",label:"realname",showDisableUser:!1,disableUserList:null,disableUserLabel:"停用员工"},this.props||{})}}),watch:{value:function(){Object(s["valueEquals"])(this.value,this.dataValue)||this.verifyValue()},dataValue:function(){this.radio?this.$emit("input",this.dataValue&&this.dataValue.length?this.dataValue[0]:""):this.$emit("input",this.dataValue)},visible:function(){this.visible?this.$emit("focus"):this.$emit("blur")}},created:function(){Object(s["valueEquals"])(this.value,this.dataValue)||this.verifyValue()},mounted:function(){},beforeDestroy:function(){},methods:{verifyValue:function(){var e=this;if(this.radio||Array.isArray(this.value)||this.$emit("input",[]),this.radio&&(Array.isArray(this.value)||null===this.value||void 0===this.value)&&this.$emit("input",""),this.radio)this.value!==this.dataValue&&(Object(u["b"])(this.value)?this.dataValue=[]:this.dataValue=[this.value]);else if(!Object(s["valueEquals"])(this.value,this.dataValue))if(this.value&&this.value.length){var t=this.value[0];t[this.config.value]?this.dataValue=this.value.map((function(t){return t[e.config.value]})):this.dataValue=Object(l["u"])(this.value)}else this.dataValue=[]},removeTag:function(e){this.dataValue.splice(e,1),this.depUserDialogChange()},depUserDialogChange:function(){var e=this;this.$nextTick((function(){e.radio?e.dispatch("ElFormItem","el.form.change",e.dataValue&&e.dataValue.length>0?e.dataValue[0]:""):e.dispatch("ElFormItem","el.form.change",e.dataValue),e.$emit("change",e.dataValue,e.selected)}))},click:function(){this.disabled||(this.visible=!0)}}},v=p,b=a("2877"),g=Object(b["a"])(v,n,i,!1,null,"58968947",null);t["a"]=g.exports},9155:function(e,t,a){e.exports=a.p+"static/img/file_img.263fc72c.png"},9210:function(e,t,a){"use strict";a.r(t);var n=[];t["default"]=n},9241:function(e,t,a){"use strict";a("37ba")},"936f":function(e,t,a){"use strict";a("4b3c")},"95d1":function(e,t,a){"use strict";a("c6c2")},"97f3":function(e,t,a){"use strict";a("fc32")},"984c":function(e,t,a){},"999a":function(e,t,a){"use strict";var n=a("5530"),i=(a("caad"),a("2532"),a("ac1f"),a("1276"),a("7db0"),a("d3b7"),a("2f62")),o=a("f7e0");t["a"]={computed:Object(n["a"])({},Object(i["c"])(["menuColorData"])),methods:{initMenuColor:function(){var e=this.getMenuPathKey(),t=this.menuColorData[e];t?this.$store.commit("SET_SIDEBAR",o["a"][t]):this.setMenuColor(e,0)},getMenuPathKey:function(){var e=this.$route.path,t="/subs/";if(e.includes(t)){var a=e.split(t);e=a[0]}else e=e.split("/").find((function(e){return e}));return e},setMenuColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=o["b"][t];this.$store.commit("SET_SIDEBAR",a),this.menuColorData[e]=a.type,this.$store.commit("SET_MENU_COLOR_DATA",this.menuColorData)}}}},"9a10":function(e,t,a){"use strict";a("c57b")},"9a1a":function(e,t,a){},"9a51":function(e,t,a){},"9a79":function(e,t,a){e.exports=a.p+"static/img/bg.193172c3.png"},"9ae1":function(e,t,a){},"9afe":function(e,t,a){"use strict";a("e9a8")},"9c8b":function(e,t,a){},"9dba":function(e,t,a){"use strict";t["a"]={watch:{loading:function(e){if(e){var t=this.$refs.wkDialog.$refs.dialog;this.loadingInstance=this.$loading({target:t})}else this.loadingInstance&&this.loadingInstance.close()}}}},a049:function(e,t,a){"use strict";a("1927")},a172:function(e,t,a){"use strict";a("b0c0");var n=a("aa2b"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:"批量转移",width:"450px"},on:{"update:visible":function(t){e.visible=t},close:e.handleCancel}},[a("div",{staticClass:"handle-box"},[a("flexbox",{staticClass:"handle-item"},[a("div",{staticClass:"handle-item-name"},[e._v("变更负责人为：")]),e._v(" "),a("wk-user-select",{staticClass:"handle-item-content",attrs:{radio:""},model:{value:e.ownerUserId,callback:function(t){e.ownerUserId=t},expression:"ownerUserId"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")])],1)])},o=[],c=(a("d81d"),a("5c0a")),r={name:"TransferHandle",components:{WkUserSelect:c["a"]},mixins:[],props:{dialogVisible:{type:Boolean,required:!0,default:!1},selectionList:{type:Array,default:function(){return[]}},moduleId:{type:String}},data:function(){return{loading:!1,visible:!1,ownerUserId:"",removeType:1,handleType:1,addsTypes:[],validType:"",expiresTime:""}},computed:{showRemoveType:function(){return!1}},watch:{dialogVisible:{handler:function(e){this.visible=e,e||this.resetData()},deep:!0,immediate:!0}},mounted:function(){this.visible=this.dialogVisible},methods:{resetData:function(){this.ownerUserId="",this.removeType=1,this.handleType=1,this.addsTypes=[]},handleCancel:function(){this.visible=!1,this.$emit("update:dialogVisible",!1)},handleConfirm:function(){var e=this;this.ownerUserId?Object(n["p"])({ownerUserId:this.ownerUserId,moduleId:this.moduleId,dataIds:this.selectionList.map((function(e){return e.dataId}))}).then((function(){e.$message.success("操作成功"),e.loading=!1,e.handleCancel(),e.$emit("handle",{type:"transfer"})})).catch((function(){e.loading=!1})):this.$message.error("请选择变更负责人")}}},s=r,l=(a("4ff3"),a("2877")),d=Object(l["a"])(s,i,o,!1,null,"02d3fd7e",null),u=d.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:"移动到分类",width:"450px"},on:{"update:visible":function(t){e.visible=t},close:e.handleCancel}},[a("div",{staticClass:"handle-box"},[a("div",{staticClass:"handle-item"},[a("div",{staticClass:"handle-item-name"},[e._v("移动到分类")]),e._v(" "),a("div",{staticClass:"handle-item-content"},[a("el-select",{model:{value:e.moveCategoryId,callback:function(t){e.moveCategoryId=t},expression:"moveCategoryId"}},e._l(e.categoryList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.categoryName,value:e.categoryId}})})))],1)])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.handleCancel}},[e._v("取消")])],1)])},f=[],h=a("5530"),p=(a("a9e3"),a("4de4"),a("d3b7"),a("871c")),v=a("2f62"),b={name:"MoveCategoryHandle",props:{dialogVisible:{type:Boolean,required:!0,default:!1},selectionList:{type:Array,default:function(){return[]}},moduleId:[String,Number],categoryId:[String,Number],version:[String,Number]},data:function(){return{loading:!1,visible:!0,moveCategoryId:null,categoryList:[]}},computed:Object(h["a"])({},Object(v["c"])("appModule",["userAppCategoryList"])),mounted:function(){var e=this;this.categoryList=this.userAppCategoryList.filter((function(t){var a=e.categoryId?t.categoryId!==e.categoryId:0!==t.type;return t.moduleId===e.moduleId&&t.version===e.version&&a})),this.categoryList.length&&(this.moveCategoryId=this.categoryList[0].categoryId)},methods:{handleCancel:function(){this.$emit("update:dialogVisible",!1)},handleConfirm:function(){var e=this;if(!this.loading)if(this.moveCategoryId){var t={categoryId:this.moveCategoryId,dataIds:this.selectionList.map((function(e){return e.dataId})),moduleId:this.moduleId,version:this.version};this.loading=!0,Object(p["f"])(t).then((function(){e.loading=!1,e.$message.success("操作成功"),e.handleCancel(),e.$emit("handle",{type:"moveCategory"})})).catch((function(){e.loading=!1}))}else this.$message.error("请选择要移动到的分类")}}},g=b,y=(a("07fb"),Object(l["a"])(g,m,f,!1,null,"b90d0470",null)),w=y.exports;t["a"]={components:{TransferHandle:u,MoveCategoryHandle:w},data:function(){return{transferDialogShow:!1,moveCategoryDialogShow:!1}},methods:{handleDelete:function(e,t){var a=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.loading=!0,Object(n["e"])({dataIds:e,moduleId:a.moduleId,version:t}).then((function(){a.loading=!1,a.$message.success("删除成功"),a.selectedList=[];var e=a.getElTable?a.getElTable():void 0;e&&e.clearSelection(),a.hideView&&a.hideView(),a.handleRefresh&&a.handleRefresh(),a.$emit("handle","delete")})).catch((function(){a.loading=!1}))})).catch((function(){}))},handleTransfer:function(){this.transferDialogShow=!0},handleCreate:function(){this.createAction.title=this.moduleObj.categoryName||this.moduleObj.name,this.showCreate=!0},handleMoveCategory:function(){this.moveCategoryDialogShow=!0}}}},a18c:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return m}));var n=a("2909"),i=(a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b0e")),o=a("8c4f"),c=(a("159b"),a("fb6a"),a("caad"),a("2532"),a("a434"),[]),r=[];function s(e){var t=-1;e.keys().forEach((function(a){var i=a.slice(2,-3),o=e(a).default;if(i.includes("sync"))c.push.apply(c,Object(n["a"])(o));else{var s="admin"===i?"manage":i;"manage"===s&&(t=r.length),r.push({type:s,router:o})}})),-1!==t&&r.push(r.splice(t,1)[0]);for(var a=-1,i=0;i<r.length;i++){var o=r[i];if("crm"===o.type){a=i;break}}-1!==a&&r.unshift(r.splice(a,1)[0]);for(var s=-1,l=0;l<r.length;l++){var d=r[l];if("oa"===d.type){s=l;break}}-1!==s&&(-1!==a?r.splice(1,0,r.splice(s,1)[0]):r.unshift(r.splice(s,1)[0]))}s(a("7191")),i["default"].use(o["a"]);var l=[{path:"/404",component:function(){return a.e("chunk-f2f7dc32").then(a.bind(null,"8cdb"))},hidden:!0},{path:"/noAuth",name:"noAuth",component:function(){return a.e("chunk-165a45e6").then(a.bind(null,"e870"))},hidden:!0},{path:"/link",name:"link",component:function(){return a.e("chunk-3d6c3eb4").then(a.bind(null,"a0a5"))},hidden:!0},{path:"/perview",name:"perview",component:function(){return a.e("chunk-d39aab00").then(a.bind(null,"67c5"))},hidden:!0}].concat(Object(n["a"])(c),[{path:"*",redirect:"/404",hidden:!0}]),d=function(){return new o["a"]({scrollBehavior:function(){return{y:0}},routes:l})},u=d();function m(){var e=d();u.matcher=e.matcher}t["b"]=u},a19b:function(e,t,a){},a25e:function(e,t,a){"use strict";a("bc0b")},a347:function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},a348:function(e,t,a){},a423:function(e,t,a){"use strict";a("b7ce")},a5c4:function(e,t,a){},a5ea:function(e,t,a){},a633:function(e,t,a){},a68a:function(e,t,a){},a918:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNkJBNEU5NDA1MkYxMUVBOTg2MERFMjZCQjEzNUI1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNkJBNEU5NTA1MkYxMUVBOTg2MERFMjZCQjEzNUI1NCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE2QkE0RTkyMDUyRjExRUE5ODYwREUyNkJCMTM1QjU0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE2QkE0RTkzMDUyRjExRUE5ODYwREUyNkJCMTM1QjU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lKPXJQAAC/1JREFUeNrsnW2MVFcZx5+77LILFBYoL+5SAsVKacFEIFprwSYGKYX6gtGERNtE08b3D/CFqB+t+qmt1RhF8UsbkxJNm2hWEQ1VoEI1uE2E0taKuwUWgfKywALbfRnvf2enDMvs3DOzc2fu2fv7JSe7LHdmzp77u+c+57nnnA0ymYyBf3R128LWZusIv3pN+Ds4U7/hyZt+dndYHg3Lg2G5PSyNqJE4OrZ90RpCUVfp+7T80vV5308Mi9T9aljq8CHRLKwLz9DgoO0Lv6ZG2Lo8UdvC8nVE9ejk1dk8CSt50yTrU2FZw+n3Vti9aRBWsi4Ny5c57V4Le1sahK0bHkxN4JQjrA+yruNUI6wvsi7iNCOsL7JO5BQjrE/ZAEBYZAWERVZInbDIirDICgiLrJBaYZEVYZEVEBZZIbXCIivCeiMssiKsN8IiK3gjLLKCN8IiK3gjLLKCN8IiK3gjLLKCN8IiK3gjLLKCN8IiK3gjLLKCN8IiK3gjLLKCN8IiK3gjbH2cb948KWMzpmSsMfyUIEjnidXG4r39Zud7Auu+Gow7YcOvq61K+8PG1rO2TM8MlaaG9Ioq9LurDXLtQQ+bMFnVo6rA+G+Xagobi6zTpyBqmtqmWsLGImtTPVKmrW2qISzZAPBG2FhkvdbPiUtr28QpbCyyXugJsDLFbROXsLHIqnzieMop0i7JEDa2mPXkhWCoXOvLJsbTin53tcHJ7mx7EMOWT6xjU3pYqOSTLrIB4E0Pi6zgjbDICt4Ii6zgjbDICt4Ii6xQU2G7um0BsoIvwu5zFRZZwRthkdVT+gfSJyyyesqZS+nrYZHVUw4dT19IgKyesu/18TlBqJiwsU5k0RLs6ZMz1tgQViJI59SrwUxgvX1mF64EQ0uyK0XXBbM9obD3LxnXwq5qbbbO2GWdEUo6pzljzLnK2OSJ2YWCp7qDIWkrxY4DZnOnmS1pTYewsYQBOjlzEfUG1Bbvac6KWyn6Bsye/qPZi6+qBx//IUGw/onKRz7zZ2ZsSiPLsQvR0xvYsXOVv4xbZ5itvtNs2TyzWWFvWz+ORiOhsMdDcVfFEgZMmoioxdum8rJ2nc+GBTvGZ7MNtG2xzliuv4D7P21TWRbEFrP2sRSbtokjho3jTVl3Rdt4I+u5nsCu9tG4I9Eq13PsqZAsWZVfOHa2biinmGGsNdQGaou3wjahPcontocCyvv9rzuw0xcDa6i31OZcM8Nx6iCSJlfWfGl7CQkgqWEAALICsgIgKwCyArICICsAsgKyAiArALICsgIgKwCyArIC1JpY57Nq7Xqztg+qT++qTq0M0LZB3VcC6x9EuETKOrUpYy3TM1bHkqMhbr0lM/QXBi9do0ESFQY0NZi1IuqNDR1o15TMUNtAgmRVL8JmDjcTDLcNJEjWyWwfRNv4ImsdOYZRmUDbJEvW8fTHGSpNH22TLFkvskUObeOLrGcvB/YOG5DdhNpEbQMJklUbW3SerSOnmIfaQm3CzizlE9tDgYFBsxPnA6ufEFhjfXpzrkM70vQHxPFJljV/sNU/QA8LCQ0DAJAVkBUAWQGQFZAVAFkBkBWQFQBZAZAVkBUAWQGQFZAVAFkBkBWQFQBZAZAVkBUAWQGQFZAVAFkBkBWQFQBZAZAVkBUAWQFZAZAVAFkBWQGQFQBZAVkBkBUAWQFZAZAVAFkBWQGQFQBZAVkBkBUAWQFZAZAVAFkBWQGQFQBZAVkBkBUAWQFZAZAVkBUAWQGQFdJHvS8V/eh7K/dee/7DiUfWGNn6qQq+1/DXN06YdZwxe/OU2f6jZueuIgSyJpTF87Jlbfj918LSHgq7/99mbYcRg5g14SxfFEr7gNkzj5ltWEp7IKsH3Do1K+3jnzabOYn2QFZPetqffyn82kpbIKsHTGo0+85GhEVWz4RdNJO2IBtQITY8Ofr/KU/bOj0Ubo7ZikVZAUsV9psfN9u8A2mQNWZGPgjYtNJs/YrsYMoVpbn0uucOIg5hQBWRcI/8wuyFA6W9ToIDstaE7X8ze/av7serJ1bvCoQBNetlxcP3ux1/zx1jDwU0WPvQ7dkYevY0s/mzbo6j9Ti4p9es47TZwQ6z9q6YY/6lZi3NZkvnXw978rka1uXY22ZnLpqd7jbb/ZrZ0XPIWhNh54Ynau0H3GJXPSwoZy6BemXJPlKE0T5HKN+78cNmZy+Z/f6flY2ZddFsusdt0Kn/zz2iFqqTwijdnZC1yjy732z1XW6ZgrV3lyaN8rRfWWN226zy66cQRL2/4ubtu8c2e0wX28P3ul2cxcj1wsSsVUY95c52t2PVC5fSmz6+aWyijpRWs9Ae/Uh5r9eF88MvjF1UBlg1RnGYCwtnux337QfdY+FS0W1Y71+qqHrAUUrKDlkTigYMx9926N2mRR+jnu++u+Ktr97ftYfNiVrqAxFkTTCdZ9xuxVFiqOcrBV0kygC4XCwje9iouQuKUTdvKF1UZQBUJxUN8GoJA6wCKC0zVh5Z7XZcsRG+UkmfXOkW6+rz2os8CtZgyvXWn6vTrldvznhIeg0uXTMayJpwJJnLiXzpiNnP/jJ6CkwrFlQUl0aFE/o8zX8olCFQesp1MBWVilJddWGp6POWLyAM8Jp73+d2yy8maj7f/4NbaLBqceGff8JRVD3JKyVnqgvj6d3I6i26TSqJH8WvXirtoYKOj2LFKJ+70mFl8K5Xkj9BB1kr3as6iKpestSEvo6PGuBo8DRyoKV/u8SqeiBCNsBD5jgk/DVKLkSLw2v/8WZ59XrLIUtxZ8uIXnWhW+zswzJ0ZC3AAoeE/7FRYsiFc6Jfe7LMbIMmtERxSxk51KOn/TgvyFog5nRJFXWM0stNcZDl0rXq/T4uz+67LiCrlyiH6MKpbtoKWWuM60oAJcwBWWuGZke5jJz16JF9sZC1prHqZx2f5b9cZDTf0xv9+qlN5dVxSlM8v7tW/SKrR6L+4HNukzyU6yyWPHcZsbc0l1dPl2mJb5y68d+Hj0W/ZtEcZPVKVNeJ0ZrgUQyXtNQH7yivni7zDUY+bLjs0NNr3oEPe3qlWlZNxNCMeVdRFatGPZLUPq9R6PNK3Rz5M8ujj2kv8Nl//6/b+295IPnnq2qzrjTz52NLrj8dqsXqyByaFbVmWWlT3PTE6sd/ij5OAy9JEzU/4PP3mR3qchuoqe3WOch6qMAtPzeZPOqCVH3L2cCj3IWTiZVVM9kLTUSu9OrIqBnzSpAXWvLswo92ul9Yu/4VLavkUfjxrV8XP9kSdetD0XUuFku/eNhtaY2O0doyzROIEjC34FBxdLW2VKqvlaj5wopKCFvqzHxXNHWulIknOnbjieieW8JqS829R8LeuPPGz8jNFXVdbVsslpbErlslad6rPjNXp/zeX5NiNPdg2fzrF6NCo3ERBujqc7l96ZhqrT0vBd36f3OgvKlzz+zNrmiNQiJKEJWtZdbTJZbW0m3Xv8uQX6fUDLCWtbr1CoWmttUa3Va/90L5czy1e0op2xKNpZ7f/a1bb1/qvl6pHWBFMTVBqRNNRHaJ26IodVuickR9qs29nrp7aYAb94pbL2U95Lg3k263SfjbVJrX+dzLlc1Q5ITV07FKLoHWrV89aqkXlJbIbDod3wXkraxqSN16ogY+rrugxNU7HQwvlN+9El8aTcIq36nNiMe6IlQXttprLDG+6vP6yeyK2GqvUE10GKBG1TPt0YJ13XKrNbhSvvFKb3Yuqqb4SaBq5Xn1OUrxaJSvhX2l7r6tumuFwfPtlclrKqZuH67P2ve7rRsbeZHvOZytT7UI1j+RyVTjg3KpmNzzbQmz57X4t3FMMmqTxXOz34+cJJ3bVlKPb4+cjP+iUuZG68c0b0Fx7ewRO87ofPVcq159RtK2xYKqyQowVlmZdQXegKyArADICsgKgKwAyArICoCsAGOX9R2aARLO5ZysR2kLSDidOVl30haQcP6ck/WXYRmgPSChyM3tOVkPhWUbbQIJZVvbliFH380GbM51tQAJYvewm5YvqzICG8Lyk7AM0kZQYwaH7/YPhb3qu9mq/GUt+uE3wvLTsDwWlnVh0WKHBtoOqkBPWDqG7/Dbc7f+fP4vwAACCep9RzCbwgAAAABJRU5ErkJggg=="},aa2b:function(e,t,a){"use strict";a.d(t,"n",(function(){return i})),a.d(t,"o",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"p",(function(){return r})),a.d(t,"m",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"l",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return p})),a.d(t,"i",(function(){return v})),a.d(t,"j",(function(){return b})),a.d(t,"k",(function(){return g})),a.d(t,"h",(function(){return y}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"/moduleFieldData/query/".concat(e.dataId,"/").concat(e.replaceMask),method:"post",data:e})}function o(e){return Object(n["a"])({url:"/moduleFieldData/mainField/".concat(e.dataId),method:"post",data:e})}function c(e){return Object(n["a"])({url:"/moduleFieldData/delete",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(n["a"])({url:"/moduleFieldData/transfer",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(n["a"])({url:"/moduleOperationRecord/query/".concat(e.moduleId,"/").concat(e.dataId),method:"post"})}function l(e){return Object(n["a"])({url:"/moduleFieldData/save",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(n["a"])({url:"moduleFieldDefault/values/".concat(e.moduleId,"/").concat(e.version),method:"post"})}function u(e){return Object(n["a"])({url:"moduleFieldDefault/values",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(n["a"])({url:"moduleFieldData/dataUnion",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(n["a"])({url:"moduleFieldData/doubleCheck",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(n["a"])({url:"/moduleFieldData/calculateFormula",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(n["a"])({url:"moduleFieldDefault/values/formula",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(n["a"])({url:"/moduleFieldData/saveTeamMember",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(n["a"])({url:"/moduleFieldData/teamMember/".concat(e.moduleId,"/").concat(e.dataId),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(n["a"])({url:"/moduleFieldData/teamMemberInfo/".concat(e.moduleId,"/").concat(e.dataId),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(n["a"])({url:"/moduleFieldData/removeTeamMember",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},aa59:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.onlyShow?a("div",{staticClass:"wk-dep-checkbox"},e._l(e.data,(function(t,n){return a("div",{key:n,staticClass:"xh-user__item",attrs:{label:t.deptId}},[a("div",{staticClass:"dep-name text-one-line"},[a("wx-open-data",{attrs:{openid:t.name,type:"departmentName"}}),e._v(e._s(t.currentNum>0?"("+t.currentNum+")":""))],1),e._v(" "),e.hasChildren(t)?a("el-button",{attrs:{type:"text",icon:"wk wk-icon-structure"},on:{click:function(a){e.lowerLevelClick(t)}}},[e._v("下级")]):e._e()],1)}))):a("el-checkbox-group",{ref:"checkboxGroup",staticClass:"wk-dep-checkbox",attrs:{disabled:e.disabled},on:{change:e.depChange},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},e._l(e.data,(function(t,n){return a("el-checkbox",{key:n,staticClass:"xh-user__item",attrs:{label:t.deptId}},[a("div",{staticClass:"dep-name text-one-line"},[a("wx-open-data",{attrs:{openid:t.name,type:"departmentName"}}),e._v(e._s(t.currentNum>0?"("+t.currentNum+")":""))],1),e._v(" "),e.hasChildren(t)?a("el-button",{attrs:{type:"text",icon:"wk wk-icon-structure"},on:{click:function(a){e.lowerLevelClick(t)}}},[e._v("下级")]):e._e()],1)})))},i=[],o=a("3cd8"),c={name:"WkDepCheckbox",components:{},mixins:[o["a"]],props:{onlyShow:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{lowerLevelClick:function(e){this.$emit("next",e)},hasChildren:function(e){return e.hasOwnProperty("children")?e.children.length>0:!!e.hasOwnProperty("currentNum")&&(e.currentNum>0||!!e.hasOwnProperty("hasChildren")&&1===e.hasChildren)},depChange:function(){}}},r=c,s=(a("1b8a"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"52d37c58",null);t["a"]=l.exports},aaee:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMjc3MDcyQzA1MkYxMUVBQkNDNUYwRjNEOERBRTEwNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxMjc3MDcyRDA1MkYxMUVBQkNDNUYwRjNEOERBRTEwNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNzcwNzJBMDUyRjExRUFCQ0M1RjBGM0Q4REFFMTA1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEyNzcwNzJCMDUyRjExRUFCQ0M1RjBGM0Q4REFFMTA1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ckMzkQAACzdJREFUeNrsnWuMXFUdwM/MnZmdWbotXUqXPkK3FZRHGqUlNWJbjZYUSqMJxmiiCYRUlEgJpHzwC35Qo3xopBGMoNWICfqh4YNEClWoUCoJlRaxJFSp20e6S+lr293uzuy8rud/u7NMtzudO7P37t4z5/dLTruZnZ3H//zm3P95Tsx1XQUGMtjXrTrmH9b/m/0+Oub7vmti8NHV42+7SZcNutypy2Jd2jAjchzueOy5pBZ1pfxsy5tOVP2c0uXnujygSxwfIk23ijtKlUu79f/WCBuvEvVFXb6PqCbVnrPAE1bktUjWJ3RZQ+0bK+wbNggrst6sy3epdaOFXWiDsPHRzpRDjSOsCbLeQU0jrCmyLqGWEdYUWVPUMMKaNBoACIusgLDICtYJi6wIi6yAsMgK1gqLrAiLrICwyArWCousCGuMsMiKsMYIi6xgjLDICsYIi6xgjLDICsYIi6xgjLDICsYIi6xgjLDICsYIi6xgjLDICsYIi6xgjLDICsYIi6xgjLCJMB882dmhknNmKSed0m8wZmfFll1VyuVV4dQ5VTgz2HrCxp1VaorOhw2tZU1fO9crTnubvaJ6EY55MajEgxY2YrJ6LaouYEFcplDYcGS9aiZm2hSbKRI2FFmdDN+ZYV1spkBYRgPAGGFDkbWUHaHibI1NiMKGImvh9ABW2hybkIQNR9Yzg601pkhcIiFsaDlr7ugJr5SGR7yBcWuRSQEdg0o8yGGbJ9QZLFpYCHKmi9EAMKaFRVYwRlhkBWOERVYwRlhkBWOERVaYXmEH+xYhK5gi7G6/wiIrGCMssppKqWCdsMhqKOX+Fpu69SEsshpK8eC71qUEyGoohX07lXJdq4QNdSFLPJ3y9hw5GdmKbennolxWpWzeW8dazuWDe9iTx7Swr6rk8jWtLOxK1TH/SOiyynkB6QVXKRWzeBv2KM6MjErNmalyvadU4VRwi69zL/9BxTvnKWfxzVYIGw+rctIL5iBqNToW6YVXe7EJLnHNq+HnfqYK//yrTgnKLZ8SxAY2rQo88cksmacSM9sRdCK/BoZVtufD4Ov16oUquexLKnHdZ1R89lzdYiRaJ2jl0jEt7spQZJ2xdLGKOfTdJsItldX5/YcIRGMc6di8qzsUo2JxLv/EJlAWhZazlkeKhLdWbPLEpulUJ4wHLfSz76pmbNiTFi1Z8yfPqtJwjuiOQ3a5SmwgQrLK9uPswQ8vjCnavA27Kh4Si+zBPuIxCUIb33DLZZU7dlKN9J1WsbaEilk65uq6rnJ1Di/xgIjKWi2tm80TaYhoGgCArICsAMgKgKyArADICoCsgKwAyAqArICsAMgKgKyArADTTKjrWWNJRyU7Z3rHCNl63oUcRyXHBhXODCi3UMK4KMqamHWFSi+aq2JxGm8h1XWl9w2DxbNDBCNKaYDT3qYy3V2IWn2V0bHILOryYgMRkjXVNZtzriY0NnYhNhChljXIw8daDGITMVk5Iufy6QBESNZygSNyasemQBCiJGuxnx4vsTFE1vyJflUeoQW5pFXVMZHYQIRklTNIhz/oVcVztCJjLaqOhcREYgPNEd7xQcWSyh46rmLJBF+Akc0rlzw+urKOSasrqUhFQVTTAABkBWQFQFYAZAVkBUBWAGQFZAVAVgBkBWQFQFYAZAVkBUBWAGQFZAVAVgBkBWQFQFYAZAVkBUBWAGQFZAVAVgBkBWQFQFZAVgBkBUBWQFYAZAVAVkBWAGQFQFZAVgBkBUBWQFYAZAVAVkBWAGQFQFZAVgBkBUBWQFYAZAVAVkBWAGQFQFZAVgBkBWQFQFYAZAX7SETqxSy9PZDHKR16R7nnT1G7yBoemXseC/TxSocPqOL/9qvivh2q/NF/qW1kjS5O9w1eafvy1z1x869vU8X9f6PWyVmjL6603Olv/UTFZsxp/VZoxddoWU0nectqFZ/XrbJPP9xSeW2865MqsWytchYsUYkblnu3De55HlmNb2WvuVZl7v2pGn7qfuNbT2fh9Spx0woVv9KCq4Wt+Y+kBak7N6r8S08a+frbH/y19x7oYEUY6ShNREy3LI22LqnP36UKb/yJYS5kDYfLXboreZtIGEu3130suU/i1vWq8NrvMYHRgKlFxlLlsp793Q+Vmxv292m97tNYgKzTmCr07PGE9Ze73ogFyDr9whYP7PWVCtgw7krOGnVhe3vGxhwv27ouvuWSma166xTcoXPeB+KSgOq/c65frpz5Sy7qrZfPnlKuLs1M/zpLVqjYFbMuvtFHTl7rPdR67cg6nTnssQNN/229dQoyKjH81J6LxGj76gM1RyS823Wpnv7NbdvsS9q2dRuaGqaq9R7Gv3bSAItou/sHnhiNDJ2JfO0bf6GSX7yXANKyTg2y1kCmcJtB8uX0+vu8nxk+s7xljS/0d+mU9a/NIDNgzYp6Ucu85pteXgoWy5r4xNK695Hx2GZmsGTGTHLPIJAWtu3uh7DRVlm9XrmPTknx/bebC1yN/FR6/dKBKR0/2tDjyeIa8lcLc1a5pKa/scnXfYv/fj2Q5xx5ddslQ1IyfivTuXKZ9zP9m7x1zYS568j2rZcMXaXW3uMJfjmyz/544qvJ0DlkjYKkyc99xXce6W17meTOAUkjZLZsonFLSS9EvuLbf1GZ722pK5f8XtY3jB/OmuixU1+on4K02q4I42SVpXETXpZ1RftpvaqRbS6TJffCb+oOsIu0+R3P+tpjJgtx8i+xX6wlZA1qDad32Z5ky+O1zD5X48tzFQ+sqzujFu/swkobRwNqUXhnVyCLrvN7djR0/+LBd+tXyOy5WGlTB6teixrU7oBig3uc3NO9U3bloGU1GBlSkt5xUKLW2rFgU4eHljUESfO7X2A6E1mjiTco39ejiv/aaeRSOGgRWWsNdHut6IkjHBOErNHB5LxPBvyBDpYZwZ67qH4K0+CaAmSFusSaOAFFtrvUwz17kuAia8CBk0M1GrysyzE/dVvW3h6Ci6whJPzL1vq/79LbfW17Kf3nLQI7FR2syokolfnt8pmPWvogX2/jn5ar3vCYLBWUzYT18NbCBjjUJge3FVvoJMHAZJUtHhOtnJfbgpzijBqZ+35Uc4lgRVRZHuinVS3s/Xugry21Yi2y+hW1WlihFYWVZYkibGHfa6r0wd6xoTVZW+t86rO+z92SdbFySJxfyv0n6q4j8A5Q3vCEKry13XtdcuVzbrxNxTIdRtbFpGWVlkMqpK7Q+j6t2rqKjKnb1iklRTX3vQj5f7zY0F6wUu9BX4vMZUnihWWJH78u78h6GztYcpqJ3xP72MFZQ7zjRxv+IJfef5PRgFBboPFH4BgumHSIJou3Lebphxv+O+m0yrpcZG2k0nzuuZdKaaklcvr95P74uO+jNWv1/r3jOZs8zHjkz1sm9fzWySqBlt6+n5ys5S7fo0drNiOMnHA4vOX+SQ1VSeybfX5r0wDJt/Jvbq/9e/27Vu1ciWxDj3/b9yVZOjeyciy79ZFAjoeX5x9+8qGGUgIZSTCyIzuwaZUb2NBC1XGPXiANXlPasXlXXenGHxlfGRqKd14zFoNKHNzsUOgTJLWev/o1+JnEiGh9xAKdwfJ2cFq8dUNEnM7Zuul+/pYaDQBAVkBWAGQFQFZAVgBkBUBWQFaA6ZU1Txgg4pyvyMreX4g6RyqyvkwsIOK8Iv/IQpbf6rJRF4eYfMzgo6sJQjQo6bK10rK+p8szxAQiyjMdm3e9Vz0a8EilqQWIEDtH3VTVssqIgOyn/qUuZWIE00x59Gq/XreqY6NV1Yuv5cYHdfmVLt/R5Q5dZLl5ktjBFDCky+HRK/zWyqW/mv8LMADrl3Z3vhaEigAAAABJRU5ErkJggg=="},ab8b:function(e,t,a){"use strict";a("a5ea")},ab96:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=[{label:"条件节点",value:0,command:"search",icon:"wk wk-icon-customer-a-line"},{label:"审批节点",value:1,command:"examine",icon:"wk wk-approve-line"},{label:"填写节点",value:2,command:"fill",icon:"wk wk-icon-edit-line"},{label:"抄送节点",value:3,command:"copy",icon:"wk wk-source-line"},{label:"添加数据",value:4,command:"save",icon:"wk wk-icon-add-line"},{label:"更新数据",value:5,command:"update",icon:"wk wk-visit-contract"}]},ad0e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tagView",style:{"flex-wrap":e.wrap}},[e.value&&e.value.length<=e.maxLength?e._l(e.value,(function(t,n){return a("div",{key:n,staticClass:"item-label",style:{backgroundColor:t.color,"margin-bottom":e.itemBottom+"px"}},[a("span",[e._v(e._s(t.value))])])})):e._e(),e._v(" "),e.value&&e.value.length>e.maxLength?[e._l(e.value.slice(0,e.maxLength),(function(t,n){return a("div",{key:n,staticClass:"item-label",style:{backgroundColor:t.color,"margin-bottom":e.itemBottom+"px"}},[e._v(e._s(t.value))])})),e._v(" "),a("el-tooltip",{attrs:{placement:"top",effect:"light","popper-class":"tooltip-change-border"}},[a("div",{staticClass:"tooltip-box",attrs:{slot:"content"},slot:"content"},e._l(e.value,(function(t,n){return a("span",{directives:[{name:"show",rawName:"v-show",value:n>=e.maxLength,expression:"index >= maxLength"}],key:n,staticClass:"tooltip-item",style:{backgroundColor:t.color,"margin-bottom":e.itemBottom+"px"}},[e._v("\n          "+e._s(t.value)+"\n        ")])}))),e._v(" "),a("el-button",{staticStyle:{height:"20px"},attrs:{size:"mini",icon:"el-icon-more"}})],1)]:e._e(),e._v(" "),e._t("default")],2)},i=[],o=(a("a9e3"),a("ed08")),c={name:"TagView",props:{value:null,maxLength:{type:Number,default:2},wrap:{type:String,default:"nowrap"},itemBottom:{type:Number,default:4}},data:function(){return{}},methods:{colorRgb:function(e,t){return Object(o["c"])(e,t)}}},r=c,s=(a("0535"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"599bfa9a",null);t["a"]=l.exports},ae4b:function(e,t,a){"use strict";a("5a3e")},aebc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-desc-text"},[a("tinymce",e._b({attrs:{disabled:!0,toolbar:[],init:{statusbar:!1,placeholder:"描述文字内容",content_style:" * {color: #262626; margin: 0;} body { font-size: 14px; }",quickbars_selection_toolbar:!1,contextmenu:"",plugins:"autoresize",autoresize_bottom_margin:0}}},"tinymce",e.$attrs,!1))],1)},i=[],o=a("8256"),c={name:"WkDescText",components:{Tinymce:o["a"]},inheritAttrs:!1,props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},r=c,s=(a("cab3"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,null,null);t["a"]=l.exports},b010:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("5530"),i=(a("d3b7"),a("159b"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("4de4"),a("df7c")),o=a.n(i),c=a("61f7");function r(e){var t=[];return e.forEach((function(e,a){var n=s(e.children,e),i=n.result,o=n.onlyOneChild;if(!e.hidden&&i){var c=l(o.path,e.path),r=c;c.includes("/subs/")&&(r=c.split("/subs/")[0]),t.push({label:o.meta.title,icon:o.meta.icon||e.meta&&e.meta.icon,num:o.meta.num,count:o.count,path:r,fullPath:l(o.path,e.path),index:a})}})),t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=null,i=e.filter((function(e){return!e.hidden&&(a=e,!0)}));return 1===i.length?{result:!0,onlyOneChild:a}:0===i.length?(a=Object(n["a"])(Object(n["a"])({},t),{},{path:"",noShowingChildren:!0}),{result:!0,onlyOneChild:a}):i.length>1?{result:!0,onlyOneChild:Object(n["a"])(Object(n["a"])({},i[0]),{},{meta:t.meta})}:{result:!1,onlyOneChild:null}}function l(e,t){return Object(c["a"])(e)?e:Object(c["a"])(t)?t:o.a.resolve(t,e)}},b0a1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-view",{directives:[{name:"empty",rawName:"v-empty",value:!e.canShowDetail,expression:"!canShowDetail"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"listener-ids":e.listenerIDs,"no-listener-ids":e.noListenerIDs,"no-listener-class":e.noListenerClass,"body-style":{padding:0,height:"100%"},"append-to-body":e.appendToBody,"xs-empty-icon":"nopermission","xs-empty-text":"暂无权限"},on:{afterEnter:e.viewAfterEnter,close:e.hideView}},[e.detailData?a("flexbox",{staticClass:"detail-main",attrs:{justify:"flex-start",align:"center",direction:"column"}},[a("detail-header",{class:{"is-shadow":e.bodyIsScroll},attrs:{id:e.id,title:e.dataName,"category-id":e.categoryId,"module-detail":e.moduleObj,"layout-data":e.layoutData,"detail-data":e.detailData},on:{command:e.handleCommand}}),e._v(" "),a("div",{staticClass:"detail-body",on:{scroll:e.bodyScroll}},[a("div",{staticClass:"expanded-stage-wrapper"},[a("expanded-stage",{attrs:{"data-id":e.id,"module-id":e.moduleId,version:e.moduleObj.version}})],1),e._v(" "),e.headDetails&&e.headDetails.length?a("flexbox",{staticClass:"detail-body-base",attrs:{align:"stretch"}},e._l(e.headDetails,(function(t,n){return a("div",{key:n,staticClass:"base-item"},[a("div",{staticClass:"base-title"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"base-value text-one-line"},["mobile"===t.formType?a("span",{staticClass:"phone-item"},[a("i",{staticClass:"wk wk-circle-iphone"}),e._v("\n              "+e._s(e.getHeaderFieldValue(t))+"\n            ")]):["data_union"].includes(t.formType)?[a("el-tooltip",{staticClass:"text-one-line",attrs:{disabled:t.value,content:e.getHeaderFieldValue(t).value,effect:"dark",placement:"top"}},[a("span",{class:{"can-check":!0},on:{click:function(a){a.stopPropagation(),e.handleClick(e.getHeaderFieldValue(t))}}},[e._v(e._s(e.getHeaderFieldValue(t).value))])])]:a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:e.getHeaderFieldValue(t)},scopedSlots:e._u([{key:"default",fn:function(a){a.data;return[e._v("\n                "+e._s(e.getHeaderFieldValue(t))+"\n              ")]}}])})],2)])}))):e._e(),e._v(" "),a("flexbox",{staticClass:"info-container",attrs:{align:"flex-start",justify:"flex-start"}},[a("flexbox-item",{staticClass:"left"},[a("el-tabs",{model:{value:e.tabCurrentName,callback:function(t){e.tabCurrentName=t},expression:"tabCurrentName"}},e._l(e.tabNames,(function(t,n){return a("el-tab-pane",{key:n,attrs:{label:t.name,name:t.moduleId,lazy:""}},[a("template",{slot:"label"},[a("span",[e._v(e._s(t.name))]),e._v(" "),t.num?a("span",{staticClass:"el-badge__content el-badge__content--undefined"},[e._v(e._s(t.num))]):e._e()]),e._v(" "),e.activeCom&&e.showTabItem?a(e.activeCom,{tag:"component",attrs:{id:e.id,"module-id":e.moduleId,"module-data":e.moduleDetail,"detail-data":e.detailData,"auth-level-lib":e.authLevelLib,"tab-data":t,"field-list":e.fieldList},on:{command:e.handleTabPaneCommand,update:e.handleUpdate}}):e._e()],2)})))],1),e._v(" "),e.layoutData.showFlow?a("div",{staticClass:"right"},[e.layoutData.showFlow?a("detail-stage",{staticClass:"box-wrapper",attrs:{"data-id":e.id,"field-list":e.fieldList,"module-detail":e.moduleObj,"detail-data":e.detailData},on:{update:e.updateDetail}}):e._e()],1):e._e()],1)],1)],1):e._e(),e._v(" "),e.transferDialogShow?a("transfer-handle",{attrs:{"module-id":e.moduleId,"selection-list":[e.detailData],"dialog-visible":e.transferDialogShow},on:{"update:dialogVisible":function(t){e.transferDialogShow=t},handle:e.hideAndRefresh}}):e._e(),e._v(" "),e.moveCategoryDialogShow?a("move-category-handle",{attrs:{"module-id":e.moduleId,"category-id":e.categoryId,version:e.moduleObj.version,"selection-list":[e.detailData],"dialog-visible":e.moveCategoryDialogShow},on:{"update:dialogVisible":function(t){e.moveCategoryDialogShow=t},handle:e.hideAndRefresh}}):e._e(),e._v(" "),e.showCreate?a("module-create",{attrs:{"module-id":e.createAction.moduleId,"category-id":e.createAction.categoryId,action:e.createAction},on:{close:function(t){e.showCreate=!1},"save-success":e.updateDetail}}):e._e(),e._v(" "),e.showDetail?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.dataId,"module-id":e.skipModuleId},on:{handle:function(t){e.getData(!0)},"hide-view":function(t){e.showDetail=!1}}})],1):e._e(),e._v(" "),e.showFillDialog?a("fill-form-dialog",{attrs:{title:e.activeBtn.buttonName,"module-id":e.moduleDetail.moduleId,"fill-fields":e.fillFieldsList,action:e.fillFormAction},on:{submit:e.submitFillForm,close:function(t){e.showFillDialog=!e.showFillDialog}}}):e._e()],1)},i=[],o=a("3835"),c=a("1da1"),r=a("5530"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("7db0"),a("99af"),a("159b"),a("4de4"),a("b0c0"),a("caad"),a("c740"),a("aa2b")),l=a("0edd"),d=a("871c"),u=a("6c09"),m=a("130f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-header"},[a("flexbox",{staticClass:"t-section",attrs:{align:"stretch"}},[a("div",{staticClass:"t-section__bd"},[a("div",{staticClass:"type-name"},[e._v(e._s(e.moduleDetail.categoryName||e.moduleDetail.name))]),e._v(" "),a("flexbox",{staticClass:"type-content",attrs:{justify:"space-between"}},[a("flexbox",{staticStyle:{width:"auto"}},[a("el-tooltip",{attrs:{content:e.title,effect:"dark",placement:"top-start"}},[a("span",{staticClass:"name"},[e._v(e._s(e.title))])]),e._v(" "),e.pageList&&e.pageList.length>1?a("el-button-group",{staticClass:"wk-header-page-btn"},[a("el-button",{attrs:{type:"subtle",icon:"el-icon-arrow-left"},on:{click:function(t){e.handleTypeClick("prev-data")}}}),e._v(" "),a("el-button",{attrs:{type:"subtle",icon:"el-icon-arrow-right"},on:{click:function(t){e.handleTypeClick("next-data")}}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"right-handle"},[e._l(e.btnShowList,(function(t,n){return a("el-button",{key:n,staticClass:"head-handle-button",attrs:{type:0===n?"primary":""},on:{click:function(a){e.handleTypeClick(t.value)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),e._v(" "),e.btnHiddenList&&e.btnHiddenList.length>0?a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleTypeClick}},[a("el-button",{staticClass:"dropdown-btn",attrs:{icon:"el-icon-more"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.btnHiddenList,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{command:t.value}},[e._v("\n                "+e._s(t.name)+"\n              ")])})))],1):e._e()],2)],1)],1)]),e._v(" "),e.layoutData.quickAdd&&e.layoutData.quickAdd.length?a("div",{staticClass:"main-handle"},[e._l(e.layoutData.quickAdd,(function(t,n){return[e.getAuthByStr(t)?a("el-button",{key:n,attrs:{icon:e.getModule(t).icon},on:{click:function(a){e.handleQuickAdd(t)}}},[e._v("创建"+e._s(e.getModule(t).name))]):e._e()]}))],2):e._e()],1)},h=[],p=a("2909"),v=(a("a434"),a("eea8")),b=a("2f62"),g=a("ed08"),y=a("163e"),w=a("3f26"),k=a("563d"),C={name:"DetailHeader",mixins:[y["a"]],inheritAttrs:!1,props:{id:[String,Number],categoryId:[String,Number],title:String,moduleDetail:Object,detailData:Object,layoutData:Object,pageList:Array},data:function(){return{btnList:[],flowList:[],printTplList:[],powerAuth:!1,dataAuth:!1}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(b["c"])("appModule",["userAppCategoryList"])),Object(b["c"])(["userInfo"])),{},{btnShowList:function(){var e=this;return this.btnList.filter((function(t){return 0===t.isHidden&&e.getBtnAuth(t)}))},btnHiddenList:function(){var e=this;return this.btnList.filter((function(t){return 1===t.isHidden&&e.getBtnAuth(t)}))}}),watch:{layoutData:{handler:function(){this.getButtonList()},deep:!0}},mounted:function(){this.getButtonList()},methods:{getAuthByStr:function(e){var t=this.getModuleObjById(e.moduleId)||{},a="".concat(t.moduleId,"-");return this.$auth("".concat(e.applicationId,".").concat(a,".save"))},getButtonList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getFlowDetail().catch((function(){}));case 2:return t.next=4,e.getPrintTpl().catch((function(){}));case 4:return t.next=6,e.getGroupAuthConfig().catch((function(){}));case 6:return t.next=8,e.getDataAuth().catch((function(){}));case 8:if(e.layoutData&&e.layoutData.controls){t.next=11;break}return e.btnList=[],t.abrupt("return");case 11:a=Object(g["u"])(e.layoutData.controls),w["b"].controls.forEach((function(e){var t=a.find((function(t){return t.value===e.value}));t||a.push(e)})),e.printTplList.length||(n=a.findIndex((function(e){return"print"===e.value})),n&&a.splice(n,1)),i=e.detailData.categoryId,o=e.userAppCategoryList.filter((function(t){return t.moduleId===e.moduleDetail.moduleId&&t.version===e.moduleDetail.version&&t.categoryId!==i})),o.length<1&&(s=a.findIndex((function(e){return"moveCategory"===e.value})),-1!==s&&a.splice(s,1)),l=[],a.forEach((function(t){var a="".concat(e.moduleDetail.moduleId,"-").concat(i||""),n=e.$auth("".concat(e.moduleDetail.applicationId,".").concat(a,".").concat(t.value));n&&l.push(t)})),a=l,Object(d["b"])({moduleId:e.moduleDetail.moduleId,version:e.moduleDetail.version}).then(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=n.data||[],i.forEach((function(e){var t=a.find((function(t){return t.extra&&t.extra.buttonId===e.buttonId}));t||a.push({name:e.buttonName,value:"customButton",isHidden:1,extra:{buttonId:e.buttonId}})})),o=0;case 4:if(!(o<a.length)){t.next=14;break}if(c=a[o],c.extra){t.next=10;break}e.btnList.push(c),t.next=11;break;case 10:return t.delegateYield(regeneratorRuntime.mark((function t(){var a,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=c.extra.buttonId,n=i.find((function(e){return e.buttonId===a})),!n){t.next=14;break}if(o=!1,0!==n.effectType){t.next=8;break}o=!0,t.next=13;break;case 8:if(!n.effectConfig){t.next=13;break}return s=Object(g["v"])(n.effectConfig),t.next=12,e.getCustomButtonAuth(s).catch((function(){return!1}));case 12:o=t.sent;case 13:o&&e.btnList.push(Object(r["a"])({name:n.buttonName,value:n.buttonId,isHidden:c.isHidden,isCustom:!0},n));case 14:case"end":return t.stop()}}),t)}))(),"t0",11);case 11:o++,t.next=4;break;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}));case 22:case"end":return t.stop()}}),t)})))()},getFlowDetail:function(){var e=this;return new Promise((function(t,a){Object(u["a"])({dataId:e.id,moduleId:e.moduleDetail.moduleId}).then((function(a){e.flowList=a.data||[],t()})).catch((function(){a()}))}))},getPrintTpl:function(){var e=this;return new Promise((function(t,a){Object(d["l"])({limit:1,page:1,moduleId:e.moduleDetail.moduleId,version:e.moduleDetail.version}).then((function(a){e.printTplList=a.data.list||[],t(a)})).catch((function(){a()}))}))},getCustomButtonAuth:function(e){var t=this;return new Promise((function(a,n){var i={page:1,limit:15,moduleId:t.moduleDetail.moduleId,searchList:[{fieldName:"dataId",formType:"text",type:11,values:[t.detailData.dataId]}].concat(Object(p["a"])(e))};Object(v["d"])(i).then((function(e){var t=(e.data||{}).list||[];a(t.length>0)})).catch((function(){n()}))}))},getGroupAuthConfig:function(){var e=this;return new Promise((function(t,a){if(e.userInfo.isAdmin)return e.powerAuth=!0,t();Object(s["k"])({moduleId:e.moduleDetail.moduleId,dataId:e.id}).then((function(a){var n=a.data||{};if(n.expiresTime&&e.$moment(n.expiresTime).isBefore(e.$moment()))return e.powerAuth=!1,t();var i=n.power;e.powerAuth=1!==i,t()})).catch((function(){a()}))}))},getBtnAuth:function(e){if(!this.detailData)return!1;if(!e.value||e.isCustom)return!0;var t="".concat(this.moduleDetail.moduleId,"-").concat(this.categoryId||""),a=this.$auth("".concat(this.moduleDetail.applicationId,".").concat(t,".").concat(e.value)),n=!1;if(n=this.dataAuth&&a||this.powerAuth,!n)return!1;if("transfer"===e.value)return!0;if(["edit","delete"].includes(e.value)){if(!this.detailData.examineRecord)return!0;var i=this.flowList.filter((function(e){return 1===e.flowType}));if(!i.length)return!0;if(1===this.detailData.examineRecord.examineStatus&&"delete"===e.value)return this.userInfo.isAdmin;var o=i.filter((function(e){return[2,4].includes(e.flowStatus)})).length;return!!o}return!0},getDataAuth:function(){var e=this;return new Promise((function(t,a){Object(k["a"])({dataId:e.id}).then((function(a){e.dataAuth=a.data,t()})).catch((function(){e.dataAuth=!1,a()}))}))},handleTypeClick:function(e){var t=this.btnList.find((function(t){return t.value===e}));t&&t.isCustom?this.$emit("command",e,t):this.$emit("command",e)},getModule:function(e){return this.getModuleObjById(e.moduleId)||{}},handleQuickAdd:function(e){this.$emit("command","quick-add",e)}}},x=C,I=(a("1ad5"),a("2877")),_=Object(I["a"])(x,f,h,!1,null,"549ac46c",null),j=_.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-stage"},[a("div",{staticClass:"detail-stage-header"},[e._v("\n    流程日志\n  ")]),e._v(" "),a("div",{staticClass:"detail-stage-body"},[a("el-timeline",[a("el-timeline-item",{staticClass:"active",attrs:{timestamp:e.detailData.fieldDataCommon.createTime}},[a("i",{staticClass:"flow-item-icon active",attrs:{slot:"dot"},slot:"dot"}),e._v(" "),a("div",{staticClass:"flow-item"},[a("div",{staticClass:"flow-item__head"},[e._v("\n            创建人\n          ")]),e._v(" "),a("div",{staticClass:"flow-item__body"},[a("div",{staticClass:"content"},[e._v("\n              "+e._s(e.detailData.fieldDataCommon.createUserName)+"\n            ")])])])]),e._v(" "),e._l(e.flowList,(function(t,n){return a("el-timeline-item",{key:n,class:{active:1===t.flowStatus}},[a("i",{staticClass:"flow-item-icon",class:{active:t.flowStatus||0===t.flowStatus},attrs:{slot:"dot"},slot:"dot"}),e._v(" "),a(e.activeCom(t.flowType),{tag:"component",attrs:{stage:t,"data-id":e.dataId,"module-id":e.moduleDetail.moduleId,"category-id":e.moduleDetail.categoryId,"field-list":e.fieldList},on:{handle:e.handleCommand}})],1)}))],2),e._v(" "),e.currentStage?a("flexbox",{staticClass:"controls",attrs:{align:"center",justify:"flex-end"}},[1===e.currentStage.flowType?[e.isExamineRecheck?a("el-button",{on:{click:function(t){e.examineHandle(4)}}},[e._v("\n          撤回\n        ")]):e._e(),e._v(" "),e.currentStage.canTransfer?a("el-button",{on:{click:function(t){e.examineHandle(3)}}},[e._v("\n          转交\n        ")]):e._e(),e._v(" "),e.currentStage.canExamine?a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.examineHandle(2)}}},[e._v("\n          拒绝\n        ")]):e._e(),e._v(" "),e.currentStage.canExamine?a("el-button",{attrs:{type:"success"},on:{click:function(t){e.examineHandle(1)}}},[e._v("\n          通过\n        ")]):e._e()]:e._e(),e._v(" "),2===e.currentStage.flowType&&e.currentStage.canTransfer?[a("el-button",{on:{click:function(t){e.examineHandle(3)}}},[e._v("转交")])]:e._e()],2):e._e()],1),e._v(" "),e.showExamineHandle?a("examine-handle",{attrs:{show:e.showExamineHandle,status:e.examineStatus,required:e.examineRequired,stage:e.currentStage},on:{close:function(t){e.showExamineHandle=!1},transfer:e.examineTransfer,save:e.examineSave}}):e._e(),e._v(" "),e.showFillForm?a("fill-form-dialog",{attrs:{"module-id":e.moduleDetail.moduleId,"fill-fields":e.fillFieldsList,stage:e.currentStage,action:e.fillDialogAction,title:"填写节点信息"},on:{submit:e.handleToSubmit,close:function(t){e.showFillForm=!e.showFillForm}}}):e._e()],1)},F=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-stage-item add-stage"},[a("div",{staticClass:"stage-head"},[e._v(e._s(e.stage.flowName))]),e._v(" "),e.stage.flowStatus||0===e.stage.flowStatus?a("div",{staticClass:"stage-body"},e._l(e.dataList,(function(t,n){return a("div",{key:n,staticClass:"stage-item"},[1===t.flowStatus?a("div",{staticClass:"time"},[e._v("\n        "+e._s(t.updateTime)+"\n      ")]):e._e(),e._v(" "),t.currentData?a("el-button",{staticClass:"can-visit",attrs:{type:"text",size:"medium"},on:{click:function(a){e.handleClick(t.currentData[0])}}},[e._v("\n        查看添加数据\n      ")]):e._e()],1)}))):e._e(),e._v(" "),e.showDetail?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.detailDataId,"module-id":e.detailModuleId},on:{"hide-view":function(t){e.showDetail=!1}}})],1):e._e()])},A=[],D={name:"AddStage",components:{ModuleDetail:function(){return Promise.resolve().then(a.bind(null,"b0a1"))}},inheritAttrs:!1,props:{stage:Object,dataId:[String,Number],moduleId:[String,Number]},data:function(){return{dataList:[],showDetail:!1,zIndex:10,detailDataId:null,detailModuleId:null}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this;Object(u["d"])({dataId:this.dataId,moduleId:this.moduleId,flowId:this.stage.flowId}).then((function(t){e.dataList=t.data||[]}))},handleClick:function(e){this.detailDataId=e.dataId,this.detailModuleId=e.moduleId,this.zIndex=Object(g["o"])(),this.showDetail=!0}}},S=D,L=(a("60c2"),Object(I["a"])(S,T,A,!1,null,"4bfca131",null)),E=L.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-stage-item copy-stage"},[a("div",{staticClass:"stage-head"},[e._v(e._s(e.stage.flowName))]),e._v(" "),e.stage.flowStatus||0===e.stage.flowStatus?a("div",{staticClass:"stage-body"},e._l(e.stage.users,(function(t,n){return a("div",{key:n,staticClass:"stage-item"},[a("div",{staticClass:"content"},[a("span",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.realname))]),e._v(" "),e._m(0,!0)]),e._v(" "),e.dataList.length?a("div",{staticClass:"time"},[e._v("\n        "+e._s(e.dataList[0].updateTime)+"\n      ")]):e._e()])}))):a("div",{staticClass:"stage-body"},e._l(e.stage.users,(function(t,n){return a("div",{key:n,staticClass:"content"},[e._v(e._s(t.realname))])})))])},V=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"wk wk-icon-success2 agree"}),e._v("\n          已抄送\n        ")])}],M={name:"CopyStage",props:{stage:Object,dataId:[String,Number],moduleId:[String,Number]},data:function(){return{dataList:[]}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this;Object(u["d"])({dataId:this.dataId,moduleId:this.moduleId,flowId:this.stage.flowId}).then((function(t){e.dataList=t.data||[]}))}}},B=M,R=(a("6293"),Object(I["a"])(B,N,V,!1,null,"815d2ec0",null)),U=R.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-stage-item examine-stage"},[a("div",{staticClass:"stage-head"},[a("span",[e._v(e._s(e.stage.flowName))]),e._v(" "),3===e.stage.flowStatus?a("span",[e._v("·审批中("+e._s(e.completedLen)+"/"+e._s(e.dataList.length)+")")]):e._e(),e._v(" "),e.stage.content?a("el-tag",[e._v("\n      "+e._s(e.stage.content)+"\n    ")]):e._e()],1),e._v(" "),e.stage.flowStatus||0===e.stage.flowStatus?a("div",{staticClass:"stage-body"},e._l(e.dataList,(function(t,n){return a("div",{key:n,staticClass:"stage-item"},[a("div",{staticClass:"content"},[a("span",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.user.realname))]),e._v(" "),t.invalidType?a("span",[e._v(e._s(e.invalidTypeMap[t.invalidType]||""))]):t.overtimeType&&e.overTypeMap[t.overtimeType]&&8===t.flowStatus?a("span",[a("i",{staticClass:"wk-icon-success2",class:e.overTypeMap[t.overtimeType].className}),e._v("\n          "+e._s(e.overTypeMap[t.overtimeType].label)+"\n        ")]):e.getStatus(t.flowStatus)?a("span",[a("i",{class:e.getStatus(t.flowStatus).className}),e._v("\n          "+e._s(e.getStatus(t.flowStatus).value)+"\n        ")]):e._e()]),e._v(" "),t.remark?a("div",{staticClass:"remark"},[e._v(e._s(t.remark))]):e._e(),e._v(" "),t.overtimeType?[2===t.overtimeType&8===t.flowStatus?a("div",{staticClass:"remark"},[e._v("\n          【限时审批】流程在填写人处停留超过"+e._s(e._f("formatTime")(t.timeValue))+"，系统已【自动转交】\n        ")]):e._e(),e._v(" "),3===t.overtimeType&&1===t.flowStatus?a("div",{staticClass:"remark"},[e._v("\n          【限时审批】流程在填写人处停留超过"+e._s(e._f("formatTime")(t.timeValue))+"，系统已【自动同意】\n        ")]):e._e()]:e._e(),e._v(" "),t.flowStatus?a("div",{staticClass:"time"},[e._v("\n        "+e._s(t.updateTime)+"\n      ")]):e._e()],2)}))):a("div",{staticClass:"stage-body"},e._l(e.stage.data.userList,(function(t,n){return a("div",{key:n,staticClass:"content"},[e._v(e._s(t.realname))])})))])},W=[],$=(a("ac1f"),a("5319"),a("d81d"),a("2532"),a("6bfe")),z={name:"ExamineStage",filters:{formatTime:function(e){return e.replace("m","分钟").replace("h","小时").replace("d","天")}},inheritAttrs:!1,props:{stage:Object,dataId:[String,Number],moduleId:[String,Number]},data:function(){return{dataList:[],overTypeMap:{1:{label:"已超时，自动提醒",className:"wait"},2:{label:"超时未处理",className:"refuse"},3:{label:"审批通过",className:"agree"}},invalidTypeMap:{1:"已转交",2:"已撤回"}}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo"])),{},{completedLen:function(){return this.dataList.filter((function(e){return[1,2,8].includes(e.flowStatus)})).length}}),mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this;Object(u["d"])({dataId:this.dataId,moduleId:this.moduleId,flowId:this.stage.flowId}).then((function(t){e.dataList=(t.data||[]).filter((function(e){return 8!==e.flowStatus}));var a=!1,n=!1;1===e.stage.flowType&&0===e.stage.flowStatus&&(a=e.getExamineTransferStatus(),n=e.getExamineCheckStatus()),e.$set(e.stage,"canTransfer",a),e.$set(e.stage,"canExamine",n)}))},getStatus:function(e){var t=w["c"].find((function(t){return t.key===e}));if(!t)return null;var a={0:"wait wk wk-icon-check-pending",1:"agree wk wk-icon-success2",2:"refuse wk wk-icon-refuse",3:"await wk wk-icon-check-pending",4:"common wk wk-icon-withdraw"}[t.key],n=1===t.key?"审批通过":t.value;return Object(r["a"])(Object(r["a"])({},t),{},{value:n,className:a})},getExamineTransferStatus:function(){if(this.stage.isInvalid)return!1;var e=this.stage.timeLimitConfig;if(Object($["b"])(e)||!e.allowTransfer)return!1;var t=this.dataList.find((function(e){return 1===e.invalidType}));if(t)return!1;var a=this.dataList.filter((function(e){return 3===e.flowStatus})).map((function(e){return e.userId}));return a.includes(this.userInfo.userId)},getExamineCheckStatus:function(){if(this.stage.isInvalid)return!1;var e=this.dataList.filter((function(e){return 3===e.flowStatus&&!e.invalidType})).map((function(e){return e.userId}));return e.includes(this.userInfo.userId)}}},q=z,Z=(a("0fe5"),Object(I["a"])(q,P,W,!1,null,"c1c91a62",null)),Y=Z.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-stage-item fill-stage"},[a("div",{staticClass:"stage-head"},[a("span",[e._v(e._s(e.stage.flowName))]),e._v(" "),3===e.stage.flowStatus?a("span",[e._v("·填写中("+e._s(e.completedLen)+"/"+e._s(e.dataList.length)+")")]):e._e(),e._v(" "),e.stage.content?a("el-tag",[e._v("\n      "+e._s(e.stage.content)+"\n    ")]):e._e()],1),e._v(" "),e.stage.flowStatus||0===e.stage.flowStatus?a("div",{staticClass:"stage-body"},[e._l(e.dataList,(function(t,n){return a("div",{key:n,staticClass:"stage-item"},[a("div",{staticClass:"content"},[a("span",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.user.realname))]),e._v(" "),t.overtimeType&&e.overTypeMap[t.overtimeType]&&8===t.flowStatus?a("span",[a("i",{staticClass:"wk wk-icon-success2",class:e.overTypeMap[t.overtimeType].className}),e._v("\n          "+e._s(e.overTypeMap[t.overtimeType].label)+"\n        ")]):e.getStatus(t.flowStatus)?a("span",[a("i",{class:e.getStatus(t.flowStatus).className}),e._v("\n          "+e._s(e.getStatus(t.flowStatus).value)+"\n        ")]):e._e()]),e._v(" "),t.remark?a("div",{staticClass:"remark"},[e._v(e._s(t.remark))]):e._e(),e._v(" "),t.overtimeType?[1===t.overtimeType?a("div",{staticClass:"remark"},[e._v("\n          【限时填写】流程在填写人处停留超过"+e._s(e._f("formatTime")(t.timeValue))+"，系统已【自动提醒】\n        ")]):e._e(),e._v(" "),2===t.overtimeType&&8===t.flowStatus?a("div",{staticClass:"remark"},[e._v("\n          【限时填写】流程在填写人处停留超过"+e._s(e._f("formatTime")(t.timeValue))+"，系统已【自动转交】\n        ")]):e._e(),e._v(" "),3===t.overtimeType?a("div",{staticClass:"remark"},[e._v("\n          【限时填写】流程在填写人处停留超过"+e._s(e._f("formatTime")(t.timeValue))+"，系统已【自动通过】\n        ")]):e._e()]:e._e(),e._v(" "),a("div",{staticClass:"time"},[e._v("\n        "+e._s(t.updateTime)+"\n      ")]),e._v(" "),3===t.flowStatus&&String(e.userInfo.userId)===String(t.userId)?a("el-button",{staticClass:"can-visit",attrs:{type:"text",size:"medium"},on:{click:e.handleToFill}},[e._v("\n        填写节点信息\n      ")]):e._e()],2)})),e._v(" "),e.recordList.length>0?a("el-button",{staticClass:"can-visit",attrs:{type:"text",size:"medium"},on:{click:function(t){e.showFillInfo=!0}}},[e._v("\n      查看节点编辑信息\n    ")]):e._e()],2):a("div",{staticClass:"stage-body"},e._l(e.stage.data.userList,(function(t,n){return a("div",{key:n,staticClass:"content"},[e._v(e._s(t.realname))])}))),e._v(" "),a("el-dialog",{attrs:{title:"节点编辑信息","show-close":"",visible:e.showFillInfo,"append-to-body":"",width:"800px"},on:{"update:visible":function(t){e.showFillInfo=t}}},e._l(e.recordList,(function(t,n){return a("div",{key:n,staticClass:"handle"},[a("div",{staticClass:"handle-time"},[a("p",[e._v(e._s(e.$moment(t.updateTime).format("YYYY-MM-DD")))]),e._v(" "),a("p",[e._v(e._s(e.$moment(t.updateTime).format("HH:mm:ss")))])]),e._v(" "),a("xr-avatar",{staticClass:"handle-img",attrs:{id:t.user.userId,name:t.user.realname,size:32,src:t.user.img,disabled:!1}}),e._v(" "),a("div",{staticClass:"handle-content"},[a("div",{staticClass:"handle-content-title"},[a("p",{staticClass:"handle-content-title-serious"},[e._v("\n            "+e._s(t.user.realname)+" 编辑\n          ")]),e._v(" "),a("p",{staticClass:"handle-content-title-normal"},[e._v(e._s(e.stage.flowName))])]),e._v(" "),a("div",{staticClass:"handle-content-main"},[e._l(t.fieldForm,(function(t,n){return a("p",{key:n},[e._v("\n            "+e._s(t.name)+": 由"+e._s(t.oldValue||"空")+" 修改为 "+e._s(t.nowValue||"空")+"\n          ")])})),e._v(" "),t.overtimeType&&!t.fieldForm?a("p",[e._v("由于超时，系统自动通过，没有编辑")]):e._e()],2)])],1)})))],1)},K=[],J=(a("b64b"),{name:"FillStage",filters:{formatTime:function(e){return e.replace("m","分钟").replace("h","小时").replace("d","天")}},inheritAttrs:!1,props:{stage:Object,dataId:[String,Number],moduleId:[String,Number],fieldList:Array},data:function(){return{dataList:[],recordList:[],showFillInfo:!1,overTypeMap:{1:{label:"已超时，自动提醒",className:"wait"},2:{label:"已超时，自动转交",className:"refuse"},3:{label:"已超时，自动通过",className:"agree"}},examineTypeMap:{0:{label:"待填写",className:"wait"},1:{label:"已填写",className:"agree"}}}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo"])),{},{completedLen:function(){return this.dataList.filter((function(e){return 1===e.flowStatus})).length}}),mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this;Object(u["d"])({dataId:this.dataId,moduleId:this.moduleId,flowId:this.stage.flowId}).then((function(t){e.dataList=(t.data||[]).filter((function(e){return 8!==e.flowStatus}));var a=!1;2===e.stage.flowType&&3===e.stage.flowStatus&&(a=e.getExamineTransferStatus()),e.$set(e.stage,"canTransfer",a),e.getRecordList()})).catch((function(){}))},getStatus:function(e){var t=w["c"].find((function(t){return t.key===e}));if(!t)return null;var a={0:"wait wk wk-icon-check-pending",1:"agree wk wk-icon-success"}[t.key];return Object(r["a"])(Object(r["a"])({},t),{},{className:a})},getShowValue:function(e,t){if(Object($["b"])(t))return"";switch(e.formType){case"boolean_value":return 1===Number(t)?"是":"否"}return t},getRecordList:function(){var e=this;this.recordList=this.dataList.filter((function(e){return 1===e.flowStatus})),this.recordList.length&&this.recordList.forEach((function(t){var a=[];if(Object($["b"])(t.overtimeType)){var n=t.currentData[0],i=t.sourceData[0];Object.keys(n).forEach((function(t){var o=e.fieldList.find((function(e){return e.fieldName===t}));"handwriting_sign"!==o.formType&&n[t]!==i[t]&&a.push({name:o.name,fieldName:o.fieldName,formType:o.formType,nowValue:e.getShowValue(o,n[t]),oldValue:e.getShowValue(o,i[t])})}))}t.fieldForm=a}))},getExamineTransferStatus:function(){if(this.stage.isInvalid)return!1;var e=this.stage.timeLimitConfig;if(Object($["b"])(e)||!e.allowTransfer)return!1;var t=this.dataList.find((function(e){return 1===e.invalidType}));if(t)return!1;var a=this.dataList.filter((function(e){return 3===e.flowStatus})).map((function(e){return e.userId}));return a.includes(this.userInfo.userId)},handleToFill:function(){this.$emit("handle","fill")}}}),H=J,Q=(a("0dd6"),Object(I["a"])(H,G,K,!1,null,"6421c45a",null)),X=Q.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail-stage-item update-stage"},[a("div",{staticClass:"stage-head"},[e._v(e._s(e.stage.flowName))]),e._v(" "),e.stage.flowStatus||0===e.stage.flowStatus?a("div",{staticClass:"stage-body"},e._l(e.dataList,(function(t,n){return a("div",{key:n,staticClass:"stage-item"},[1===t.flowStatus?a("div",{staticClass:"time"},[e._v("\n        "+e._s(t.updateTime)+"\n      ")]):e._e(),e._v(" "),a("el-button",{staticClass:"can-visit",attrs:{type:"text",size:"medium"},on:{click:function(t){e.showInformation=!0}}},[e._v("\n        查看更新信息\n      ")])],1)}))):e._e(),e._v(" "),e.stage.flowStatus||0===e.stage.flowStatus?a("el-dialog",{staticClass:"update-dialog",attrs:{visible:e.showInformation,title:"查看更新信息",width:"800px","show-close":"","append-to-body":""},on:{"update:visible":function(t){e.showInformation=t}}},[a("p",{staticClass:"update-dialog-info"},[e._v("目标模块: "+e._s(e.moduleObj.categoryName||e.moduleObj.name))]),e._v(" "),a("p",{staticClass:"update-dialog-info"},[e._v("触发时间: "+e._s(e.dataList.length&&e.dataList[0].updateTime))]),e._v(" "),a("p",{staticClass:"update-dialog-info"},[e._v("\n      更新内容:\n      "+e._s(e.isEmpty(e.fieldForm)?"未找到符合条件的可更新数据":" ")+"\n    ")]),e._v(" "),a("div",{staticClass:"update-dialog-content"},[e._l(e.fieldForm,(function(t,n){return a("div",{key:n,staticClass:"update-dialog-info"},[e.isEmpty(t)?e._e():[a("span",[e._v(e._s(t[0].mainName)+":")]),e._v(" "),a("span",{staticClass:"can-visit",on:{click:function(a){e.handleClick(t[0])}}},[e._v("\n            "+e._s(t[0].mainValue)+"\n          ")]),e._v(" "),e._l(t,(function(t){return a("div",{key:t.fieldName,staticClass:"update-dialog-info-item"},[e._v("\n            "+e._s(t.name)+" :由 "+e._s(t.oldValue||"空")+" 变为 "+e._s(t.newValue)+"\n          ")])}))]],2)})),e._v(" "),e.isEmpty(e.addField)?e._e():a("div",[a("span",[e._v("添加数据:")]),e._v(" "),a("span",{staticClass:"can-visit",on:{click:function(t){e.handleClick(e.addField)}}},[e._v("\n          "+e._s(e.addField.mainValue)+"\n        ")])])],2)]):e._e(),e._v(" "),e.showDetail?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.detailDataId,"module-id":e.detailModuleId},on:{"hide-view":function(t){e.showDetail=!1}}})],1):e._e()],1)},te=[];function ae(e,t){for(var a=[],n=0;n<e.length;n++)for(var i in a.push([]),e[n])if(e[n][i]!==t[n][i]){var o={};o.fieldName=i,o.newValue=e[n][i],o.oldValue=t[n][i],o.dataId=e[n].dataId,o.moduleId=e[n].moduleId,a[n].push(o)}return a}function ne(e,t,a){return e.map((function(e){e.map((function(e){t.forEach((function(t){t.fieldName===e.fieldName&&(e.name=t.name,e.formType=t.formType),t.fieldId===a&&(e.mainName=t.name)}))}))}))}function ie(e){return e.filter((function(e){return e.filter((function(e){return["field_group"].includes(e.formType)||["ownerUserName"].includes(e.fieldName)}))}))}function oe(e,t,a,n){var i={};a.forEach((function(e){e.fieldId===n&&(i.fieldName=e.fieldName)}));for(var o=function(a){var n=function(n){n===i.fieldName&&t[a].map((function(t){t.mainValue=e[a][n]}))};for(var o in e[a])n(o)},c=0;c<e.length;c++)o(c)}function ce(e,t,a,n){var i={};a.forEach((function(e){e.fieldId===n&&(i.fieldName=e.fieldName)}));for(var o=0;o<e.length;o++)for(var c in e[o])c===i.fieldName&&(t.mainValue=e[o][c])}var re={name:"UpdateStage",components:{ModuleDetail:function(){return Promise.resolve().then(a.bind(null,"b0a1"))}},mixins:[y["a"]],inheritAttrs:!1,props:{stage:Object,dataId:[String,Number],moduleId:[String,Number],categoryId:[String,Number]},data:function(){return{dataList:[],showInformation:!1,targetModuleId:null,fieldForm:[],addField:{},showDetail:!1,zIndex:10,detailDataId:null,detailModuleId:null}},computed:{moduleObj:function(){return this.getModuleObjById(this.targetModuleId,{isLastVersion:!0})||{}}},mounted:function(){(this.stage.flowStatus||0===this.stage.flowStatus)&&this.getDetail()},methods:{isEmpty:function(e){return Object($["b"])(e)},getDetail:function(){var e=this;Object(u["d"])({dataId:this.dataId,moduleId:this.moduleId,flowId:this.stage.flowId}).then((function(t){e.dataList=t.data||[];var a=e.dataList[0];return Object($["b"])(a.sourceData)?Object($["b"])(a.currentData)?void(e.fieldForm=[]):(e.targetModuleId=a.currentData[0].moduleId,e.fieldForm=[],e.addField.moduleId=a.currentData[0].moduleId,e.addField.dataId=a.currentData[0].dataId,Object(l["d"])({moduleId:e.targetModuleId,categoryId:e.moduleObj.categoryId,version:e.moduleObj.version})):(e.targetModuleId=a.currentData[0].moduleId,e.fieldForm=ae(a.currentData,a.sourceData),Object(l["d"])({moduleId:e.targetModuleId,categoryId:e.moduleObj.categoryId,version:e.moduleObj.version}))})).then((function(t){Object($["b"])(e.fieldForm)||(ne(e.fieldForm,t.data,e.moduleObj.mainFieldId),e.fieldForm=ie(e.fieldForm),oe(e.dataList[0].currentData,e.fieldForm,t.data,e.moduleObj.mainFieldId)),Object($["b"])(e.addField)||ce(e.dataList[0].currentData,e.addField,t.data,e.moduleObj.mainFieldId)}))},handleClick:function(e){this.detailDataId=e.dataId,this.detailModuleId=e.moduleId,this.zIndex=Object(g["o"])(),this.showDetail=!0}}},se=re,le=(a("411a"),Object(I["a"])(se,ee,te,!1,null,"4b6644f8",null)),de=le.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"wkDialog",staticClass:"examine",attrs:{title:e.title,"append-to-body":!0,"close-on-click-modal":!1,visible:e.showDialog,width:"400px"},on:{"update:visible":function(t){e.showDialog=t},close:e.hiddenView}},[3===e.status?[a("span",{staticClass:"examine-choice-title"},[e._v("转交人")]),e._v(" "),e.stage.timeLimitConfig.transferUsers.length?a("el-select",{staticClass:"examine-choice-main",attrs:{multiple:"",clearable:"",placeholder:"请选择"},model:{value:e.userList,callback:function(t){e.userList=t},expression:"userList"}},e._l(e.stage.timeLimitConfig.transferUsers,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.realname,value:e.userId}})}))):a("wk-user-dialog-select",{staticClass:"examine-choice-main",attrs:{radio:!1},model:{value:e.userList,callback:function(t){e.userList=t},expression:"userList"}})]:e._e(),e._v(" "),a("div",{staticClass:"examine-content"},[3===e.status?a("p",{staticClass:"examine-content-title"},[e._v("转交原因")]):e._e(),e._v(" "),a("el-input",{attrs:{rows:5,maxlength:200,placeholder:e.placeholder,type:"textarea",resize:"none","show-word-limit":""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.handleClick("cancel")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleClick("confirm")}}},[e._v("\n      确 定\n    ")])],1)],2)},me=[],fe=a("8f81"),he=a("9dba"),pe={name:"ExamineHandle",components:{WkUserDialogSelect:fe["a"]},mixins:[he["a"]],props:{show:{type:Boolean,default:!1},status:{type:[String,Number],default:1},required:{type:Boolean,default:!1},stage:{type:Object}},data:function(){return{loading:!1,showDialog:!1,userList:[],content:""}},computed:{title:function(){return{1:"审批通过",2:"审批拒绝",3:"转交",4:"撤回审批"}[this.status]||""},placeholder:function(){var e={1:"请输入审批意见",2:"请输入拒绝意见",3:"请输入转交理由",4:"请输入撤回理由"}[this.status]||"";return e+=this.required?"（必填）":"（选填）",e}},watch:{show:{handler:function(e){this.showDialog=e},deep:!0,immediate:!0}},mounted:function(){},methods:{submitInfo:function(){if(!this.required||this.content)if(3===this.status){if(0===this.userList.length)return void this.$message.error("请选择转交的人员");this.$emit("transfer",{toUserIds:this.userList,remark:this.content})}else this.$emit("save",this.content);else this.$message.error(this.placeholder)},handleClick:function(e){"cancel"===e?(this.hiddenView(),this.resetInfo()):"confirm"===e&&this.submitInfo()},hiddenView:function(){this.$emit("close")},resetInfo:function(){this.content=""}}},ve=pe,be=(a("f294"),Object(I["a"])(ve,ue,me,!1,null,"c65c34bc",null)),ge=be.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{visible:e.dialogVisible,title:e.title,"close-on-click-modal":!1,width:"800px","custom-class":"no-padding-dialog","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleCancel}},[e.fieldList.length?a("el-form",{ref:"moduleForm",staticClass:"wk-form",attrs:{model:e.fieldForm,rules:e.fieldRules,"validate-on-rule-change":!1,"label-position":"top"}},e._l(e.fieldList,(function(t,n){return a("app-form-items",{key:n,attrs:{"field-from":e.fieldForm,"field-list":t,"module-id":e.moduleId},on:{change:e.formChange,"table-change":e.tableFormChange}})}))):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.handleCancel}},[e._v("取消")])],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"examine",attrs:{"close-on-click-modal":!1,visible:e.nextDialogVisible,width:"400px",title:"填写节点","append-to-body":""},on:{"update:visible":function(t){e.nextDialogVisible=t},close:function(t){e.nextDialogVisible=!1}}},[a("div",{staticClass:"examine-content"},[a("el-input",{attrs:{rows:5,maxlength:200,placeholder:e.placeholder,type:"textarea",resize:"none","show-word-limit":""},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveClick}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.handleCloseNext}},[e._v("取 消")])],1)])],1)},we=[],ke=(a("0481"),a("4069"),a("3d53")),Ce=a("6eca"),xe={name:"FillFormDialog",components:{AppFormItems:ke["default"]},mixins:[Ce["a"]],props:{moduleId:[String,Number],title:String,stage:Object,fillFields:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,dialogVisible:!0,nextDialogVisible:!1,fieldList:[],canFlow:!1,remarks:""}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo"])),{},{placeholder:function(){var e,t,a=null===(e=this.stage)||void 0===e||null===(t=e.timeLimitConfig)||void 0===t?void 0:t.openFeedback;return a?"请输入填写意见（必填）":"请输入填写意见（选填）"}}),created:function(){this.initForm()},methods:{initForm:function(){var e=this,t=[];this.fillFields.forEach((function(e){e.stylePercent=50;var a=t.length;t[a-1]&&t[a-1].length<2?t[a-1].push(Object(g["u"])(e)):t[a]=[Object(g["u"])(e)]})),this.loading=!0;var a={moduleId:this.moduleId,version:this.moduleObj.version};"update"===this.action.type&&(a.dataId=this.action.id);var n=[Object(l["c"])(a),Object(s["b"])(a),Object(l["a"])(a),Object(l["f"])(a),Object(l["e"])(a)];this.userInfo.isAdmin?n.push(new Promise((function(e,t){return e()}))):n.push(Object(k["b"])({moduleId:this.moduleId,userId:this.userInfo.userId})),"update"===this.action.type&&n.push(Object(s["n"])(Object(r["a"])(Object(r["a"])({},a),{},{replaceMask:!1}))),this.detailData=null,Promise.all(n).then(function(){var a=Object(c["a"])(regeneratorRuntime.mark((function a(n){var i,c,s,l,d,u,m,f,h,p,v,b,g,y,w,k,C,x,I,_;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=Object(o["a"])(n,7),c=i[0],c=void 0===c?{}:c,s=c.data,l=i[1],l=void 0===l?{}:l,d=l.data,u=i[2],u=void 0===u?{}:u,m=u.data,f=i[3],f=void 0===f?{}:f,h=f.data,p=i[4],p=void 0===p?{}:p,v=p.data,b=i[5],b=void 0===b?{}:b,g=b.data,y=i[6],y=void 0===y?{}:y,w=y.data,k=t||[],s=s||[],v=v||[],e.commonDefaultValList=d||[],e.formulaDefaultValList=(m||[]).filter((function(e){return 3===e.type})),e.defaultValueCondition=(m||[]).filter((function(e){return 2===e.type})),h=h||[],g=g||[],k=k.map((function(e){var t=[];return e.forEach((function(e){var a=g.find((function(t){return t.fieldId===e.fieldId}));(!a||a&&1!==a.authLevel)&&t.push(e)})),t.length?t:null})).filter((function(e){return!!e})),e.detailData=w||null,e.getMatchDefaultFieldIds(),C={},x={optList:s,unionList:h,authLevelLib:g,tagList:v},e.itemsForEach(k,(function(t){e.formatField(t,x),t.groupId?"detail_table"===t.formType&&(C[t.fieldName]=e.getDetailTableRule(t)):C[t.fieldName]=e.getRules(t)})),I=k.flat(1),e.formatUnion(k,I),_=[],k.forEach((function(t){var a=[];t.forEach((function(t){t.groupId?"detail_table"===t.formType&&(t.children=I.filter((function(e){return"detail_table"!==e.formType&&e.groupId===t.groupId})).map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{rules:e.getRules(t)})})),a.push(t)):a.push(t)})),a.length&&_.push(a)})),e.fieldList=_,e.fieldRules=C,e.flatFieldList=I,a.prev=36,!e.detailData){a.next=42;break}return a.next=40,e.setDefaultValueByDetail();case 40:a.next=45;break;case 42:return a.next=44,e.setDefaultValueByConfig();case 44:case 45:a.next=49;break;case 47:a.prev=47,a.t0=a["catch"](36);case 49:e.loading=!1;case 50:case"end":return a.stop()}}),a,null,[[36,47]])})));return function(e){return a.apply(this,arguments)}}()).catch((function(){e.loading=!1}))},handleNext:function(){this.stage?this.nextDialogVisible=!0:this.saveClick()},handleCloseNext:function(){this.nextDialogVisible=!1,this.remarks=""},handleCancel:function(){this.dialogVisible=!1,this.handleCloseNext(),this.$emit("close")},saveClick:function(){var e,t,a=this;if(!this.loading){if(null!==(e=this.stage)&&void 0!==e&&null!==(t=e.timeLimitConfig)&&void 0!==t&&t.openFeedback&&!this.remarks)return this.$message.error(this.placeholder),void(this.loading=!1);this.loading=!0,this.awaitLoading().then((function(){var e=a.$refs.moduleForm;e.validate(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n?(i=a.getSubmitParams(a.fieldList,a.fieldForm),i.remarks=a.remarks,a.validateByFormula(i.fieldDataList).then((function(){a.$emit("submit",i),a.handleCancel(),a.loading=!1})).catch((function(){a.loading=!1}))):(a.loading=!1,a.getFormErrorMessage(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})).catch((function(){a.loading=!1}))}}}},Ie=xe,_e=(a("8648"),Object(I["a"])(Ie,ye,we,!1,null,"58c3eadb",null)),je=_e.exports,Oe={name:"DetailStage",components:{AddStageItem:E,CopyStageItem:U,ExamineStageItem:Y,FillStageItem:X,UpdateStageItem:de,ExamineHandle:ge,FillFormDialog:je},props:{dataId:[String,Number],moduleDetail:Object,detailData:Object,fieldList:Array},data:function(){return{loading:!1,flowList:[],showExamineHandle:!1,examineStatus:null,statusMap:{0:{label:"待处理",color:"#FF991F",icon:"wk wk-icon-in-review"},1:{label:"通过",color:"#00875A",icon:"wk wk-icon-success"},2:{label:"拒绝",color:"#DE350B",icon:"wk wk-icon-refuse"},3:{label:"处理中",color:"#FF991F",icon:"wk wk-icon-in-review"},4:{label:"已撤回",color:"",icon:""}},showFillForm:!1,fillFieldsList:[],fieldForm:{}}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo"])),{},{currentStage:function(){return this.flowList.filter((function(e){return 0===e.flowStatus||null===e.flowStatus}))[0]||{}},examineRequired:function(){return!(!this.currentStage.timeLimitConfig||1!==this.currentStage.timeLimitConfig.openFeedback)},isExamineRecheck:function(){if(!this.currentStage)return!1;if(this.currentStage.isInvalid)return!1;if(1!==this.currentStage.flowType)return!1;if(String(this.currentStage.createUserId)!==String(this.userInfo.userId))return!1;var e=Number(this.currentStage.flowStatus);return![1,2,4].includes(e)},fillDialogAction:function(){return{type:"update",id:this.dataId}}}),mounted:function(){this.getFlowDetail()},methods:{getFlowDetail:function(){var e=this;this.loading=!0,this.flowList=[],Object(u["a"])({dataId:this.dataId,moduleId:this.moduleDetail.moduleId}).then((function(t){var a=t.data||[],n=-1;a.forEach((function(e,t){-1===n&&[2,4].includes(e.flowStatus)&&(n=t),-1!==n&&t>n&&(e.isInvalid=!0)})),e.flowList=a,e.loading=!1})).catch((function(){e.loading=!1}))},activeCom:function(e){return{1:"ExamineStageItem",2:"FillStageItem",3:"CopyStageItem",4:"AddStageItem",5:"UpdateStageItem"}[e]},handleCommand:function(e){"fill"===e&&this.initForm()},examineHandle:function(e){this.examineStatus=e,this.showExamineHandle=!0},examineSave:function(e){var t=this;this.examineLoading||(this.examineLoading=!0,Object(u["e"])({dataId:this.dataId,flowId:this.currentStage.flowId,recordId:this.detailData.examineRecord.recordId,remarks:e,status:this.examineStatus}).then((function(e){t.examineLoading=!1,t.showExamineHandle=!1,t.$emit("update")})).catch((function(){t.examineLoading=!1})))},examineTransfer:function(e){var t=this;Object(u["g"])(Object(r["a"])({dataId:this.dataId,moduleId:this.moduleDetail.moduleId,flowId:this.currentStage.flowId,fromUserId:this.userInfo.userId},e)).then((function(){t.$message.success("操作成功"),t.showExamineHandle=!1,t.$emit("update")})).catch((function(){}))},initForm:function(){var e=this,t=[],a=this.currentStage.data.fieldIds||[];a.forEach((function(a){var n=e.fieldList.find((function(e){return e.fieldId===a}));n&&t.push(Object(g["u"])(n))})),this.fillFieldsList=t,this.$nextTick((function(){e.showFillForm=!0}))},handleToSubmit:function(e){var t=this;this.loading=!0,e.moduleId=this.moduleDetail.moduleId,e.version=this.moduleDetail.version,e.dataId=this.dataId,e.flowId=this.currentStage.flowId,Object(u["f"])(e).then((function(e){t.loading=!1,t.$message.success("操作成功"),t.$emit("update")})).catch((function(){t.loading=!1}))}}},Fe=Oe,Te=(a("e541"),Object(I["a"])(Fe,O,F,!1,null,"6bbdf684",null)),Ae=Te.exports,De=a("d155"),Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.stageDetail?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"expanded-stage"},[a("flexbox",{staticClass:"stage-header"},[a("flexbox-item",[a("stage-timeline",{attrs:{list:e.stageList,"active-index":e.activeIndex,label:"stageName"},on:{click:e.handleStageClick}})],1),e._v(" "),a("div",{staticClass:"stage-handel"},[e.showBoost?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.boostNextStage(e.activeItem,1)}}},[e._v("\n        推进至阶段【"+e._s(e.activeItem.stageName)+"】\n      ")]):e._e(),e._v(" "),e.showUnfold?a("i",{class:["wk",e.isUnfold?"wk-shrink":"wk-full"],staticStyle:{cursor:"pointer"},on:{click:function(t){e.isUnfold=!e.isUnfold}}}):e._e()],1)],1),e._v(" "),e.activeItem&&e.isUnfold?a("div",{staticClass:"stage-body"},[e.activeItem.taskBOList&&e.activeItem.taskBOList.length?a("div",{staticClass:"stage-section"},[a("div",{staticClass:"stage-section__hd"},[e._v("阶段工作")]),e._v(" "),a("div",{staticClass:"stage-section__bd"},[a("el-checkbox-group",{staticClass:"task",attrs:{disabled:!e.editAuth},model:{value:e.stageForm.taskData,callback:function(t){e.$set(e.stageForm,"taskData",t)},expression:"stageForm.taskData"}},e._l(e.activeItem.taskBOList,(function(t,n){return a("el-checkbox",{key:n,staticClass:"task-item",attrs:{label:t.taskId}},[t.isMust&&e.editAuth?a("span",{staticClass:"isNull"},[e._v("*")]):e._e(),e._v(" "),a("span",{staticClass:"task-item-name"},[e._v("\n              "+e._s(t.taskName)+"\n              "),t.userId?a("span",{staticClass:"time"},[e._v("\n                "+e._s(t.username)+"于"+e._s(t.createTime)+"完成\n              ")]):e._e()])])})))],1)]):e._e()]):e._e(),e._v(" "),e.isUnfold?a("flexbox",{staticClass:"stage-footer",attrs:{align:"center",justify:"flex-end"}},[e.replyAuth?a("el-button",{on:{click:e.handleToReply}},[e._v("反馈（"+e._s(e.replyTotal)+"）")]):e._e(),e._v(" "),e.draftAuth?a("el-button",{on:{click:function(t){e.boostStage(e.activeItem,2)}}},[e._v("保存草稿")]):e._e(),e._v(" "),e.editAuth?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.boostStage(e.activeItem,1)}}},[e._v("提交")]):e._e()],1):e._e(),e._v(" "),e.showReply?a("div",{staticClass:"reply-wrapper"},[e.activeItem&&!e.activeItem.isActive?a("reply-comment",{directives:[{name:"loading",rawName:"v-loading",value:e.commentLoading,expression:"commentLoading"}],ref:"f_reply",on:{toggle:e.closeOtherReply,reply:e.handleReply}}):e._e(),e._v(" "),e.currentReplyList.length>0?a("comment-list",{ref:"comment_list",attrs:{props:e.commentListProps,list:e.currentReplyList},on:{delete:e.getReplyList,"close-other-reply":function(t){e.$refs.f_reply.toggleFocus(!0)}}}):e._e()],1):e._e()],1):e._e()},Le=[],Ee=(a("a630"),a("6062"),a("e9c4"),a("fb6a"),a("a15b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"stage-timeline",attrs:{align:"flex-start",justify:"flex-start",wrap:"wrap"}},[e._l(e.list,(function(t,n){return[t.isEnd?t.value?a("flexbox",{key:n,staticClass:"stage-item is-last",class:e.getStageClassName(t,n),staticStyle:{width:"unset"},nativeOn:{click:function(a){e.handleClick(t,n)}}},[a("div",{staticClass:"stage-item--icon stage-item-before"}),e._v(" "),a("i",{staticClass:"el-icon--left",class:t.value===t.successValue?"el-icon-check":"el-icon-close"}),e._v(" "),a("div",{staticClass:"stage-item-value"},[e._v("\n        "+e._s(t.value===t.successValue?t.successName:t.failedName)+"\n      ")]),e._v(" "),a("div",{staticClass:"stage-item--icon stage-item-after"})]):a("el-popover",{key:n,attrs:{"popper-class":"no-padding-popover",placement:"bottom",width:"150",trigger:"hover"}},[a("div",{staticClass:"state-handel-cont"},e._l(e.getEndList(t),(function(i,o){return a("flexbox",{key:o,staticClass:"state-handel-item",nativeOn:{click:function(a){e.handleClick(t,n,i)}}},[a("i",{staticClass:"state-handel-item-icon",class:i.icon,style:{color:i.color}}),e._v(" "),a("div",{staticClass:"state-handel-item-name"},[e._v(e._s(i.label))])])}))),e._v(" "),a("flexbox",{key:n,staticClass:"stage-item is-last",class:e.getStageClassName(t,n),attrs:{slot:"reference",align:"center",justify:"flex-start"},slot:"reference"},[a("div",{staticClass:"stage-item--icon stage-item-before"}),e._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--left"}),e._v(" "),a("div",{staticClass:"stage-item-value"},[e._v("\n          "+e._s(t[e.label])+"\n        ")]),e._v(" "),a("div",{staticClass:"stage-item--icon stage-item-after"})])],1):a("div",{key:n,staticClass:"stage-item",class:e.getStageClassName(t,n),on:{click:function(a){e.handleClick(t,n)}}},[a("div",{staticClass:"stage-item--icon stage-item-before"}),e._v(" "),a("div",{staticClass:"stage-item-value"},[e._v("\n        "+e._s(t[e.label])+"\n      ")]),e._v(" "),a("div",{staticClass:"stage-item--icon stage-item-after"})])]}))],2)}),Ne=[],Ve={name:"StageTimeline",props:{list:{type:Array,default:function(){return[]}},activeIndex:{type:Number,default:0},label:{type:String,default:"name"}},data:function(){return{}},watch:{activeIndex:function(){this.$forceUpdate()}},methods:{getStageClassName:function(e,t){var a=[];return e.isActive&&a.push("active"),t===this.activeIndex&&a.push("is-current"),a},getEndList:function(e){return[{label:e.successName,value:e.successValue,icon:"wk wk-icon-success",color:"#00875A"},{label:e.failedName,value:e.failedValue,icon:"wk wk-icon-refuse",color:"#DE350B"}]},handleClick:function(e,t,a){this.$emit("click",e,t,a)}}},Me=Ve,Be=(a("bc09"),Object(I["a"])(Me,Ee,Ne,!1,null,"367a0543",null)),Re=Be.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.commentLoading,expression:"commentLoading"}],staticClass:"reply-comment"},[e.showNoFocus?a("div",{staticClass:"no-focus",on:{click:function(t){e.toggleFocus()}}},[e._v("\n    请输入评论内容\n  ")]):[a("el-input",{attrs:{rows:3,maxlength:2e3,"show-word-limit":"",type:"textarea",placeholder:"请输入评论内容"},on:{blur:e.blurFun},model:{value:e.commentsTextarea,callback:function(t){e.commentsTextarea=t},expression:"commentsTextarea"}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.commentSubmit}},[e._v("评论")]),e._v(" "),a("el-button",{on:{click:e.closeComment}},[e._v("取消")])],1)])]],2)},Pe=[],We=a("5e38"),$e=a.n(We),ze={name:"ReplyComment",components:{},data:function(){return{commentLoading:!1,blurIndex:0,commentsTextarea:"",showEmoji:!1,showNoFocus:!1}},methods:{blurFun:function(e){this.blurIndex=e.target.selectionEnd},commentSubmit:function(){this.commentsTextarea?this.$emit("reply",$e()(this.commentsTextarea)):this.$message.error("评论内容不能为空")},closeComment:function(){this.$emit("close"),this.toggleFocus()},toggleFocus:function(e){this.showNoFocus="boolean"===typeof e?e:!this.showNoFocus,this.$emit("toggle",this.showNoFocus)}}},qe=ze,Ze=(a("c6ab"),Object(I["a"])(qe,Ue,Pe,!1,null,"9bbb0fe4",null)),Ye=Ze.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"comment-list"},e._l(e.list,(function(t,n){return a("div",{key:n,staticClass:"comment-list-item"},[a("div",{staticClass:"parent-reply reply"},[a("div",{staticClass:"user-info"},[a("xr-avatar",{staticClass:"user-img",attrs:{id:t.user.userId,name:t.user.realname,size:32,src:t.user.img,disabled:!1}}),e._v(" "),a("div",{staticClass:"user-info__bd"},[a("span",[a("wx-open-data",{attrs:{openid:t.user.realname}})],1),e._v(" "),a("span",{staticClass:"time"},[e._v("\n            "+e._s(e._f("formatTime")(t.createTime))+"\n          ")])])],1),e._v(" "),a("div",{staticClass:"content"},[e._v(e._s(t.content))]),e._v(" "),e.showControl?a("div",{staticClass:"control"},[a("el-button",{staticClass:"reply-btn",attrs:{type:"text"},on:{click:function(t){e.handleToReply(n)}}},[e._v("回复")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(a){e.handleToDelete(t,n)}}},[e._v("删除")])],1):e._e(),e._v(" "),e.replyIndex===String(n)?a("reply-comment",{on:{reply:e.handleReply,close:function(t){e.replyIndex=null}}}):e._e()],1),e._v(" "),t.childCommentList&&t.childCommentList.length>0?e._l(t.childCommentList,(function(t,i){return a("div",{key:i,staticClass:"child-reply-list"},[a("div",{staticClass:"child-reply reply"},[a("div",{staticClass:"user-info"},[a("xr-avatar",{staticClass:"user-img",attrs:{id:t.user.userId,name:t.user.realname,size:34,src:t.user.img,disabled:!1}}),e._v(" "),a("div",{staticClass:"user-info__bd"},[a("span",[a("wx-open-data",{attrs:{openid:t.user.realname}})],1),e._v(" "),a("span",{staticClass:"time"},[e._v("\n                "+e._s(t.createTime)+"\n              ")])])],1),e._v(" "),a("div",{staticClass:"child-content"},[a("span",[e._v("\n              回复 @"),a("wx-open-data",{attrs:{openid:t.replyUser.realname}}),e._v("：\n            ")],1),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(t.content))])]),e._v(" "),e.showControl?a("div",{staticClass:"control"},[a("el-button",{staticClass:"reply-btn",attrs:{type:"text"},on:{click:function(t){e.handleToReply(n,i)}}},[e._v("回复")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(a){e.handleToDelete(t,n,i)}}},[e._v("删除")])],1):e._e(),e._v(" "),e.replyIndex===n+"-"+i?a("reply-comment",{directives:[{name:"loading",rawName:"v-loading",value:e.commentLoading,expression:"commentLoading"}],on:{reply:e.handleReply,close:function(t){e.replyIndex=null}}}):e._e()],1)])})):e._e()],2)})))},Ke=[],Je=(a("1276"),a("8ed6")),He={addRequest:null,addParams:null,replyKey:"pid",replyValueKey:"userId",deleteRequest:null,deleteParams:null},Qe={name:"CommentList",components:{ReplyComment:Ye},filters:{formatTime:function(e){return Object(g["h"])(e)}},props:{props:{type:Object,default:function(){return{}}},list:{type:Array,required:!0},showControl:{type:Boolean,default:!0}},data:function(){return{replyIndex:null,commentLoading:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo"])),{},{config:function(){return Object(Je["a"])(Object(r["a"])({},He),this.props||{})}}),methods:{handleToReply:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(e).concat(null!==t?"-"+t:"");this.$emit("close-other-reply"),a!==this.replyIndex&&(this.replyIndex=a)},closeReply:function(){this.replyIndex=null},handleReply:function(e){var t=this,a={content:$e()(e)},n=null,i=this.replyIndex.split("-"),o=this.list[i[0]];i[1]&&(n=o.childCommentList[i[1]]),o&&(a.mainId=o.commentId,a[this.config.replyKey]=this.getReplyValue(o,this.config.replyValueKey)),n&&(a[this.config.replyKey]=this.getReplyValue(n,this.config.replyValueKey));var c=null;c="function"===typeof this.config.addParams?this.config.addParams(o,n,a):this.config.addParams,c||(c={}),this.commentLoading=!0,this.config.addRequest(Object(r["a"])(Object(r["a"])({},a),c)).then((function(e){e.data.user={userId:t.userInfo.userId,realname:t.userInfo.realname,img:t.userInfo.img},e.data.replyUser=n?n.user:o.user,t.list[i[0]].childCommentList.push(e.data),t.replyIndex=null,t.commentLoading=!1})).catch((function(){t.commentLoading=!1}))},getReplyValue:function(e,t){if(t.indexOf(".")<0)return e[t];for(var a=t.split("."),n=e,i=0;i<a.length;i++)if(n=n[a[i]],void 0===n)return"";return n},handleToDelete:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.config.deleteRequest(Object(r["a"])({commentId:e.commentId},a.config.deleteParams||{})).then((function(e){a.$message({type:"success",message:"删除成功!"}),n>=0?a.list[t].childCommentList.splice(n,1):a.$emit("delete",t)}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}}},Xe=Qe,et=(a("a25e"),Object(I["a"])(Xe,Ge,Ke,!1,null,"ef07f034",null)),tt=et.exports,at={name:"ExpandedStageIndex",components:{StageTimeline:Re,ReplyComment:Ye,CommentList:tt},props:{moduleId:[String,Number],version:[String,Number],dataId:[String,Number]},data:function(){return{loading:!1,stageDetail:null,stageList:[],isUnfold:!1,activeItem:null,activeIndex:null,stageForm:{taskData:[],fieldData:""},showReply:!1,replyList:[],commentLoading:!1,commentListProps:{}}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo","deptList"])),{},{currentIndex:function(){if(!this.stageList.length)return null;var e=-1;return this.stageList.forEach((function(t,a){t.isActive&&(e=a)})),e},showBoost:function(){if(!this.activeItem)return!1;if(this.currentIndex===this.stageList.length-1)return!1;var e=this.stageList[this.currentIndex+1];return!e.isEnd&&this.activeItem.stageId!==e.stageId},editAuth:function(){return!!this.activeItem&&(!this.activeItem.isActive&&!this.showBoost)},replyAuth:function(){return this.showUnfold},draftAuth:function(){return!!this.editAuth&&(this.activeItem.taskBOList&&this.activeItem.taskBOList.length||this.activeItem.fieldBOList&&this.activeItem.fieldBOList.length)},showUnfold:function(){return!!this.activeItem&&(this.activeItem.fieldBOList&&this.activeItem.fieldBOList.length||this.activeItem.flowSaveBOList&&this.activeItem.flowSaveBOList.length||this.activeItem.taskBOList&&this.activeItem.taskBOList.length)},currentReplyList:function(){var e=this;return this.replyList?this.replyList.filter((function(t){return t.stageId===e.activeItem.stageId})):[]},replyTotal:function(){if(!this.currentReplyList)return 0;var e=this.currentReplyList.length;return this.currentReplyList.forEach((function(t){e+=(t.childCommentList||[]).length})),e}}),watch:{activeItem:function(e){var t;this.stageForm.taskData=(null===e||void 0===e||null===(t=e.taskBOList)||void 0===t?void 0:t.filter((function(e){return e.userId})).map((function(e){return e.taskId})))||[]}},mounted:function(){this.getList(),this.getReplyList()},methods:{getList:function(){var e=this;this.loading=!0,Promise.all([Object(d["r"])({dataId:this.dataId}),Object(d["p"])({moduleId:this.moduleId,version:this.version,dataId:this.dataId})]).then((function(t){var a=Object(o["a"])(t,2),n=a[0];n=void 0===n?{}:n;var i=n.data,c=a[1];c=void 0===c?{}:c;var r=c.data;e.loading=!1,e.stageDetail=null;var s=i.find((function(e){return 1===e.status}));if(s){if(s.userIds.length||s.deptIds.length){var l=s.userIds,d=s.deptIds,u=l.includes(e.userInfo.userId),m=d.includes(e.userInfo.deptId);if(!m)for(var f=0;f<d.length;f++)if(m=e.isChildDept(e.userInfo.deptId,d[f]),m)break;if(!u&&!m)return}if(e.stageDetail=s,e.stageDetail){var h=Object(g["u"])(e.stageDetail.stageBOList);h.forEach((function(e){var t=r.find((function(t){return t.stageId===e.stageId}));t&&(t.taskData=t.taskData||[],(e.taskBOList||[]).forEach((function(e){var a=t.taskData.find((function(t){return t.taskId===e.taskId}));Object.assign(e,a||{})}))),e.data=t}));var p=-1;h.forEach((function(e,t){e.data&&[1,3,4].includes(e.data.status)&&(p=t)})),h.forEach((function(e,t){t<=p&&(e.isActive=!0)})),e.activeIndex=-1===p?0:p+1,e.activeIndex>=h.length-1&&(e.activeIndex=h.length-1);var v=r.find((function(e){return e.isMain}));h.push({stageName:"结束",value:v?v.status:null,isActive:!1,isEnd:!0,successName:e.stageDetail.successName,successValue:3,failedName:e.stageDetail.failedName,failedValue:4}),v?(h.forEach((function(e){e.isActive=!0})),e.stageList=h,e.activeItem=null):(e.stageList=h,e.activeItem=e.stageList[e.activeIndex])}}})).catch((function(){e.stageDetail=null,e.loading=!1}))},isChildDept:function(e,t){var a=this.findDept(t,this.deptList);if(!a)return!1;var n=this.findDept(e,a.children||[]);return!!n},findDept:function(e,t){for(var a=null,n=0;n<t.length;n++){if(t[n].deptId===e)return t[n];if(t[n].children&&(a=this.findDept(e,t[n].children),a))return a}return null},handleStageClick:function(e,t,a){if(e.isActive&&e.isEnd)return this.stageForm={taskData:[],fieldData:""},this.activeItem=null,this.activeIndex=t,void(this.isUnfold=!1);e.data&&e.data.taskData?this.stageForm={taskData:e.data.taskData.map((function(e){return e.taskId})).filter((function(e){return!!e})),fieldData:""}:this.stageForm={taskData:[],fieldData:""},a?(this.activeIndex=t,this.boostStage(e,a.value,a)):(this.activeItem=e,this.activeIndex=t,this.isUnfold=!0)},handleToReply:function(){var e=this;this.commentListProps={addRequest:d["o"],addParams:function(t,a){var n={stageId:e.activeItem.stageId,stageSettingId:e.stageDetail.stageSettingId,dataId:e.dataId,moduleId:e.moduleId};return t&&(n.replyUserId=t.user.userId),a&&(n.replyUserId=a.user.userId),n},replyKey:"commentId",replyValueKey:"user.userId",deleteRequest:d["n"],deleteParams:{dataId:this.dataId,moduleId:this.moduleId}},this.showReply=!this.showReply},getReplyList:function(){var e=this;this.loading=!0,Object(d["m"])({dataId:this.dataId}).then((function(t){var a=t.data||[],n=[],i=a.filter((function(e){return"0"===e.mainId})).map((function(e){return e.commentId}));i=Array.from(new Set(i)),i.forEach((function(e){var t=a.find((function(t){return t.commentId===e}));t.childCommentList=a.filter((function(t){return t.mainId===e})),n.push(t)})),e.replyList=n,e.loading=!1})).catch((function(){e.loading=!1}))},closeOtherReply:function(e){!e&&this.$refs.comment_list&&this.$refs.comment_list.closeReply()},handleReply:function(e){var t=this,a={content:e,stageId:this.activeItem.stageId,stageSettingId:this.stageDetail.stageSettingId,dataId:this.dataId,moduleId:this.moduleId};this.commentLoading=!0,Object(d["o"])(a).then((function(e){t.getReplyList(),e.data.user={userId:t.userInfo.userId,realname:t.userInfo.realname,img:t.userInfo.img},e.data.childCommentList=[],t.replyList.push(e.data),t.$refs.f_reply.commentsTextarea="",t.commentLoading=!1})).catch((function(){t.commentLoading=!1}))},boostNextStage:function(e,t){if(e.isActive)this.boostStage(e,t);else{var a=this.activeIndex-1;this.boostStage(this.stageList[a],t)}},boostStage:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i="",o=!1;if(e.isActive&&(i="更改阶段将删除已完成阶段的阶段记录，确定更改?",o=!0,this.stageForm.taskData=[]),n&&(i="确定设为".concat(n.label,"吗？")),2!==t&&!e.isActive){var c=this.checkBoost(e);if(!c)return}var s,l=Object(r["a"])({dataId:this.dataId,isMain:!!n,moduleId:this.moduleId,version:this.version,stageId:n?"0":e.stageId,stageName:e.stageName,stageSettingId:this.stageDetail.stageSettingId,sort:n?this.stageList.length-1:this.activeIndex,clearAll:o,status:t},Object(g["u"])(this.stageForm));l.taskData&&(l.taskData=null===(s=l.taskData)||void 0===s?void 0:s.map((function(e){var t=a.activeItem.taskBOList.find((function(t){return t.taskId===e}));return{taskId:e,userId:t.userId||a.userInfo.userId,createTime:t.createTime||a.$moment().format("YYYY-MM-DD HH:mm:ss")}})),l.taskData=JSON.stringify(l.taskData));i?this.$confirm(i,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.boost(l)})).catch((function(){})):this.boost(l)},checkBoost:function(e){for(var t=this,a=this.stageList.slice(0,this.activeIndex),n=0;n<a.length;n++){var i=a[n];if(!i.isActive){var o=(i.taskBOList||[]).filter((function(e){return e.isMust}));if(o.length)return this.$message.error("请先完成".concat(i.stageName,"的推进")),!1}}var c=[],r=(e.taskBOList||[]).filter((function(e){return e.isMust}));return r.forEach((function(e){t.stageForm.taskData.includes(e.taskId)||c.push(e.taskName)})),!c.length||(this.$message.error("阶段工作".concat(c.join("、"),"为必做")),!1)},boost:function(e){var t=this;this.loading||(this.loading=!0,Object(d["q"])(e).then((function(){t.$message.success("保存成功"),t.getList(),t.loading=!1})).catch((function(){t.loading=!1})))}}},nt=at,it=(a("ba30"),Object(I["a"])(nt,Se,Le,!1,null,"169c3d1f",null)),ot=it.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-base-info"},[e._l(e.list,(function(t,n){return a("wk-head-section",{key:n,staticClass:"section",attrs:{label:t.name,props:{headBgColor:"#FAFBFC",arrows:"left",border:!1,bodyPadding:"0"}}},[a("flexbox",{staticClass:"section-body",attrs:{gutter:0,align:"stretch",wrap:"wrap"}},e._l(t.list,(function(t,n){return a("flexbox-item",{key:n,staticClass:"cell-wrapper",attrs:{span:e.getShowBlock(t.formType)?12:.5}},[["desc_text","field_group"].includes(t.formType)?a("flexbox",{staticClass:"cell",class:t.formType},[a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:t.value}})],1):a("flexbox",{staticClass:"cell"},[a("div",{staticClass:"cell-title"},[e._v(e._s(t.name))]),e._v(" "),["data_union","data_union_multi"].includes(t.formType)?a("flexbox-item",{staticClass:"cell-value"},e._l(t.value,(function(n,i){return a("span",{key:i,class:{"can-visit":t.module&&!t.module.relateModuleId},on:{click:function(a){a.stopPropagation(),e.handleUnionModuleClick(n,t.module)}}},[e._v(e._s(n.value)),i<t.value.length-1?[e._v("，")]:e._e()],2)}))):"detail_table"===t.formType?a("flexbox-item",{staticClass:"cell-value"},[a("wk-detail-table-view",{attrs:{field:t,"data-list":t.value||[]},on:{click:e.handleUnionModuleClick}})],1):"field_tag"===t.formType?a("flexbox-item",{staticClass:"cell-value"},[a("tag-view",{attrs:{"item-bottom":0,value:t.value}})],1):a("flexbox-item",{staticClass:"cell-value"},[a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:t.value},scopedSlots:e._u([{key:"default",fn:function(a){a.data;return[e._v("\n                "+e._s(t.value)+"\n              ")]}}])})],1)],1)],1)})))],1)})),e._v(" "),e.showMapView?a("map-view",{attrs:{title:e.mapViewInfo.title,lat:e.mapViewInfo.lat,lng:e.mapViewInfo.lng},on:{hidden:function(t){e.showMapView=!1}}}):e._e(),e._v(" "),e.showDetail?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.unionDataId,"module-id":e.unionModuleId},on:{"hide-view":function(t){e.showDetail=!1}}})],1):e._e()],2)},rt=[],st=a("b5b9"),lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-head-section wrap",class:{"is-no-border":!e.config.border}},[a("div",{staticClass:"section-head",class:{"is-unfold":e.unfold},style:{"background-color":e.config.headBgColor},on:{click:function(t){e.unfold=!e.unfold}}},["left"===e.config.arrows?a("i",{staticClass:"el-icon-arrow-down"}):e._e(),e._v(" "),a("div",{staticClass:"section-title text-one-line"},[e._v(e._s(e.label))]),e._v(" "),e._t("otherLabel"),e._v(" "),a("div",{staticClass:"section-right"},[e._t("right"),e._v(" "),"right"===e.config.arrows?a("i",{staticClass:"el-icon-arrow-down"}):e._e()],2)],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.unfold,expression:"unfold"}],staticClass:"section-body",style:{padding:e.config.bodyPadding}},[e._t("default")],2)])},dt=[],ut={headBgColor:"transparent",arrows:"right",border:!0,bodyPadding:"16px"},mt={name:"WkHeadSection",components:{},props:{props:Object,label:[String,Number]},data:function(){return{unfold:!0}},computed:{config:function(){return Object(Je["a"])(Object(r["a"])({},ut),this.props||{})}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},ft=mt,ht=(a("80a8"),Object(I["a"])(ft,lt,dt,!1,null,"410cca98",null)),pt=ht.exports,vt=a("566f"),bt=a("8967"),gt=a("ad0e"),yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wk-detail-table-view"},[1===e.field.precisions?e._l(e.dataList,(function(t,n){return a("div",{key:n,staticClass:"detail-item"},[a("flexbox",{staticClass:"detail-item__head"},[a("div",{staticClass:"detail-item__head-title"},[e._v(e._s(e.field.name)+"（"+e._s(n+1)+"）")])]),e._v(" "),a("flexbox",{staticClass:"wk-form-items",attrs:{align:"flex-start",wrap:"wrap",justify:"flex-start"}},[e._l(e.field.children,(function(n,i){return[e.getShowValue(n)?a("div",{key:i,staticClass:"wk-form-item",class:["is-"+n.formType],style:{width:n.stylePercent?n.stylePercent+"%":"auto"}},[a("div",{staticClass:"wk-form-item__label"},[e._v(e._s(n.name))]),e._v(" "),"data_union"===n.formType?[t[n.fieldName]?a("el-button",{staticClass:"can-visit",staticStyle:{"font-size":"13px"},attrs:{type:"text",size:"medium"},on:{click:function(a){a.stopPropagation(),e.handleClick(t[n.fieldName])}}},[e._v("\n                "+e._s(t[n.fieldName].value)+"\n              ")]):e._e()]:a("wk-field-view",{attrs:{props:n,"form-type":n.formType,value:e.getFieldShowValue(n,t)},scopedSlots:e._u([{key:"default",fn:function(a){a.data;return[e._v("\n                "+e._s(e.getFieldShowValue(n,t))+"\n              ")]}}])})],2):e._e()]}))],2)],1)})):2===e.field.precisions?a("div",{staticClass:"detail-item"},[e.showTable?a("el-table",{staticClass:"wk-table-items",staticStyle:{width:"100%"},attrs:{data:e.dataList}},e._l(e.field.children,(function(t,n){return a("el-table-column",{directives:[{name:"show",rawName:"v-show",value:e.getShowValue(t),expression:"getShowValue(item)"}],key:n,attrs:{prop:t.field,label:t.name,"min-width":e.getMinWidth(t.formType)},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.row;return["data_union"===t.formType?[i[t.fieldName]?a("el-button",{staticClass:"can-visit",staticStyle:{"font-size":"13px"},attrs:{type:"text",size:"medium"},on:{click:function(a){a.stopPropagation(),e.handleClick(i[t.fieldName])}}},[e._v("\n              "+e._s(i[t.fieldName].value)+"\n            ")]):e._e()]:a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:e.getFieldShowValue(t,i)},scopedSlots:e._u([{key:"default",fn:function(a){a.data;return[e._v("\n              "+e._s(e.getFieldShowValue(t,i))+"\n            ")]}}])})]}}])})}))):e._e()],1):e._e()],2)},wt=[],kt=a("15cc"),Ct={name:"WkDetailTableView",components:{WkFieldView:function(){return Promise.resolve().then(a.bind(null,"8967"))}},props:{field:{type:Object,required:!0},dataList:{type:Array,default:function(){return[]}}},data:function(){return{showTable:!0}},mounted:function(){var e=this;this.$nextTick((function(){e.showTable=!1,e.$nextTick((function(){e.showTable=!0}))})),this.dataList.length||1!==this.field.precisions||this.dataList.push({})},methods:{getMinWidth:function(e){return{boolean_value:100,date_interval:320}[e]||220},getFieldShowValue:function(e,t){return Object(kt["b"])(e.formType,t[e.fieldName],e)},getShowValue:function(e){return!e.hasOwnProperty("show")||e.show},handleClick:function(e){this.$emit("click",e)}}},xt=Ct,It=(a("efe5"),Object(I["a"])(xt,yt,wt,!1,null,"44814283",null)),_t=It.exports,jt=a("18b2"),Ot={name:"ModuleBaseInfo",components:{WkHeadSection:pt,MapView:vt["a"],TagView:gt["a"],WkFieldView:bt["default"],WkDetailTableView:_t,ModuleDetail:function(){return Promise.resolve().then(a.bind(null,"b0a1"))}},inheritAttrs:!1,props:{moduleId:[String,Number],moduleData:Object,detailData:Object,fieldList:Array,authLevelLib:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,moduleFieldList:[],list:[],showMapView:!1,mapViewInfo:{},showDetail:!1,unionDataId:null,unionModuleId:null,zIndex:0}},watch:{detailData:function(){this.detailData&&this.initCom()}},mounted:function(){this.initCom()},methods:{initCom:function(){var e=this,t=Object(g["u"])(this.fieldList).filter((function(t){if(t.isHidden)return!1;var a=((e.authLevelLib||[]).find((function(e){return e.fieldId===t.fieldId}))||{}).authLevel;return 1!==a})),a=t.find((function(e){return"desc_text"===e.formType}));if(!a)return this.moduleFieldList=this.formatFieldsList(t),void this.renderData();Object(l["a"])({moduleId:this.moduleData.moduleId,version:this.moduleData.version}).then((function(a){var n=a.data||[];t.forEach((function(e){if("desc_text"===e.formType){var t=n.find((function(t){return t.fieldId===e.fieldId}));e.value=t?t.value:""}})),e.moduleFieldList=e.formatFieldsList(t),e.renderData()})).catch((function(){e.moduleFieldList=e.formatFieldsList(t),e.renderData()}))},formatFieldsList:function(e){return e.forEach((function(t){"detail_table"===t.formType&&(t.children=e.filter((function(e){return e.groupId===t.groupId&&"detail_table"!==e.formType})))})),e.filter((function(e){return!e.groupId||"detail_table"===e.formType}))},renderData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.detailData.fieldDataCommon||{},n=e.detailData.fieldDataList||[],i=regeneratorRuntime.mark((function t(a){var i,o,c,r,s,l,d,u,m,f,h,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.moduleFieldList[a],"desc_text"!==i.formType){t.next=3;break}return t.abrupt("return","continue");case 3:if(o=n.find((function(e){return e.fieldId===i.fieldId})),o){t.next=7;break}return e.$set(i,"value",Object(kt["b"])(i.formType,null,i)),t.abrupt("return","continue");case 7:if("file"!==i.formType){t.next=13;break}return t.next=10,e.getFilesByBatchId(o.value);case 10:return c=t.sent,e.$set(i,"value",c),t.abrupt("return","continue");case 13:if("detail_table"!==i.formType){t.next=37;break}if(e.$set(i,"moduleId",e.moduleData.moduleId),e.$set(i,"version",e.moduleData.version),r=Object(kt["b"])(i.formType,o.value,i,{formatFunc:function(e,t){if("percent"===e)return t}}),s=i.children.filter((function(e){return"file"===e.formType})),!s.length||!r.length){t.next=35;break}l=0;case 20:if(!(l<r.length)){t.next=35;break}d=r[l],u=0;case 23:if(!(u<s.length)){t.next=32;break}if(m=s[u].fieldName,!d[m]){t.next=29;break}return t.next=28,e.getFilesByBatchId(d[m]).catch((function(){return[]}));case 28:d[m]=t.sent;case 29:u++,t.next=23;break;case 32:l++,t.next=20;break;case 35:return e.$set(i,"value",r),t.abrupt("return","continue");case 37:if(!["data_union","data_union_multi"].includes(i.formType)){t.next=53;break}if(f=Object(g["v"])(o.value)||{},!f.module){t.next=52;break}if(!f.module.relateModuleId){t.next=49;break}return t.next=44,Object(jt["a"])(e.moduleId,i.fieldId,f.values||[]).catch((function(){}));case 44:h=t.sent,h&&e.$set(i,"value",Object.keys(h).map((function(e){return h[e]}))),t.next=51;break;case 49:p=Object(kt["b"])(i.formType,o.value,i),e.$set(i,"value",Object($["a"])(p)?p:[p]);case 51:e.$set(i,"module",f.module);case 52:return t.abrupt("return","continue");case 53:e.$set(i,"value",Object(kt["b"])(i.formType,o.value,i));case 54:case"end":return t.stop()}}),t)})),o=0;case 4:if(!(o<e.moduleFieldList.length)){t.next=12;break}return t.delegateYield(i(o),"t0",6);case 6:if(c=t.t0,"continue"!==c){t.next=9;break}return t.abrupt("continue",9);case 9:o++,t.next=4;break;case 12:e.moduleFieldList=e.moduleFieldList.filter((function(e){return e.fieldType})),r=[{name:"负责人",formType:"user",value:a.ownerUserName},{name:"创建时间",formType:"datetime",value:a.createTime},{name:"更新时间",formType:"datetime",value:a.updateTime},{name:"创建人",formType:"user",value:a.createUserName}],e.list=[{name:"基本信息",list:e.moduleFieldList},{name:"系统信息",list:r}],e.getFlowDetail(e.detailData.dataId,a);case 17:case"end":return t.stop()}}),t)})))()},getFlowDetail:function(e,t){var a=this;t&&t.currentFlowId&&Object(u["a"])({dataId:e,moduleId:this.moduleId}).then((function(e){var n=e.data,i=n.find((function(e){return e.flowId===t.currentFlowId}));if(i){a.list[1].list.push({name:"当前节点",formType:"text",value:i.flowName});var o=w["c"].find((function(e){return e.key===t.flowStatus}));a.list[1].list.push({name:"节点状态",formType:"text",value:o?o.value:""})}})).catch((function(){}))},getFilesByBatchId:function(e){return new Promise((function(t,a){if(!e)return t([]);Object(st["e"])(e).then((function(e){t(e.data||[])})).catch((function(){t([])}))}))},checkMapView:function(e){e.value&&""!==e.value&&(this.mapViewInfo={title:e.value.location,lat:e.value.lat,lng:e.value.lng},this.showMapView=!0)},getShowBlock:function(e){return["map_address","file","detail_table","field_group","desc_text"].includes(e)},handleUnionModuleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&t.relateModuleId||(this.unionDataId=e.dataId,this.unionModuleId=e.moduleId,this.zIndex=Object(g["o"])(),this.showDetail=!0)}}},Ft=Ot,Tt=(a("b349"),Object(I["a"])(Ft,ct,rt,!1,null,"35e6b497",null)),At=Tt.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"rc-cont"},[a("div",{staticClass:"rc-head"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.addFile(t)}}},[e._v("上传附件")]),e._v(" "),a("input",{staticClass:"rc-head-file",attrs:{id:"file",type:"file",accept:"*/*",multiple:""},on:{change:e.uploadFile}})],1),e._v(" "),e.tableVisible?a("el-table",{staticClass:"file-table",attrs:{data:e.list,height:e.tableHeight,stripe:""},on:{"row-click":e.handleRowClick}},[e._l(e.tableFieldList,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":""}})})),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"can-visit--underline",staticStyle:{padding:"0"},attrs:{type:"text"},nativeOn:{click:function(a){e.handleFile("preview",t)}}},[e._v("预览")]),e._v(" "),a("el-button",{staticClass:"can-visit--underline",staticStyle:{padding:"0"},attrs:{type:"text"},nativeOn:{click:function(a){e.handleFile("download",t)}}},[e._v("下载")]),e._v(" "),a("el-button",{staticClass:"can-visit--underline",staticStyle:{padding:"0"},attrs:{disabled:1==t.row.readOnly,type:"text"},nativeOn:{click:function(a){e.handleFile("edit",t)}}},[e._v("重命名")]),e._v(" "),a("el-button",{staticClass:"can-visit--underline",staticStyle:{padding:"0"},attrs:{disabled:1==t.row.readOnly,type:"text"},nativeOn:{click:function(a){e.handleFile("delete",t)}}},[e._v("删除")])]}}])})],2):e._e(),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,"close-on-click-modal":!1,visible:e.editDialog,title:"编辑",width:"30%"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{attrs:{model:e.editForm}},[a("el-form-item",{attrs:{label:"新名称","label-width":"100"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmEdit}},[e._v("确 定")])],1)],1)],1)},St=[],Lt=a("2934"),Et=a("f550"),Nt=a("7a1a"),Vt={name:"ModuleFiles",components:{},inheritAttrs:!1,props:{id:[String,Number],detailData:{type:Object,default:function(){return{}}},fieldList:Array,moduleData:Object},data:function(){return{loading:!1,batchId:null,list:[],tableFieldList:[],tableHeight:"400px",editDialog:!1,editForm:{name:"",data:{}},tableVisible:!0}},inject:["rootTabs"],computed:{},watch:{id:function(){this.list=[],this.getDetail()},"rootTabs.currentName":function(e){"ModuleFiles"===e&&this.getDetail(!1)}},mounted:function(){var e=this;this.tableFieldList.push({prop:"name",label:"附件名称"}),this.tableFieldList.push({prop:"size",label:"附件大小"}),this.tableFieldList.push({prop:"createUserName",label:"上传人"}),this.tableFieldList.push({prop:"createTime",label:"上传时间"}),this.$nextTick((function(){e.getDetail()})),this.debouncedGetDetail=Object(Nt["debounce"])(300,(function(){e.$emit("update")}))},methods:{getDetail:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.loading)if(this.loading=t,this.batchId)this.getFileListByBatchId();else{if(!this.id)return void(this.loading=!1);Object(Et["e"])({moduleId:this.moduleData.moduleId,dataId:this.id}).then((function(t){e.batchId=t.data?t.data.batchId:null,e.loading=!1,e.getFileListByBatchId()})).catch((function(){e.loading=!1}))}},getFileListByBatchId:function(){var e=this,t=[];(this.detailData.fieldDataList||[]).forEach((function(a){var n=e.fieldList.find((function(e){return e.fieldId==a.fieldId}));n&&"file"===n.formType&&a.value&&t.push(a.value)}));var a=[];if(this.batchId&&t.push(this.batchId),!t.length)return this.loading=!1,void(this.list=[]);t.forEach((function(e){a.push(Object(st["e"])(e))})),Promise.all(a).then((function(t){e.loading=!1;var a=t.map((function(e){return e.data||[]})).flat(2);e.list=a.map((function(e){return e.size=Object(g["g"])(e.size),e}))})).catch((function(){e.loading=!1}))},addFile:function(){document.getElementById("file").click()},uploadFile:function(e){for(var t=this,a=e.target.files,n=0;n<a.length;n++){var i=a[n],o={};this.batchId&&(o.batchId=this.batchId),this.$wkUploadFile.upload({file:i,params:o}).then(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.res.data.batchId,n===t.batchId){e.next=5;break}return e.next=4,Object(Et["f"])({moduleId:t.moduleData.moduleId,dataId:t.id,batchId:n});case 4:t.batchId=n;case 5:t.debouncedGetDetail();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){}))}e.target.value=""},handleRowClick:function(e,t,a){},showPreviewBtn:function(e){return Object(g["b"])(e.row.name)},handleFile:function(e,t){var a=this;"preview"===e?Object(g["b"])(t.row.name)?Object(g["C"])(t.row.url,t.row.name):this.$wkPreviewFile.preview({index:t.$index,data:this.list}):"delete"===e?this.$confirm("您确定要删除该文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(st["b"])(t.row.fileId).then((function(e){a.list.splice(t.$index,1),a.$message.success("操作成功")})).catch((function(){}))})).catch((function(){})):"download"===e?Object(Lt["i"])(t.row.url).then((function(e){var a=new Blob([e.data],{type:""});Object(g["f"])(a,t.row.name)})).catch((function(){})):(this.editForm.data=t,this.editForm.name=t.row.name,this.editDialog=!0)},confirmEdit:function(){var e=this;this.editForm.name&&Object(st["g"])({fileId:this.editForm.data.row.fileId,name:this.editForm.name}).then((function(t){e.$message.success("编辑成功"),e.editDialog=!1;var a=e.list[e.editForm.data.$index];a.name=e.editForm.name,e.$set(e.list,e.editForm.data.$index,a)})).catch((function(){}))}}},Mt=Vt,Bt=(a("6f03"),Object(I["a"])(Mt,Dt,St,!1,null,"2eb7be79",null)),Rt=Bt.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"empty",rawName:"v-empty",value:e.list,expression:"list"}],staticClass:"rc-cont",staticStyle:{"min-height":"500px","padding-right":"10%"}},e._l(e.list,(function(t,n){return a("flexbox",{key:n,staticClass:"ha-cont",attrs:{align:"stretch",justify:"flex-start"}},[a("div",{staticClass:"ha-week"},[e._v(e._s(e._f("filterTimestampToFormatTime")(t.createTime,"MM-DD dddd")))]),e._v(" "),a("div",{staticClass:"ha-circle"}),e._v(" "),a("div",{staticClass:"ha-time"},[e._v(e._s(e._f("filterTimestampToFormatTime")(t.createTime,"HH:mm")))]),e._v(" "),a("xr-avatar",{staticClass:"ha-img",attrs:{id:t.createUser.userId,name:t.createUser.realname,size:32,src:t.createUser.img,disabled:!1}}),e._v(" "),a("div",{staticClass:"ha-name"},[e._v(e._s(t.createUser.realname))]),e._v(" "),"team"===e.getType(t.actionType)?[t.createUser.userId===t.teamUser.userId&&"移除团队成员"===t.remarks?[a("div",{staticClass:"ha-content"},[a("span",[e._v("退出了团队")])])]:[a("div",{staticClass:"ha-content"},[a("span",[e._v(e._s(t.remarks))])]),e._v(" "),a("div",{staticClass:"ha-name"},[e._v(e._s(t.teamUser.realname))])]]:"transfer"===e.getType(t.actionType)?[a("div",{staticClass:"ha-content"},[a("span",[e._v(e._s(t.remarks)+"给了")])]),e._v(" "),a("div",{staticClass:"ha-name"},[e._v(e._s(t.toUser.realname))])]:"examine"===e.getType(t.actionType)?[a("div",{staticClass:"ha-content"},[a("span",[e._v(e._s(t.remarks)+"了")])]),e._v(" "),a("div",{staticClass:"ha-name"},[e._v(e._s(t.examineRecord.createUser.realname))]),e._v(" "),a("div",{staticClass:"ha-content"},[a("span",[e._v("的审批")])])]:1===t.actionType?[a("div",{staticClass:"ha-content"},e._l(e.getEditorHistory(t),(function(t,n){return a("p",{key:n},[e._v("\n          将"+e._s(t.name||t.fieldId)+" 由"+e._s(e.getEditorVal(t,t.oldValue))+"修改为"+e._s(e.getEditorVal(t,t.value))+"。\n        ")])})))]:[a("div",{staticClass:"ha-content"},[a("span",[e._v(e._s(t.remarks)+"了")])]),e._v(" "),a("div",{staticClass:"ha-content"},[e._v(e._s(e.getContent(t)))])],e._v(" "),a("div",{staticClass:"ha-line"})],2)})))},Pt=[],Wt={name:"ModuleOperationRecord",mixins:[y["a"]],inheritAttrs:!1,props:{id:[String,Number],moduleData:Object},data:function(){return{loading:!1,list:[]}},inject:["rootTabs"],computed:{},watch:{id:function(e){this.list=[],this.getDetail()},"rootTabs.currentName":function(e){"ModuleOperationRecord"===e&&this.getDetail(!1)}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=t,Object(s["m"])({dataId:this.id,moduleId:this.moduleData.moduleId}).then((function(t){e.loading=!1,e.list=t.data.map((function(e){return e.createTime=new Date(e.createTime).getTime(),e}))})).catch((function(){e.loading=!1}))},getType:function(e){return{0:"common",1:"common",2:"common",4:"transfer",5:"team",6:"team",7:"examine",8:"examine",9:"examine"}[e]||""},getContent:function(e){if(0===e.actionType){var t=this.getModuleObjById(e.moduleId);if(t)return t.name}return e.value},getEditorHistory:function(e){if(!e.extData)return[];var t=Object(g["v"])(e.extData);return Object($["a"])(t)?t:[]},getEditorVal:function(e,t){var a="";switch(e.formType){case"user":a=Object(kt["b"])(e.formType,t,e),Object($["c"])(a)?a=a.realname:Object($["a"])(a)&&(a=a.map((function(e){return e.realname})).join(","));break;case"structure":a=Object(kt["b"])(e.formType,t,e),Object($["c"])(a)?a=a.deptName||a.name:Object($["a"])(a)&&(a=a.map((function(e){return e.deptName||e.name})).join(","));break;case"data_union":case"data_union_multi":a=Object(g["v"])(t),Object($["c"])(a)?a=a.value:Object($["a"])(a)&&(a=a.map((function(e){return e.value})).join(","));break;case"position":a=Object(g["v"])(t),Object($["a"])(a)&&(a=a.map((function(e){return e.name})).join(","));break;case"location":a=Object(g["v"])(t),Object($["c"])(a)&&(a=a.address);break;case"field_tag":a=Object(g["v"])(t),Object($["a"])(a)&&(a=a.map((function(e){return e.value})).join(","));break;case"detail_table":a=t;break;default:"currentFlowId"===e.fieldName?(a=Object(g["v"])(t),a=a.name):a="flowStatus"===e.fieldName?(w["c"].find((function(e){return e.key==t}))||{}).value:Object(kt["b"])(e.formType,t,e)}return a}}},$t=Wt,zt=(a("cd71"),Object(I["a"])($t,Ut,Pt,!1,null,"4dd963f8",null)),qt=zt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"rc-cont"},[a("div",{staticClass:"rc-head"},[e.isTeamMember?[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleClick("add")}}},[e._v("添加团队成员")]),e._v(" "),e.isTeamJurisdiction?a("el-button",{on:{click:function(t){e.handleClick("edit")}}},[e._v("编辑")]):e._e(),e._v(" "),e.isTeamJurisdiction?a("el-button",{on:{click:function(t){e.handleClick("delete")}}},[e._v("移除")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.handleClick("exit")}}},[e._v("退出团队")])]:e._e()],2),e._v(" "),a("el-table",{attrs:{data:e.list,height:e.tableHeight,stripe:""},on:{"selection-change":e.handleSelectionChange}},[e.isTeamJurisdiction?a("el-table-column",{attrs:{selectable:e.handleSelectable,"show-overflow-tooltip":"",type:"selection",align:"center",width:"55"}}):e._e(),e._v(" "),e._l(e.fieldList,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,"min-width":t.width,formatter:e.fieldFormatter,"show-overflow-tooltip":""}})})),e._v(" "),a("el-table-column",{attrs:{prop:"power",label:"权限","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.column;return[e._v("\n        "+e._s(e.fieldFormatter(n,i))),1===n.power||2===n.power?a("el-tooltip",{staticStyle:{"margin-left":"3px"},attrs:{content:e.getPowerTips(n.power),effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})]):e._e()]}}])})],2),e._v(" "),e.teamsDialogShow?a("teams-handle",{attrs:{id:e.id,"module-id":e.moduleId,"dialog-visible":e.teamsDialogShow},on:{"update:dialogVisible":function(t){e.teamsDialogShow=t},handle:e.handleCallBack}}):e._e(),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{visible:e.editPermissionShow,"close-on-click-modal":!1,"append-to-body":!0,title:"编辑权限",width:"500px"},on:{"update:visible":function(t){e.editPermissionShow=t}}},[a("div",{staticClass:"handle-box"},[a("flexbox",{staticClass:"handle-item"},[a("div",{staticClass:"handle-item-name"},[e._v("权限：")]),e._v(" "),a("el-radio-group",{model:{value:e.handleType,callback:function(t){e.handleType=t},expression:"handleType"}},[a("el-radio",{attrs:{label:1}},[e._v("只读"),a("el-tooltip",{staticStyle:{"margin-left":"3px"},attrs:{content:"支持查看详细资料、添加和查看活动中所有跟进记录",effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})])],1),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("读写"),a("el-tooltip",{staticStyle:{"margin-left":"3px"},attrs:{content:"支持编辑和查看详细资料、可以添加和查看活动中所有跟进记录",effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})])],1)],1)],1),e._v(" "),a("flexbox",{staticClass:"handle-item"},[a("div",{staticClass:"handle-item-name"},[e._v("有效时间：")]),e._v(" "),a("el-select",{model:{value:e.validType,callback:function(t){e.validType=t},expression:"validType"}},[a("el-option",{attrs:{label:"不限",value:""}}),e._v(" "),a("el-option",{attrs:{label:"截止到",value:"end"}})],1),e._v(" "),"end"===e.validType?a("el-date-picker",{staticStyle:{"margin-left":"8px"},attrs:{"picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.expiresTime,callback:function(t){e.expiresTime=t},expression:"expiresTime"}}):e._e()],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editPermissionShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.handleEditConfirm(t)}}},[e._v("保存")])],1)])],1)},Yt=[],Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:e.title,visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.visible=t},close:e.handleCancel}},[a("div",{staticClass:"handle-box"},[a("flexbox",{staticClass:"handle-item",attrs:{align:"stretch"}},[a("div",{staticClass:"handle-item-name",staticStyle:{"margin-top":"8px"}},[e._v("选择团队成员：")]),e._v(" "),a("wk-user-select",{staticClass:"handle-item-content",attrs:{radio:!1,placeholder:"点击选择（多选）"},model:{value:e.usersList,callback:function(t){e.usersList=t},expression:"usersList"}})],1),e._v(" "),a("flexbox",{staticClass:"handle-item"},[a("div",{staticClass:"handle-item-name"},[e._v("权限：")]),e._v(" "),a("el-radio-group",{model:{value:e.handleType,callback:function(t){e.handleType=t},expression:"handleType"}},[a("el-radio",{attrs:{label:1}},[e._v("只读"),a("el-tooltip",{staticStyle:{"margin-left":"3px"},attrs:{content:"支持查看详细资料、添加和查看活动中所有跟进记录",effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})])],1),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("读写"),a("el-tooltip",{staticStyle:{"margin-left":"3px"},attrs:{content:"支持编辑和查看详细资料、可以添加和查看活动中所有跟进记录",effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})])],1)],1)],1),e._v(" "),a("flexbox",{staticClass:"handle-item"},[a("div",{staticClass:"handle-item-name"},[e._v("有效时间：")]),e._v(" "),a("el-select",{model:{value:e.validType,callback:function(t){e.validType=t},expression:"validType"}},[a("el-option",{attrs:{label:"不限",value:""}}),e._v(" "),a("el-option",{attrs:{label:"截止到",value:"end"}})],1),e._v(" "),"end"===e.validType?a("el-date-picker",{staticStyle:{"margin-left":"8px"},attrs:{"picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.expiresTime,callback:function(t){e.expiresTime=t},expression:"expiresTime"}}):e._e()],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")])],1)])},Kt=[],Jt=a("5c0a"),Ht={name:"TeamsHandle",components:{WkUserSelect:Jt["a"]},mixins:[],props:{id:[String,Number],moduleId:[String,Number],dialogVisible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,visible:!1,title:"添加团队成员",pickerOptions:{disabledDate:function(e){return e.getTime()<new Date((new Date).toLocaleDateString()).getTime()}},usersList:[],handleType:1,addsTypes:[],validType:"",expiresTime:""}},watch:{dialogVisible:{handler:function(e){this.visible=e,e||this.resetData()},deep:!0,immediate:!0}},mounted:function(){this.visible=this.dialogVisible},methods:{resetData:function(){this.usersList=[],this.handleType=1},handleCancel:function(){this.visible=!1,this.$emit("update:dialogVisible",!1)},handleConfirm:function(){var e=this;if(0===this.usersList.length)this.$message.error("请选择团队成员");else if("end"!==this.validType||this.expiresTime){var t={moduleId:this.moduleId,dataId:this.id,memberIds:this.usersList,power:this.handleType,expiresTime:"end"===this.validType?this.expiresTime:""};this.loading=!0,Object(s["i"])(t).then((function(t){e.$message({type:"success",message:"操作成功"}),e.loading=!1,e.handleCancel(),e.$emit("handle")})).catch((function(){e.loading=!1}))}else this.$message.error("请选择截止日期")}}},Qt=Ht,Xt=(a("0554"),Object(I["a"])(Qt,Gt,Kt,!1,null,"743acfbe",null)),ea=Xt.exports,ta={name:"ModuleTeam",components:{TeamsHandle:ea},inheritAttrs:!1,props:{id:[String,Number],moduleId:[String,Number]},data:function(){return{loading:!1,list:[],fieldList:[{prop:"realname",width:"120",label:"姓名"},{prop:"deptName",width:"100",label:"部门"},{prop:"groupRole",width:"100",label:"团队角色"},{prop:"expiresTime",width:"120",label:"有效时间"}],pickerOptions:{disabledDate:function(e){return e.getTime()<new Date((new Date).toLocaleDateString()).getTime()}},tableHeight:"400px",handleType:1,validType:"",expiresTime:"",editPermissionShow:!1,selectionList:[],isTeamMember:!0,isTeamJurisdiction:!0,teamsDialogShow:!1}},computed:Object(r["a"])({},Object(b["c"])(["userInfo"])),watch:{id:function(e){this.list=[],this.getDetail()},"rootTabs.currentName":function(e){"RelativeTeam"===e&&this.getDetail(!1)}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=t;var a={moduleId:this.moduleId,dataId:this.id};Object(s["j"])(a).then((function(t){e.loading=!1,e.list=t.data.map((function(e){return e.expiresTime&&(e.expiresTime=/\d{4}-\d{1,2}-\d{1,2}/g.exec(e.expiresTime)[0]),e}))})).catch((function(){e.loading=!1}))},handleSelectionChange:function(e){this.selectionList=e},handleClick:function(e){var t=this;if("add"!==e)if("exit"!==e)if(this.selectionList.length)if("edit"!==e)"delete"===e&&this.$confirm("此操作将移除这些团队成员是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.loading=!0,Object(s["h"])({dataId:t.id,moduleId:t.moduleId,memberIds:t.selectionList.map((function(e){return e.userId}))}).then((function(){t.loading=!1,t.$message.success("操作成功"),t.getDetail()})).catch((function(){t.loading=!1}))})).catch((function(){}));else{if(1===this.selectionList.length){var a=this.selectionList[0];this.handleType=a.power,this.validType=a.expiresTime?"end":"",this.expiresTime=a.expiresTime}else this.handleType=1,this.validType="",this.expiresTime="";this.editPermissionShow=!0}else this.$message.error("请勾选需要操作的团队成员");else this.$confirm("确定退出团队?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=String(t.userInfo.userId);t.loading=!0,Object(s["h"])({dataId:t.id,moduleId:t.moduleId,memberIds:[e]}).then((function(e){t.$message({type:"success",message:"操作成功"}),t.$emit("handle",{type:"exit-team"}),t.loading=!1,t.getDetail()})).catch((function(){t.loading=!1}))})).catch((function(){}));else this.teamsDialogShow=!0},handleCallBack:function(e){this.getDetail()},handleEditConfirm:function(){var e=this;"end"!==this.validType||this.expiresTime?(this.loading=!0,Object(s["i"])({moduleId:this.moduleId,dataId:this.id,memberIds:this.selectionList.map((function(e){return e.userId})),power:this.handleType,expiresTime:"end"===this.validType?this.expiresTime:""}).then((function(t){e.editPermissionShow=!1,e.$message({type:"success",message:"操作成功"}),e.loading=!1,e.getDetail()})).catch((function(){e.loading=!1}))):this.$message.error("请选择截止日期")},handleSelectable:function(e,t){return"负责人权限"!==e.power&&3!=e.power},getPowerTips:function(e){return{1:"支持查看详细资料、添加和查看活动中所有跟进记录",2:"支持编辑和查看详细资料、可以添加和查看活动中所有跟进记录"}[e]},fieldFormatter:function(e,t,a){return"power"===t.property?{1:"只读",2:"读写",3:"负责人"}[e[t.property]]:"groupRole"===t.property?3===e.power?"负责人":"普通员工":"expiresTime"===t.property?e.expiresTime||"不限":""===e[t.property]||null===e[t.property]?"--":e[t.property]}}},aa=ta,na=(a("2807"),Object(I["a"])(aa,Zt,Yt,!1,null,"40410525",null)),ia=na.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"empty",rawName:"v-empty",value:e.emptyFlag,expression:"emptyFlag"}],staticClass:"module-relevance",attrs:{"xs-empty-text":e.emptyText,"xs-empty-icon":"nopermission"}},[a("flexbox",{staticClass:"header",attrs:{align:"center",justify:"flex-end"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleToCreate}},[e._v("新建"+e._s(e.tabData.name))])],1),e._v(" "),a("div",{staticClass:"container"},[a("el-table",{attrs:{data:e.tableData,"cell-class-name":e.cellClassName,"min-height":"200px","max-height":"400px",stripe:""},on:{"row-click":e.handleRowClick}},e._l(e.tableFieldList,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.fieldName,label:t.name,width:t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.row,o=n.column;return["field_tag"===t.formType?[a("tag-view",{attrs:{"item-bottom":0,value:e.fieldFormatter(i,o,i[o.property],t)}})]:"data_union"===t.formType?[a("span",{class:{"can-check":!0},on:{click:function(a){a.stopPropagation(),e.handleClick(e.fieldFormatter(i,o,i[o.property],t))}}},[e._v(e._s(e.fieldFormatter(i,o,i[o.property],t).value)+"\n            ")])]:"data_union_multi"===t.formType?e._l(e.fieldFormatter(i,o,i[o.property],t),(function(t,n){return a("span",{key:n,class:{"can-check":!0},on:{click:function(a){a.stopPropagation(),e.handleClick(t)}}},[e._v(e._s(t.value)+"    ")])})):a("wk-field-view",{attrs:{props:t,"form-type":t.formType,value:e.fieldFormatter(i,o,i[o.property],t)},scopedSlots:e._u([{key:"default",fn:function(a){a.data;return[e._v("\n              "+e._s(e.fieldFormatter(i,o,i[o.property],t))+"\n            ")]}}])})]}}])})}))),e._v(" "),e.totalPage>1?a("flexbox",{staticClass:"page-control",attrs:{align:"center",justify:"flex-end"}},[e.currentPage>1?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.handleChangePage(-1)}}},[e._v("上一页")]):e._e(),e._v(" "),e.currentPage<e.totalPage?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.handleChangePage(1)}}},[e._v("下一页")]):e._e()],1):e._e()],1),e._v(" "),e.showDetail&&e.clickedRow?a("div",{staticClass:"full-container",style:{zIndex:e.zIndex}},[a("module-detail",{staticClass:"d-view",attrs:{id:e.rowId,"module-id":e.clickedRow.moduleId,"page-list":e.tableData||[]},on:{"update:id":function(t){e.rowId=t},handle:function(t){e.getData(!0)},"hide-view":function(t){e.showDetail=!1}}})],1):e._e()],1)},ca=[],ra=a("ab96"),sa={name:"ModuleRelevance",components:{WkFieldView:bt["default"],TagView:gt["a"],ModuleDetail:function(){return Promise.resolve().then(a.bind(null,"b0a1"))}},inheritAttrs:!1,props:{tabData:Object,id:[String,Number],moduleDetail:Object,detailData:Object,fieldList:Array},data:function(){return{loading:!1,currentModule:null,currentMainField:null,emptyFlag:!1,emptyText:"",clickedRow:null,currentPage:1,totalPage:1,tableData:[],tableFieldList:[],showDetail:!1,rowId:null,rowIndex:null,zIndex:0}},computed:Object(r["a"])({},Object(b["c"])("appModule",["userAppDataList"])),mounted:function(){this.initCom()},methods:{initCom:function(){if(this.tableData=[],this.tableFieldList=[],this.currentModule=this.getCurrentModule(),!this.currentModule)return this.emptyFlag=!0,void(this.emptyText="未找到该模块");this.getData(!0),this.moduleId=this.currentModule.moduleId},handleToCreate:function(){this.$emit("command","quick-add",this.tabData)},getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,t?(this.currentPage=1,Object(v["c"])({moduleId:this.currentModule.moduleId,version:this.currentModule.version}).then((function(t){e.tableFieldList=Object(w["a"])(t.data||[],{excludesFieldName:["categoryId","stageId","teamMember"],filterSys:!1,rules:function(e){return!["field_group"].includes(e.formType)&&0===e.isHide}});var a=(t.data||[]).find((function(t){return t.fieldId===e.currentModule.mainFieldId}));a&&(e.currentMainField=a),e.getUnionData()})).catch((function(){e.loading=!1}))):this.getUnionData()},getUnionData:function(){var e=this;this.loading=!1,Object(v["e"])({targetModuleId:this.detailData.moduleId,moduleId:this.currentModule.moduleId}).then((function(t){var a=[];t.data.forEach((function(t){a.push({fieldName:t.fieldName,type:3,values:[e.id]})})),a.length&&e._getData(a)}))},_getData:function(e){var t=this;this.loading=!1,Object(v["d"])({limit:15,page:this.currentPage,moduleId:this.currentModule.moduleId,searchList:e}).then((function(e){t.loading=!1,t.tableData=e.data.list||[],t.totalPage=Number(e.data.totalPage)})).catch((function(){t.loading=!1}))},cellClassName:function(e){e.row;var t=e.column;e.rowIndex,e.columnIndex;return this.currentMainField&&t.property===this.currentMainField.fieldName?"can-visit--underline":""},handleChangePage:function(e){this.currentPage+=e,this.getData()},getCurrentModule:function(){var e=this,t=this.userAppDataList.find((function(t){return t.applicationId===e.tabData.applicationId}));if(!t)return null;var a=(t.activeModule||[]).find((function(t){return t.moduleId===e.tabData.moduleId}));return a||null},handleRowClick:function(e,t){t.property===this.currentMainField.fieldName&&(this.rowId=e.dataId,this.clickedRow=e,this.zIndex=Object(g["o"])(),this.showDetail=!0)},fieldFormatter:function(e,t,a,n){var i="--",o=e[t.property];if("handwriting_sign"===n.formType)return o;if("flowType"===t.property){if(!e.currentFlow)return i;var c=Number(e.currentFlow.flowType),r=ra["a"].find((function(e){return e.value===c}));return r?r.label:i}if("stageStatus"===t.property){var s=Number(e.stageStatus),l=w["g"].find((function(e){return e.key===s}));return l?l.value:i}if(""===o||null===o||void 0===o)return{website:"",field_tag:[]}[n.formType]||i;if("flowStatus"===t.property){if(!e.currentFlow)return i;var d=w["c"].find((function(e){return e.key===o}));return d?d.value:i}return"currentFlowId"===t.property?e.currentFlow?e.currentFlow.flowName:e.currentFlowId:""===o||null===o||void 0===o?"--":Object(kt["b"])(n.formType,o,n)||"--"},handleClick:function(e){this.rowId=e.dataId,this.clickedRow=e,this.showDetail=!0,this.zIndex=Object(g["o"])()}}},la=sa,da=(a("b840"),Object(I["a"])(la,oa,ca,!1,null,"35134724",null)),ua=da.exports,ma=a("a172"),fa={name:"UserAppDetail",components:{SlideView:m["a"],DetailHeader:j,DetailStage:Ae,ModuleCreate:De["a"],FillFormDialog:je,ExpandedStage:ot,ModuleBaseInfo:At,ModuleFiles:Rt,ModuleOperationRecord:qt,ModuleTeam:ia,WkFieldView:bt["default"],ModuleRelevance:ua,ModuleDetail:function(){return Promise.resolve().then(a.bind(null,"b0a1"))}},mixins:[ma["a"],y["a"]],props:{id:[String,Number],moduleId:[String,Number],listenerIDs:{type:Array,default:function(){return["crm-main-container"]}},noListenerIDs:{type:Array,default:function(){return[]}},noListenerClass:{type:Array,default:function(){return["el-table__body"]}},pageList:{type:Array,default:function(){return[]}},appendToBody:{type:Boolean,default:!1}},data:function(){return{loading:!1,timer:null,recordId:null,categoryId:null,detailData:null,moduleDetail:{},layoutData:{},fieldList:[],tabCurrentName:"",bodyIsScroll:!1,showTabItem:!0,showCreate:!1,createAction:{},showDetail:!1,dataId:null,zIndex:0,skipModuleId:"",activeBtn:!1,showFillDialog:!1,fillFieldsList:[],authLevelLib:[],showCustomBtnStage:!0,customBtnRecords:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["userInfo"])),{},{moduleObj:function(){return this.getModuleObjByCategory(this.moduleId,{categoryId:this.categoryId})||{}},activeCom:function(){var e=this;if(!this.tabCurrentName)return"";var t=this.tabNames.find((function(t){return t.moduleId===e.tabCurrentName}));return t?{sys_base_info:"ModuleBaseInfo",sys_file:"ModuleFiles",sys_record:"ModuleOperationRecord",sys_member:"ModuleTeam"}[this.tabCurrentName]||"ModuleRelevance":""},canShowDetail:function(){if(!this.moduleObj)return!1;var e="".concat(this.moduleObj.moduleId,"-").concat(this.categoryId||"");return this.$auth("".concat(this.moduleObj.applicationId,".").concat(e,".read"))},dataName:function(){return this.moduleDetail.mainFieldId&&this.detailData?this.getHeaderFieldValue({fieldId:this.moduleDetail.mainFieldId}):""},headDetails:function(){var e=this,t=[];if(!this.fieldList||!this.fieldList.length)return t;if(!this.layoutData||!this.layoutData.mainFields)return t;var a=this.layoutData.mainFields||[];return a.forEach((function(a){var n=e.fieldList.find((function(e){return e.fieldId===a.fieldId&&!e.isHidden})),i=(e.authLevelLib.find((function(e){return e.fieldId===a.fieldId}))||{}).authLevel;n&&1!==i&&t.push(a)})),t},tabNames:function(){var e=this;if(!this.layoutData||!this.layoutData.tabs)return[];var t=this.layoutData.tabs;return t.filter((function(t){return"sys_member"===t.moduleId?e.$auth("".concat(e.moduleObj.applicationId,".").concat(e.moduleId,"-.teamSave")):!t.applicationId||e.$auth("".concat(t.applicationId,".").concat(t.moduleId,"-.index"))}))},fillFormAction:function(){return{id:this.id,type:"update"}}}),watch:{tabNames:{handler:function(){this.tabNames&&this.tabNames.length&&(this.tabCurrentName=this.tabNames[0].moduleId)},deep:!0}},beforeDestroy:function(){clearInterval(this.timer)},methods:{viewAfterEnter:function(){this.canShowDetail&&this.getDetail()},handleUpdate:function(){var e=this;this.updateDetail(),this.showTabItem=!1,this.$nextTick((function(){e.showTabItem=!0}))},getDetail:function(){var e=this;this.loading=!0;var t={moduleId:this.moduleId,version:this.moduleObj.version},a=[Object(s["n"])({dataId:this.id,replaceMask:!0}),Object(l["n"])(t),Object(l["l"])(t)];this.userInfo.isAdmin||a.push(Object(k["b"])({moduleId:this.moduleId,userId:this.userInfo.userId})),Promise.all(a).then(function(){var a=Object(c["a"])(regeneratorRuntime.mark((function a(n){var i,c,s,d,u,m,f,h,p,v;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=Object(o["a"])(n,4),c=i[0],c=void 0===c?{}:c,s=c.data,d=i[1],d=void 0===d?{}:d,u=d.data,m=i[2],m=void 0===m?{}:m,f=m.data,h=i[3],h=void 0===h?{}:h,p=h.data,!s){a.next=15;break}return e.categoryId=s.categoryId,a.next=13,Object(l["d"])(Object(r["a"])(Object(r["a"])({},t),{},{categoryId:s.categoryId})).catch((function(){return{}}));case 13:v=a.sent,e.fieldList=v.data||[];case 15:e.detailData=s,e.moduleDetail=u||{},e.authLevelLib=p||[],e.layoutData=f?JSON.parse(f.data):w["b"],e.loading=!1;case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(){e.loading=!1,e.hideView()}))},updateDetail:function(){var e=this;this.detailData=null,this.showCreate=!1,this.$nextTick((function(){e.detailData=null,e.getDetail(),e.$emit("handle")}))},getHeaderFieldValue:function(e){if(!this.detailData)return"--";var t=this.detailData.fieldDataCommon||{},a=this.detailData.fieldDataList||{};if(e.fieldName&&t.hasOwnProperty(e.fieldName))return t[e.fieldName];var n=a.find((function(t){return t.fieldId===e.fieldId}));if(!n)return"--";if(Object($["b"])(n.value))return"--";var i=this.fieldList.find((function(e){return e.fieldId===n.fieldId}));return i?Object(kt["b"])(i.formType,n.value,i):n.value},handleCommand:function(e,t){var a=this;switch(this.activeBtn=null,e){case"delete":return void this.handleDelete([this.id],this.moduleDetail.version);case"transfer":return void this.handleTransfer();case"edit":return this.createAction={type:"update",title:this.moduleObj.categoryName||this.moduleObj.name,moduleId:this.moduleObj.moduleId,categoryId:this.categoryId,id:this.id},void(this.showCreate=!0);case"prev-data":return void this.handleChangeData(-1);case"next-data":return void this.handleChangeData(1);case"quick-add":return void this.handleQuickCreate(t);case"print":var n=this.moduleObj.version,i="/userApp/".concat(this.moduleObj.applicationId,"/print/?moduleId=").concat(this.moduleId,"&id=").concat(this.id,"&version=").concat(n),o=this.$router.resolve(i);return void window.open(o.href,"_blank");case"moveCategory":return void this.handleMoveCategory()}if(t)switch(this.activeBtn=t,t.executeType){case 0:this.executeBtn(t.buttonId);break;case 1:var c=Object(g["v"])(t.recheckConfig);this.$confirm(c.message,"提示",{confirmButtonText:c.confirmButtonText,cancelButtonText:c.cancelButtonText,type:"warning"}).then((function(){a.executeBtn(t.buttonId)})).catch((function(){}));break;case 2:this.fillFieldsList=[];var s=Object(g["v"])(t.fillConfig)||[];s.forEach((function(e){var t=a.fieldList.find((function(t){return t.fieldId===e.fieldId}));if(t){var n=e.permission;a.fillFieldsList.push(Object(r["a"])(Object(r["a"])({},t),{},{isNull:2===n?1:0,authLevel:0===n?2:3}))}})),this.showFillDialog=!0;break}},handleTabPaneCommand:function(e,t){"quick-add"===e&&this.handleQuickCreate(t)},submitFillForm:function(e){var t=this;this.loading=!0,Object(d["c"])(Object(r["a"])({buttonId:this.activeBtn.buttonId,dataId:this.id,moduleId:this.moduleDetail.moduleId,version:this.moduleDetail.version},e)).then((function(){t.executeBtn(t.activeBtn.buttonId)})).catch((function(){t.loading=!1}))},getCustomBtnRecord:function(){var e=this;Object(u["c"])({dataId:this.id,moduleId:this.moduleId}).then((function(t){e.customBtnRecords=(t.data||[]).filter((function(e){return!(!e.flowStatus&&0!==e.flowStatus)&&![1,2,4,7,8,9].includes(e.flowStatus)}))}))},executeBtn:function(e){var t=this;this.loading=!0,Object(d["a"])({buttonId:e,dataId:this.id,moduleId:this.moduleDetail.moduleId,version:this.moduleDetail.version}).then((function(e){t.$message.success("操作成功"),t.showFillDialog=!1,t.updateDetail(),t.loading=!1})).catch((function(){t.loading=!1}))},handleQuickCreate:function(e){this.createAction={type:"save",id:"",moduleId:e.moduleId,title:e.name,data:{}},this.showCreate=!0},handleClick:function(e){this.dataId=e.dataId,this.skipModuleId=e.moduleId,this.zIndex=Object(g["o"])(),this.showDetail=!0},handleChangeData:function(e){var t=this,a=this.pageList.findIndex((function(e){return e.dataId===t.id}));-1!==a&&(a+=e,a<0||a>=this.pageList.length?this.$message.error("没有更多啦！"):(this.$emit("update:id",this.pageList[a].dataId),this.updateDetail()))},hideView:function(){this.$emit("hide-view")},hideAndRefresh:function(e){this.$emit("handle",{type:e.type}),this.hideView()},bodyScroll:function(e){this.bodyIsScroll=e.target.scrollTop>2}}},ha=fa,pa=(a("9241"),Object(I["a"])(ha,n,i,!1,null,"a67b1a84",null));t["default"]=pa.exports},b116:function(e,t,a){"use strict";a("fd1d")},b1a0:function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},b20f:function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},b29e:function(e,t,a){"use strict";a("ffde")},b2c3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu-item-content",class:{"is-close":e.collapse,"is-select":e.selectd},style:e.menuStyle,on:{mouseleave:e.onMouseLeave,mouseenter:e.onMouseEnter}},[e.icon?a("i",{staticClass:"menu-item-icon",class:e.iconClass,style:e.iconStyle}):e._e(),e._v(" "),a("span",{staticClass:"side-bar-label"},[e._v(e._s(e.title))]),e._v(" "),e.count?a("span",{staticClass:"side-bar-num"},[e._v("("+e._s(e.count)+")")]):e._e(),e._v(" "),e.num&&e.num>0?a("el-badge",{attrs:{max:99,value:e.num,type:"primary"}}):e._e(),e._v(" "),e._t("default")],2)},i=[],o=a("5530"),c=(a("a9e3"),a("2ca0"),a("2f62")),r=a("f7e0"),s={name:"Item",components:{},props:{icon:String,title:String,num:[String,Number],collapse:Boolean,count:[String,Number],selectd:Boolean,styleObj:Object},data:function(){return{hover:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["sidebar"])),{},{sidebar:function(){return this.styleObj||r["b"][0]},iconClass:function(){return this.icon&&(this.icon.startsWith("wk ")||this.icon.startsWith("el- ")||this.icon.startsWith("fm ")||this.icon.startsWith("scrm "))?this.icon:"wk wk-".concat(this.icon)},menuStyle:function(){return this.selectd?{color:this.sidebar.selectedColor,backgroundColor:this.sidebar.selectedBackground}:this.hover?{color:this.sidebar.hoverColor,backgroundColor:this.sidebar.hoverBackground}:{color:this.sidebar.color}},iconStyle:function(){return this.selectd?{color:this.sidebar.selectedColor}:this.hover?{color:this.sidebar.hoverColor}:{color:this.sidebar.color}}}),watch:{},mounted:function(){},beforeDestroy:function(){},methods:{onMouseEnter:function(){this.hover=!0},onMouseLeave:function(){this.hover=!1}}},l=s,d=(a("7353"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"2d104a82",null);t["a"]=u.exports},b349:function(e,t,a){"use strict";a("f106")},b390:function(e,t,a){},b397:function(e,t,a){e.exports=a.p+"static/img/file_video.5dbeb486.png"},b45c:function(e,t,a){e.exports=a.p+"static/img/empty.686d3a87.png"},b4f4:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c}));var n=a("1da1"),i=(a("96cf"),a("d3b7"),function(){return new Promise((function(e,t){e([])}))}),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]&&a[1],e.abrupt("return",void 0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{module:null,fieldList:[],mapping:[]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b5b9:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"d",(function(){return d}));a("d3b7"),a("159b"),a("b64b");var n=a("b775");function i(e){return Object(n["a"])({url:"adminFile/deleteByBatchId",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(n["a"])({url:"adminFile/deleteById/".concat(e),method:"post"})}function c(e){return Object(n["a"])({url:e,method:"post",responseType:"blob"})}function r(e){return Object(n["a"])({url:"adminFile/queryFileList/".concat(e),method:"post"})}function s(e){return Object(n["a"])({url:"adminFile/queryOneByBatchId/".concat(e),method:"post"})}function l(e){return Object(n["a"])({url:"adminFile/renameFileById",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){var t=e.fileUrl;return delete e.fileUrl,e.htmlName="悟空CRM",e.htmlTitle="悟空CRM",Object(n["a"])({baseURL:"/api-file/",url:"composite/httpfile?".concat(t),method:"post",data:e})}},b601:function(e,t,a){e.exports=a.p+"static/img/fs.160d4415.png"},b697:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAIAAAADnC86AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzRERTNDRjk0MEEyMTFFQUIxODhFMTc1OTM3RjFDNTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzRERTNDRkE0MEEyMTFFQUIxODhFMTc1OTM3RjFDNTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNERFM0NGNzQwQTIxMUVBQjE4OEUxNzU5MzdGMUM1MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDNERFM0NGODQwQTIxMUVBQjE4OEUxNzU5MzdGMUM1MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl4NvNEAAAAxSURBVHja7M0BDQAACAMgtX/nG8PNQQE6SV2YOiIWi8VisVgsFovFYrFYLP4YrwADAIPrA0058n2iAAAAAElFTkSuQmCC"},b6af:function(e,t,a){},b712:function(e,t,a){},b775:function(e,t,a){"use strict";var n=a("1da1"),i=(a("96cf"),a("b0c0"),a("d3b7"),a("caad"),a("2532"),a("fb6a"),a("99af"),a("bc3a")),o=a.n(i),c=a("5c96"),r=a("5f87"),s=a("4328"),l=a.n(s),d=a("7a1a"),u=a("a18c"),m=a("4360"),f=Object(d["debounce"])(500,(function(){var e=window.app.$route;e&&"login"===e.name||Object(r["c"])({clearCookies:!0}).then((function(){location.reload()})).catch((function(){location.reload()}))})),h=Object(d["debounce"])(500,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";Object(c["Message"])({message:e,duration:1500,type:t})})),p=Object(d["debounce"])(1e3,(function(e){c["MessageBox"].confirm(e,"提示",{confirmButtonText:"确定",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1,type:"warning"}).then((function(){window.app.$route&&"login"!==window.app.$route.name||!window.app.$route?f():Object(r["c"])({clearCookies:!0})})).catch((function(){}))}));o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var v=o.a.create({baseURL:"/",timeout:6e5}),b=["admin","financeauth","queryallemployeelist","querytreelist","login","receivingemail"];v.interceptors.request.use((function(e){var t=e.headers["Content-Type"]&&-1!==e.headers["Content-Type"].indexOf("application/json");if(t)void 0!==e.data&&null!==e.data||(e.data={});else{var a=e.headers["Content-Type"]&&-1!==e.headers["Content-Type"].indexOf("multipart/form-data");a||(e.data=l.a.stringify(e.data))}var n=e.url?e.url.toLowerCase():"",i=b.every((function(e){return!n.includes(e)}));return i&&(e.cancelToken=new o.a.CancelToken((function(t){m["a"].commit("Add_CANCEL_TOKEN",{cancel:t,url:e.url})}))),e}),(function(e){return Promise.reject(e)})),v.interceptors.response.use(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,o,s,l,d,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.config,n=a.url,i=a.baseURL,m["a"].commit("Remove_CANCEL_TOKEN",{url:n.slice(i.length)}),o=t.config.requestProp||{},s=t.data,200!==t.status||"blob"!==t.config.responseType){e.next=22;break}if(!(t.headers["content-disposition"]||t.headers["content-type"]&&-1!=t.headers["content-type"].indexOf("application/pdf"))){e.next=9;break}return e.abrupt("return",t);case 9:if(!t.data){e.next=20;break}return l=new Blob([t.data],{type:"application/json"}),e.next=13,l.text();case 13:if(d=e.sent,!d){e.next=20;break}if(v=JSON.parse(d),v.msg&&302!==v.code&&0!==v.code&&h(v.msg,1==v.code?"success":"error"),0!==v.code){e.next=20;break}return Object(c["Message"])({message:"导出成功，请稍后前往系统右上角《消息/待办-消息提醒》中下载本次导出文件",duration:3e3,type:"success"}),e.abrupt("return",v);case 20:e.next=28;break;case 22:if(0===s.code){e.next=27;break}return 302===s.code?s.data&&1===s.data.extra?p("您的账号".concat(s.data.extraTime,"在别处登录。如非本人操作，则密码可能已泄漏，建议修改密码")):f():1005===s.code?Object(r["c"])().then((function(){window.accessLogin=!0,setTimeout((function(){u["b"].push("/404?type=perfect&mobile=".concat(s.data,"&time=").concat((new Date).getTime()))}),500)})).catch((function(){})):1007===s.code?(window.sessionStorage.wkIgnoreCookies=!0,h(s.msg),u["b"].push("/404")):1201===s.code?Object(r["c"])().then((function(){setTimeout((function(){u["b"].push({name:"wechatLoginRegister"})}),500)})).catch((function(){})):s.msg&&!o.disabledMessage&&h(s.msg),e.abrupt("return",Promise.reject(s));case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){if(!o.a.isCancel(e)){if(e.response){var t=e.response;500==t.status?h("网络错误，请检查您的网络"):t.data&&t.data.msg&&h(t.data.msg)}return Promise.reject(e)}})),t["a"]=v},b7ce:function(e,t,a){},b840:function(e,t,a){"use strict";a("0928")},b8cf:function(e,t,a){},b972:function(e,t,a){},ba30:function(e,t,a){"use strict";a("730b")},bb12:function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=(a("d3b7"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"nav-container"},[a("navbar",{attrs:{title:"系统设置"},on:{"nav-items-click":e.navClick}})],1),e._v(" "),a("wk-container",{attrs:{menu:e.manageRouters,"header-obj":e.headerCellObj,"side-type":"normal"}},[a("el-main",{attrs:{id:"manager-main-container"}},[a("app-main")],1)],1)],1)}),o=[],c=a("2f62"),r=a("38e2"),s=a("81a5"),l={name:"AdminLayout",components:{Navbar:r["b"],WkContainer:s["a"],AppMain:r["a"]},data:function(){return{routerItems:[],headerCellObj:{icon:"wk wk-icon-all-solid",label:"企业管理后台",des:"管理配置信息"}}},computed:Object(n["a"])({},Object(c["c"])(["manage","manageRouters"])),mounted:function(){},methods:{navClick:function(e){}}},d=l,u=(a("27c0"),a("2877")),m=Object(u["a"])(d,i,o,!1,null,"3cef3ece",null),f=m.exports,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/manage",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{path:t,component:f,meta:Object(n["a"])({requiresAuth:a},e)}};t["default"]=[Object(n["a"])(Object(n["a"])({},h({permissions:["manage","configSet","read"]})),{},{children:[{name:"application",path:"application",component:function(){return a.e("chunk-271fc850").then(a.bind(null,"889b"))},meta:{title:"应用管理",icon:"icon-all-line"}}]}),Object(n["a"])(Object(n["a"])({},h({permissions:["manage","permission"],title:"角色权限管理",icon:"icon-employees-line"},"/manage/role-auth")),{},{alwaysShow:!0,name:"manage-role-auth",children:[{name:"role-auth",path:"role-auth/:parentId/:title",hidden:!0,component:function(){return Promise.all([a.e("chunk-24395726"),a.e("chunk-00770cc2")]).then(a.bind(null,"3359"))},meta:{}},{name:"custom-role-auth",path:"custom-role-auth/:appId/:title",hidden:!0,component:function(){return Promise.all([a.e("chunk-24395726"),a.e("chunk-637e677a")]).then(a.bind(null,"e365"))},meta:{}}]})]},bbc6:function(e,t,a){},bc09:function(e,t,a){"use strict";a("558b")},bc0b:function(e,t,a){},bdb5:function(e,t,a){e.exports=a.p+"static/img/file_excle.733b7093.png"},be32:function(e,t,a){},bfbe:function(e,t,a){"use strict";a("be32")},bff1:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a("b775");function i(e){return Object(n["a"])({url:"hubFieldData/dataUnion",method:"post",headers:{"Content-Type":"application/json;charset=utf-8"},data:e})}function o(e){return Object(n["a"])({url:"hubFieldData/queryMainFieldValue",method:"post",headers:{"Content-Type":"application/json;charset=utf-8"},data:e})}},c25a:function(e,t,a){},c4a3:function(e,t,a){},c4ed:function(e,t,a){},c57b:function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},c57d:function(e,t,a){"use strict";a("3dd3")},c6ab:function(e,t,a){"use strict";a("58c5")},c6c2:function(e,t,a){},c781:function(e,t,a){"use strict";a.r(t);a("d3b7");var n={state:{messageNum:{},showRing:!0,showTimer:!1,showCallOut:!1,isCall:!1,callinTime:"00:00:00"},mutations:{SET_MESSAGENUM:function(e,t){var a=0;for(var n in t)"totalNum"!=n&&(a+=t[n]||0);t.totalNum=a,e.messageNum=t},CALL_STATUS:function(e,t){e.callinTime=t},SHOW_RING:function(e,t){e.showRing=t},SHOW_TIMER:function(e,t){e.showTimer=t},SHOW_CALL_OUT:function(e,t){e.showCallOut=t},GET_IS_CALL:function(e,t){e.isCall=t}},actions:{GetMessageNum:function(e){e.state;var t=e.commit;return new Promise((function(e,a){t("SET_MESSAGENUM",{}),e({})}))}},getters:{isCall:function(e){return e.isCall},messageNum:function(e){return e.messageNum}}};t["default"]=n},c7d9:function(e,t,a){"use strict";a("111f")},c863:function(e,t,a){},c953:function(e,t,a){"use strict";a("9c8b")},c9af:function(e,t,a){},c9f6:function(e,t,a){"use strict";a("da1d")},cab3:function(e,t,a){"use strict";a("384e")},cb4a:function(e,t,a){"use strict";a("3153")},cd3f:function(e,t,a){},cd71:function(e,t,a){"use strict";a("bbc6")},ce42:function(e,t,a){},d155:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("xr-create",{attrs:{loading:e.loading,title:e.title,"confirm-button-text":"保存"},on:{close:e.close,save:e.saveClick}},[a("create-sections",{attrs:{title:"基本信息"}},[e.fieldList.length?a("el-form",{ref:"moduleForm",staticClass:"wk-form",attrs:{model:e.fieldForm,rules:e.fieldRules,"validate-on-rule-change":!1,"label-position":"top"}},e._l(e.fieldList,(function(t,n){return a("app-form-items",{key:n,attrs:{"field-from":e.fieldForm,"field-list":t,"app-id":e.moduleObj.applicationId,"module-id":e.moduleId},on:{change:e.formChange,"table-change":e.tableFormChange}})}))):e._e()],1),e._v(" "),e.flowList.length>0?a("create-sections",{attrs:{title:"流程信息"}},[a("app-form-flow",{ref:"appFormFlow",attrs:{"module-id":e.moduleId,"data-id":e.action.id,"flow-list":e.flowList}})],1):e._e()],1)},i=[],o=a("53ca"),c=a("1da1"),r=a("5530"),s=(a("96cf"),a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("7db0"),a("b64b"),a("aa2b")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("create-view",{attrs:{"body-style":{height:"100%"}},on:{afterEnter:e.afterEnter}},[a("flexbox",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"xr-create",attrs:{direction:"column",align:"stretch"}},[a("flexbox",{staticClass:"xr-create__header"},[e.$slots.title?e._e():a("div",{staticClass:"title"},[e._v(e._s(e.title)),e._t("title-append")],2),e._v(" "),e._t("title"),e._v(" "),a("i",{staticClass:"el-icon-close close",on:{click:e.close}})],2),e._v(" "),a("div",{staticClass:"xr-create__body"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"xr-create__footer"},[e._t("footer-left"),e._v(" "),e.showConfirm?a("el-button",{attrs:{disabled:e.confirmDisabled,type:"primary"},nativeOn:{click:function(t){e.debouncedSaveField(!1)}}},[e._v(e._s(e.confirmButtonText))]):e._e(),e._v(" "),e._t("footer"),e._v(" "),e.showCancel?a("el-button",{nativeOn:{click:function(t){return e.close(t)}}},[e._v("取消")]):e._e()],2)],1)],1)},d=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"opacity-fade"},on:{"after-enter":e.afterEnter}},[a("div",{staticClass:"c-view create-view",style:{"background-color":e.backgroundColor,padding:e.padding+" 0","z-index":e.zIndex}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"create-view-content",style:Object.assign({},{width:e.width},e.cardStyle),attrs:{"body-style":e.bodyStyle}},[e._t("header"),e._v(" "),e._t("default")],2)],1)])},m=[],f=a("ed08"),h={name:"CreateView",components:{},props:{bodyStyle:{type:Object,default:function(){return{}}},cardStyle:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},backgroundColor:{type:String,default:"rgba(23,43,77, 0.5)"},width:{type:String,default:"900px"},padding:{type:String,default:"40px"}},data:function(){return{zIndex:Object(f["o"])(),loadingObj:null}},computed:{},watch:{},mounted:function(){},methods:{afterEnter:function(){this.$emit("afterEnter")}}},p=h,v=(a("8f0b"),a("2877")),b=Object(v["a"])(p,u,m,!1,null,"2fdfa2ff",null),g=b.exports,y=a("7a1a"),w={name:"XrCreate",components:{CreateView:g},props:{title:String,loading:Boolean,appendToBody:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},confirmDisabled:{type:Boolean,default:!1},confirmButtonText:{type:String,default:"保存"}},data:function(){return{}},computed:{},watch:{},created:function(){this.debouncedSaveField=Object(y["debounce"])(300,this.save)},mounted:function(){this.appendToBody&&document.body.appendChild(this.$el)},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},methods:{afterEnter:function(){this.$emit("afterEnter")},save:function(){this.$emit("save")},close:function(){this.$emit("close")}}},k=w,C=(a("7d8f"),Object(v["a"])(k,l,d,!1,null,"7a19e994",null)),x=C.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section create-sections"},[e.title&&e.title.length>0?a("div",{staticClass:"section-header"},[a("div",{staticClass:"section-mark",style:{"border-left-color":e.mColor}}),e._v(" "),a("div",{staticClass:"section-title"},[e._v(e._s(e.title))]),e._v(" "),e.dropdownItems&&e.dropdownItems.length>0?a("el-dropdown",{staticClass:"create-sections__more",attrs:{trigger:"click"},on:{command:e.handleTypeClick}},[a("i",{staticClass:"el-icon-more",staticStyle:{cursor:"pointer"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.dropdownItems,(function(t,n){return a("el-dropdown-item",{key:n,attrs:{icon:t.icon,command:t.command}},[e._v(e._s(t.label))])})))],1):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),a("div",{staticClass:"content create-sections-content"},[e._t("default")],2)])},_=[],j={name:"CreateSections",components:{},props:{title:{type:String,default:""},mColor:{type:String,default:"#2362FB"},dropdownItems:Array},data:function(){return{}},computed:{},mounted:function(){},methods:{handleTypeClick:function(e){this.$emit("command-select",e)}}},O=j,F=(a("bfbe"),Object(v["a"])(O,I,_,!1,null,"2ae1283e",null)),T=F.exports,A=a("3d53"),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-timeline",{staticClass:"app-form-flow"},[e._l(e.flowList,(function(t,i){return n("el-timeline-item",{key:i,staticClass:"flow-item"},[n("div",{staticClass:"flow-item__header"},[e._v("\n      "+e._s(t.flowName)+"\n      "),e._v(" "),n("el-tag",{staticClass:"el-icon--right",attrs:{type:"danger",size:"mini"}},[e._v(e._s(e.getFlowTypeName(t)))])],1),e._v(" "),n("div",{staticClass:"flow-item__body"},[1===t.flowType&&t.data||2===t.flowType&&t.data?n("div",{staticClass:"flow-wrapper flow-examine"},[4===t.data.examineType?[n("flexbox",{staticClass:"user-wrap",attrs:{wrap:"wrap"}},[e._l(t.data.userList,(function(t,a){return n("div",{key:a,staticClass:"user"},[n("xr-avatar",{attrs:{name:t.realname,size:40,src:t.img}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v(e._s(t.realname))]),e._v(" "),n("div",{staticClass:"user__step"},[e._v(e._s(e._f("step")(a+1)))]),e._v(" "),n("i",{staticClass:"user__delete el-icon-close",on:{click:function(t){e.deleteUserClick(a,i)}}})],1)})),e._v(" "),1===t.data.chooseType&&0===t.data.userList.length||2===t.data.chooseType&&t.data.userList.length<20?n("div",{staticClass:"user"},[n("el-button",{staticClass:"user__img",staticStyle:{"margin-bottom":"2px"},attrs:{icon:"el-icon-plus",circle:""},on:{click:function(t){e.selectUserClick(i)}}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v(e._s(e.getSelfSelectName(t.data)))]),e._v(" "),n("div",{staticClass:"user__step"},[e._v(e._s(e._f("step")(t.data.userList.length+1)))])],1):e._e()],2)]:[1,3].includes(t.data.examineType)?[1===t.data.userList.length?n("flexbox",{staticClass:"user-wrap",attrs:{wrap:"wrap"}},e._l(t.data.userList,(function(t,a){return n("div",{key:a,staticClass:"user"},[n("xr-avatar",{attrs:{name:t.realname,size:40,src:t.img}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v(e._s(t.realname))]),e._v(" "),n("div",{staticClass:"user__step"},[e._v(e._s(e._f("step")(a+1)))])],1)}))):n("flexbox",{staticClass:"user-wrap",attrs:{wrap:"wrap"}},[n("el-popover",{attrs:{disabled:0===t.data.userList.length,content:e._f("contentFilters")(t.data.userList),placement:"bottom",trigger:"hover"}},[n("div",{staticClass:"user",attrs:{slot:"reference"},slot:"reference"},[n("img",{staticClass:"user__img",attrs:{src:a("7598")}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v(e._s(t.data.userList.length)+"人"+e._s(e.getWayTypeName(t.data.type)))]),e._v(" "),n("div",{staticClass:"user__step"},[e._v("第一级")])])])],1)]:[2,5].includes(t.data.examineType)?[t.data.userList.length>0?n("flexbox",{staticClass:"user-wrap",attrs:{wrap:"wrap"}},e._l(t.data.userList,(function(t,a){return n("div",{key:a,staticClass:"user"},[n("xr-avatar",{attrs:{name:t.realname,size:40,src:t.img}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v(e._s(t.realname))]),e._v(" "),n("div",{staticClass:"user__step"},[e._v(e._s(e._f("step")(a+1)))])],1)}))):n("flexbox",{staticClass:"user-wrap",attrs:{wrap:"wrap"}},[n("div",{staticClass:"user"},[n("img",{staticClass:"user__img",attrs:{src:a("7598")}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v("XX")]),e._v(" "),n("div",{staticClass:"user__step"},[e._v("第一级")])])])]:e._e()],2):3===t.flowType?n("div",{staticClass:"flow-wrapper flow-copy"},[t.data?n("flexbox",{staticClass:"user-wrap",attrs:{wrap:"wrap"}},[t.data.userList.length>0?e._l(t.data.userList,(function(t,a){return n("div",{key:a,staticClass:"user"},[n("xr-avatar",{staticClass:"user-img",attrs:{name:t.realname,size:40,src:t.img}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v(e._s(t.realname))]),e._v(" "),t.isAdd?n("i",{staticClass:"user__delete el-icon-close",on:{click:function(t){e.deleteUserClick(a,i)}}}):e._e()],1)})):e._e(),e._v(" "),1===t.data.isAdd&&t.data.userList.length<20?n("div",{staticClass:"user"},[n("el-button",{staticClass:"user__img",attrs:{icon:"el-icon-plus",circle:""},on:{click:function(t){e.selectUserClick(i)}}}),e._v(" "),n("div",{staticClass:"user__name"},[e._v("选择员工")])],1):e._e()],2):e._e()],1):4===t.flowType?n("div",{staticClass:"flow-wrapper flow-copy"},[n("span",{staticClass:"text"},[e._v(e._s(t.content||"添加数据节点"))])]):5===t.flowType?n("div",{staticClass:"flow-wrapper flow-copy"},[n("span",{staticClass:"text"},[e._v(e._s(t.content||"更新数据节点"))])]):e._e()])])})),e._v(" "),e.depUserViewDialogShow?n("wk-dep-user-dialog",{attrs:{"user-value":e.selectedUserList,visible:e.depUserViewDialogShow,props:{showDept:!1},radio:e.userRadio},on:{"update:userValue":function(t){e.selectedUserList=t},"update:visible":function(t){e.depUserViewDialogShow=t},change:e.selectUserChange}}):e._e()],2)},S=[],L=(a("a15b"),a("d81d"),a("a9e3"),a("99af"),a("159b"),a("caad"),a("2532"),a("a434"),a("2581")),E=a("ab96"),N=a("2adb"),V=a.n(N),M={1:"指定成员",2:"上级",3:"角色",4:"发起人自选",5:"连续多级上级"},B={1:"依次审批",2:"会签",3:"或签"},R={name:"AppFormFlow",components:{WkDepUserDialog:L["a"]},filters:{step:function(e){return"第"+V.a.encodeS(e)+"级"},contentFilters:function(e){return e.map((function(e){return e.realname})).join("、")}},props:{flowList:{type:Array,required:!0},dataId:[String,Number],moduleId:[String,Number]},data:function(){return{activeFlowIndex:null,selectedUserList:[],depUserViewDialogShow:!1,userRadio:!0}},methods:{getFlowTypeName:function(e){var t=E["a"].find((function(t){return t.value===Number(e.flowType)}));return t?1===e.flowType?e.data?"".concat(t.label,"（").concat(M[e.data.examineType],"）"):"":t.label:""},getSelfSelectName:function(e){return 1===e.chooseType?"选择员工":2===e.chooseType?{2:"多人会签",3:"多人或签"}[e.type]||"选择员工":void 0},getWayTypeName:function(e){return B[e]},selectUserClick:function(e){this.activeFlowIndex=e;var t=this.flowList[e];this.selectedUserList=(t.data.userList||[]).map((function(e){return e.userId})),this.userRadio=3!==t.flowType,this.depUserViewDialogShow=!0},selectUserChange:function(e,t,a,n){if(e.length){var i=this.flowList[this.activeFlowIndex],o=i.data.userList.map((function(e){return e.userId}));a.forEach((function(e){o.includes(e.userId)||i.data.userList.push(Object(r["a"])(Object(r["a"])({},e),{},{isAdd:!0}))})),i.data.userList.splice(20),this.$set(this.flowList,this.activeFlowIndex,i)}},deleteUserClick:function(e,t){this.flowList[t].data.userList.splice(e,1)},getForm:function(){var e={moduleId:this.moduleId,optionalList:[]};this.dataId&&(e.dataId=this.dataId);for(var t=0;t<this.flowList.length;t++){var a=this.flowList[t];switch(a.flowType){case 1:if(4===a.data.examineType){if(0===a.data.userList.length)return this.$message.error("请完善审批信息"),!1;e.optionalList.push({flowId:a.flowId,flowType:a.flowType,userList:a.data.userList.map((function(e){return e.userId}))})}else e.optionalList.push({flowId:a.flowId,flowType:a.flowType});break;case 2:if(0===a.data.userList.length)return this.$message.error("请选择填写人"),!1;e.optionalList.push({flowId:a.flowId,flowType:a.flowType,userList:a.data.userList.filter((function(e){return e.isAdd})).map((function(e){return e.userId}))});break;case 3:e.optionalList.push({flowId:a.flowId,flowType:a.flowType,userList:a.data.userList.map((function(e){return e.userId}))});break;default:e.optionalList.push({flowId:a.flowId,flowType:a.flowType})}}return e}}},U=R,P=(a("ddae"),Object(v["a"])(U,D,S,!1,null,"4383bf77",null)),W=P.exports,$=a("6eca"),z=a("2f62"),q={name:"ModuleCreate",components:{XrCreate:x,CreateSections:T,AppFormItems:A["default"],AppFormFlow:W},mixins:[$["a"]],data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(z["c"])(["userInfo"])),{},{title:function(){return"update"===this.action.type?"编辑".concat(this.action.title):"新建".concat(this.action.title)},examineStatus:function(){return this.detailData&&this.detailData.examineRecord?this.detailData.examineRecord.examineStatus:null}}),created:function(){this.getFieldList()},methods:{close:function(){this.$emit("close")},saveClick:function(){var e=this;this.loading||(this.loading=!0,this.awaitLoading().then((function(){var t=e.$refs.moduleForm;t.validate(function(){var a=Object(c["a"])(regeneratorRuntime.mark((function a(n){var i,c,r,s,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n){a.next=27;break}if(i=null,!(e.flowList&&e.flowList.length>0)){a.next=7;break}if(i=e.$refs.appFormFlow.getForm(),i){a.next=7;break}return e.loading=!1,a.abrupt("return");case 7:if(c=e.getSubmitParams(e.fieldList,e.fieldForm),i&&(i.version=e.moduleObj.version,c.flowSaveBO=i),r=e.flatFieldList.filter((function(e){return"detail_table"===e.formType})),!r.length){a.next=24;break}s=regeneratorRuntime.mark((function t(a){var n,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r[a],i=c.fieldDataList.find((function(e){return e.fieldId===n.fieldId})),!i){t.next=11;break}return o=Object(f["v"])(i.value),t.next=7,e.validateTableData(n,o);case 7:if(s=t.sent,s){t.next=11;break}return e.loading=!1,t.abrupt("return",{v:!1});case 11:case"end":return t.stop()}}),t)})),l=0;case 13:if(!(l<r.length)){a.next=21;break}return a.delegateYield(s(l),"t0",15);case 15:if(d=a.t0,"object"!==Object(o["a"])(d)){a.next=18;break}return a.abrupt("return",d.v);case 18:l++,a.next=13;break;case 21:e.submitParams(c).catch((function(){})),a.next=25;break;case 24:e.validateByFormula(c.fieldDataList).then((function(){e.submitParams(c)})).catch((function(){return e.loading=!1,!1}));case 25:a.next=30;break;case 27:return e.loading=!1,e.getFormErrorMessage(t),a.abrupt("return",!1);case 30:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})).catch((function(){e.loading=!1})))},submitParams:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.moduleId=t.moduleId,e.version=t.moduleObj.version,"update"===t.action.type&&(e.dataId=t.action.id),t.categoryId&&(e.categoryId=t.categoryId),t.action.relativeData&&Object.keys(t.action.relativeData).length&&(e=Object(r["a"])(Object(r["a"])({},e),t.action.relativeData)),t.loading=!0,Object(s["c"])(e).then((function(e){t.loading=!1,t.action.isCopy?t.$message.success("操作成功"):t.$message.success("update"===t.action.type?"编辑成功":"添加成功"),t.close(),t.$emit("save-success")})).catch((function(){t.loading=!1}));case 8:case"end":return a.stop()}}),a)})))()}}},Z=q,Y=(a("ab8b"),Object(v["a"])(Z,n,i,!1,null,"0eda964d",null));t["a"]=Y.exports},d1b4:function(e,t,a){"use strict";a("3f17")},d1c0:function(e,t,a){"use strict";a("59f7")},d254:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("b775");function i(){return Object(n["a"])({url:"moduleMetadata/customAppList",method:"post"})}},d284:function(e,t,a){e.exports=a.p+"static/img/success.1069ed0e.png"},d307:function(e,t,a){var n={"./app.js":"d9cd","./appModule.js":"8d49","./crm.js":"c781","./permission.js":"31c2","./route.js":"fffc","./user.js":"0f9a"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="d307"},d3a1:function(e,t,a){"use strict";a("1421")},d5a7:function(e,t,a){"use strict";a("c863")},d60d:function(e,t,a){},d724:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAURJREFUOBGdkrFOhEAQhhe0sLEFTOy0OuksTgsLXoJCL7GzAmNrYmllYjwJvMHZ8ALXSal38YwFvoKGd1Dwm+gazvPiepNMWIb5P/7dWStJkgel1ItlWRNJx3GGYRi+UzMKG9Ernec8n+q67ldVNcjzfMlITZNNyp+9pmm2WRfk+D8Qm5ggugSwFsfxEXkFcGQKsTudzhDxI6BnhA0wFUVR3xRiB0Hw5nnePpAdDvRYABKmEOuzXSk5OGzf8H7HNq51PU3TE+Bd13V7v03nGyCCRSBTgEUgMsapEJvYPaC4K/b1x3lnMuNAC/R2mMa9iHX955nMONCN4sT3/Z5Mp+2E9xV6NvU9metAg9pOvsRbODrMskxGvv4nQEBFUSyXZTlguYG4y7ZqqXNvxkYAaW5BRnLdEZ8BWjUGtCAXrPfIW9ycfgCf39LWAhTi3wAAAABJRU5ErkJggg=="},d9cd:function(e,t,a){"use strict";a.r(t);var n=a("5530"),i=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("159b"),a("dea6")),o=a("ea20"),c=a("e297"),r=a.n(c),s=a("8ed6"),l=a("6bfe"),d={title:"",type:"warning",description:"",closable:!0,center:!1,closeText:"",showIcon:!0,effect:"light"},u={state:{logo:"",name:"",lang:localStorage.lang||"cn",menuColorData:{},sidebar:{backgroundColor:"#fff",selectedBackground:"#EBECF0",hoverBackground:"#EBECF0",color:"#172B4D",selectedColor:"#172B4D",hoverColor:"#172B4D",collapse:r.a.get("sideBarCollapse")||!1},CRMConfig:{},imageCache:{},marketingEnable:!1,systemAlertShow:!1,systemAlertProps:d,moduleAuth:null,nowMounth:"",pendingMap:new Map,moduleData:[]},mutations:{SET_NOWMOUNTH:function(e,t){e.nowMounth=t},SET_COLLAPSE:function(e,t){e.sidebar.collapse=t,r.a.set("sideBarCollapse",t)},SET_SIDEBAR:function(e,t){e.sidebar=Object(n["a"])(Object(n["a"])({},e.sidebar),t)},SET_APPLOGO:function(e,t){e.logo=t},SET_APPNAME:function(e,t){e.name=t},SET_LANG:function(e,t){e.lang=t,window.app.$i18n.locale=t,localStorage.setItem("lang",t),window.location.reload()},SET_CRMCONFIG:function(e,t){e.CRMConfig=t},SET_IMAGECACHE:function(e,t){e.imageCache=t},SET_MARKETINGENABLE:function(e,t){e.marketingEnable=t},SET_SYSTEMALERTSHOW:function(e,t){e.systemAlertShow=t},SET_SYSTEMALERTPROPS:function(e,t){e.systemAlertProps=Object(s["a"])(Object(n["a"])({},d),t||{})},SET_MODULEAUTH:function(e,t){e.moduleAuth=t},Add_CANCEL_TOKEN:function(e,t){var a=e.pendingMap,n=t.url,i=t.cancel;a.has(n)||a.set(n,i)},Remove_CANCEL_TOKEN:function(e,t){var a=e.pendingMap,n=t.url,i=void 0===n?"":n;a.has(i)&&a.delete(i)},CLEAR_CANCEL_TOKEN:function(e){var t=e.pendingMap;t.forEach((function(e){e("路由跳转取消请求")})),t.clear()},SET_MODULE_DATA:function(e,t){e.moduleData=t},SET_MENU_COLOR_DATA:function(e,t){e.menuColorData=t}},actions:{CRMSettingConfig:function(e){var t=e.commit;return new Promise((function(e,a){Object(o["a"])().then((function(a){t("SET_CRMCONFIG",a.data),e(a)})).catch((function(e){a(e)}))}))},GetMenuColorData:function(e){var t=e.commit;return new Promise((function(e,a){Object(i["b"])(i["a"].pcMenuStyle).then((function(a){var n=a.data;if(Object(l["a"])(n)&&n.length>0){var i=n[0];Object(l["c"])(i)&&t("SET_MENU_COLOR_DATA",i)}else t("SET_MENU_COLOR_DATA",{});e(a)})).catch((function(e){a(e)}))}))}},getters:{lang:function(e){return e.lang},app:function(e){return e},logo:function(e){return e.logo?e.logo:a("4ffd")},name:function(e){return e.name?e.name:window.WKConfig.companyName},nowMounth:function(e){return e.nowMounth},moduleData:function(e){return e.moduleData},collapse:function(e){return e.sidebar.collapse},sidebar:function(e){return e.sidebar},menuColorData:function(e){return e.menuColorData},systemAlertShow:function(e){return e.systemAlertShow},systemAlertProps:function(e){return e.systemAlertProps},moduleAuth:function(e){return e.moduleAuth},CRMConfig:function(e){return e.CRMConfig},imageCache:function(e){return e.imageCache}}};t["default"]=u},da1d:function(e,t,a){},da82:function(e,t,a){},db49:function(e,t,a){"use strict";var n=function(){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},i="https://www.5kcrm.com/download/desktop/mac/%E6%82%9F%E7%A9%BACRM.dmg",o="https://www.5kcrm.com/download/desktop/win/%E6%82%9F%E7%A9%BACRM.exe",c="https://apps.apple.com/cn/app/%E6%82%9F%E7%A9%BAcrm-10-0/id1489143707",r="https://sj.qq.com/myapp/detail.htm?apkName=com.kakarote.crm10",s="/mock/",l="https://open.work.weixin.qq.com/wwopen/sso/3rd_qrConnect?appid=wwbc43295670db368a&redirect_uri=".concat(encodeURIComponent("".concat("https://cloud.5kcrm.cn/#/","/login")),"&state=web_login@gyoss9&usertype=member"),d="https://cloud.5kcrm.cn/#/register/index",u="https://cloud.5kcrm.cn/#/",m="https://www.72crm.com/contact",f="https://cloud.5kcrm.cn",h="https://cloud.5kcrm.cn/scrm",p="101.200.44.152",v="47.93.91.154",b="101.200.200.69",g="悟空CRM",y="V12.2.2",w="qdaGqhttuiKIZKe4vIq2OFXLTQTLpN1l",k=20220917,C="悟空CRM_20220917升级日志\n【新增】自定义报表功能：\n1、多类型图标样式：数据表、汇总表、指标卡等多种图表类型，涵盖广泛的应用场景，全面展示系统数据、科学反映数据信息。\n2、多维度分析：深入分析多个因素的综合影响，将用户特征、业务场景和用户行为等将信息标签化，使分析结果更科学完整。\n3、打通内外协同：支持设置所有人可见，满足企业对内对外的数据展示、数据收集场景。\n4、门户千人千面：丰富权限控制与功能。不同人群不同门户，仪表盘数据可根据当前系统用户在公司组织架构中的角色权限，可查看其下属或下属部门的相关数据，进一步真实了解下级工作状况。",x={stripe:!0,class:[]};t["a"]={version:y,build:k,companyName:g,getLocationOrigin:n,baiduKey:w,macUrl:i,winUrl:o,iOSUrl:c,androidUrl:r,registerUrl:d,tableStyle:x,homeUrl:u,contactUrl:m,wechatLoginUrl:l,updateContent:C,mainDomain:f,sideDomain:h,domainIp:p,domainIp2:v,domainIp3:b,iDCenterUrl:s}},dc96:function(e,t,a){"use strict";a("c9af")},ddae:function(e,t,a){"use strict";a("2212")},de98:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"elclickoutside",rawName:"v-elclickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"wk-dep-select xh-form-border",class:[e.disabled?"is_disabled":"is_valid",{is_focus:e.visible}],attrs:{wrap:"wrap"},on:{click:e.containerClick}},[a("div",{staticClass:"el-select__tags"},e._l(e.showSelects,(function(t,n){return a("span",{key:n,staticClass:"user-item text-one-line"},[a("wx-open-data",{attrs:{openid:t.name,type:"departmentName"}}),e._v(" "),a("i",{staticClass:"delete-icon el-icon-close",on:{click:function(t){t.stopPropagation(),e.deleteDep(n)}}})],1)}))),e._v(" "),e.selects.length>e.max?a("i",{staticClass:"el-icon-more"}):e._e(),e._v(" "),a("i",{class:["el-icon-arrow-up"]}),e._v(" "),0==e.selects.length?a("div",{staticClass:"user-placeholder text-one-line"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[a("wk-select-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!e.disabled,expression:"visible && !disabled"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[a("el-scrollbar",{ref:"scrollbar",attrs:{tag:"div"}},[e.initView?a("wk-dep",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{disabled:e.disabled,options:e.options,props:e.config,radio:e.radio},on:{change:e.wkDepChange,close:function(t){e.visible=!1}},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}}):e._e()],1)],1)],1)],1)},i=[],o=a("5530"),c=(a("a9e3"),a("fb6a"),a("d3b7"),a("159b"),a("caad"),a("2532"),a("d81d"),a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":e.$parent.multiple},e.popperClass],style:{minWidth:e.minWidth}},[e._t("default")],2)}),r=[],s=a("e974"),l=a.n(s),d={name:"WkSelectDropdown",componentName:"WkSelectDropdown",mixins:[l.a],props:{placement:{type:String,default:"bottom-start"},boundariesPadding:{type:Number,default:0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}},visibleArrow:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:"300px"}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{},mounted:function(){var e=this;this.referenceElm=this.$parent.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},u=d,m=a("2877"),f=Object(m["a"])(u,c,r,!1,null,null,null),h=f.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xh-user"},[e.headerShow?a("div",{staticClass:"xh-user__hd"},[e._v("\n    部门\n  ")]):e._e(),e._v(" "),a("div",{staticClass:"xh-user__bd"},[a("el-autocomplete",{attrs:{disabled:e.disabled,"popper-append-to-body":!1,"fetch-suggestions":e.searchListUser,placeholder:"请输入内容"},on:{select:e.searchSelect},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("span",[e._v(e._s(n[e.config.label]))])]}}]),model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),a("div",{staticClass:"search-list"},[a("el-breadcrumb",{staticStyle:{padding:"5px 0"},attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.breadcrumbList,(function(t,n){return a("el-breadcrumb-item",{key:n},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){e.breadcrumbBtn(t,n)}}},[0===n?[e._v(e._s(t.label))]:a("wx-open-data",{attrs:{openid:t.label,type:"departmentName"}})],2)])}))),e._v(" "),e.currentBreadcrumbItem?a("div",{staticClass:"xh-user__list"},[e.radio?e._e():a("el-checkbox",{staticStyle:{"line-height":"30px"},attrs:{disabled:e.disabled},on:{change:e.handleCheckAllChange},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("全选")]),e._v(" "),a("wk-dep-checkbox",{ref:"depCheckbox",attrs:{radio:e.radio,data:e.currentBreadcrumbItem.deptList,props:e.props,disabled:e.disabled,value:e.value},on:{input:function(t){e.$emit("input",t)},change:e.checkboxChange,"all-select":e.userAllSelect,next:e.nextDebounceClick}})],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"xh-user__ft"},[a("span",{staticClass:"select-info"},[e._v("已选择"),a("span",{staticClass:"select-info--num"},[e._v(e._s(e.value?e.value.length:0))]),e._v("项")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.clearAll}},[e._v("清空")])],1)])},v=[],b=(a("4de4"),a("ac1f"),a("466d"),a("b0c0"),a("b775"));function g(e){return Object(b["a"])({url:"hrmDept/queryTreeList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}var y=a("2934"),w=a("aa59"),k=a("a318"),C=a.n(k),x=a("8ed6"),I=a("7a1a"),_={value:"deptId",label:"name",request:null,params:null,dataType:"manage"},j={name:"WkDep",components:{WkDepCheckbox:w["a"]},inheritAttrs:!1,props:{radio:Boolean,headerShow:{type:Boolean,default:!0},options:Array,value:Array,props:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{searchInput:"",searchUserList:[],breadcrumbList:[],currentBreadcrumbItem:null,allChecked:!1}},computed:{config:function(){return Object(x["a"])(Object(o["a"])({},_),this.props||{})}},watch:{breadcrumbList:function(){this.currentBreadcrumbItem=this.breadcrumbList[this.breadcrumbList.length-1]},options:{handler:function(){this.options?this.getDepUserList(0,this.options):this.requestDepList()},immediate:!0}},created:function(){this.nextDebounceClick=Object(I["debounce"])(300,this.nextClick)},methods:{searchListUser:function(e,t){var a=this,n=this.currentBreadcrumbItem.deptList;if(n&&n.length>0){var i=n;t(e?i.filter((function(t){return C.a.match(t[a.config.label]||"",e)})):i)}},searchSelect:function(e){this.$refs.depCheckbox.searchSelect(e)},checkboxChange:function(e){var t=this;this.radio?(this.$emit("input",e.length>0?[e[e.length-1]]:[]),this.$emit("close")):this.$emit("input",e),this.$nextTick((function(){t.$emit("change",e)}))},handleCheckAllChange:function(e){this.$refs.depCheckbox&&this.$refs.depCheckbox.handleCheckAllChange(e)},userAllSelect:function(e){this.allChecked!=e&&(this.allChecked=e)},clearAll:function(){this.$emit("input",[])},getDepUserList:function(e,t){0==e?this.breadcrumbList=[{label:"全部",deptList:t,employeeList:[]}]:this.breadcrumbList.push({label:t.name,deptList:t.children,employeeList:[]})},requestDepList:function(){var e=this;this.loading=!0;var t="hrm"===this.config.dataType?g:this.config.request||y["h"];t(this.config.params||{type:"tree"}).then((function(t){e.getDepUserList(0,t.data||[]),e.loading=!1})).catch((function(){e.loading=!1}))},nextClick:function(e){this.radio||(this.allChecked=!1),this.getDepUserList(e.deptId,e)},breadcrumbBtn:function(e,t){t+1<=this.breadcrumbList.length-1&&this.breadcrumbList.splice(t+1,this.breadcrumbList.length-1)}}},O=j,F=(a("0646"),Object(m["a"])(O,p,v,!1,null,"3320b8b4",null)),T=F.exports,A=a("d010"),D=a.n(A),S=a("8122"),L=a("ed08"),E=a("2f62"),N={value:"deptId",label:"name",request:null,params:null,dataType:"manage",isList:!1},V={name:"WkDepSelect",components:{WkSelectDropdown:h,WkDep:T},mixins:[D.a],props:{radio:Boolean,max:{type:Number,default:2},props:{type:Object,default:function(){return{value:"deptId",label:"name"}}},placeholder:{type:String,default:function(){return"请选择"}},value:{required:!0},request:Function,params:Object,options:Array,disabled:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{visible:!1,dataValue:[],loading:!1,initView:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(E["c"])(["deptList","hrmDeptList"])),{},{optionsList:function(){return"manage"===this.config.dataType?this.deptList:"hrm"===this.config.dataType?this.hrmDeptList:void 0},showSelects:function(){return this.selects&&this.selects.length>this.max?this.selects.slice(0,this.max):this.selects},selects:function(){return this.optionsList.length?this.getSelectList():[]},config:function(){var e=Object(x["a"])(Object(o["a"])({},N),this.props||{});return this.request&&(e.request=this.request),this.params&&(e.params=this.params),e}}),watch:{visible:function(e){e?this.broadcast("WkSelectDropdown","updatePopper"):this.broadcast("WkSelectDropdown","destroyPopper"),this.$emit("visible-change",e)},value:function(){this.verifyValue()},props:{handler:function(){this.requestDepList()},immediate:!0},dataValue:function(e,t){this.radio?this.$emit("input",this.dataValue&&this.dataValue.length?this.dataValue[0]:""):this.$emit("input",this.dataValue)}},created:function(){this.verifyValue()},methods:{getSelectList:function(){var e=[];return this.recursionOptions(this.optionsList,this.dataValue,e),e},recursionOptions:function(e,t,a){var n=this;e.forEach((function(e){t.includes(e[n.config.value])&&a.push(e),e.children&&n.recursionOptions(e.children,t,a)}))},verifyValue:function(){var e=this;if(this.radio||Array.isArray(this.value)||this.$emit("input",[]),this.radio&&(Array.isArray(this.value)||null===this.value||void 0===this.value)&&this.$emit("input",""),this.radio)this.value!==this.dataValue&&(this.value?this.dataValue=[this.value]:this.dataValue=[]);else if(!Object(S["valueEquals"])(this.value,this.dataValue))if(this.value&&this.value.length){var t=this.value[0];t[this.config.value]?this.dataValue=this.value.map((function(t){return t[e.config.value]})):this.dataValue=Object(L["u"])(this.value)}else this.dataValue=[]},requestDepList:function(){"manage"===this.config.dataType?this.$store.dispatch("debounceGetDeptList"):"hrm"===this.config.dataType&&this.$store.dispatch("debounceGetHrmDeptList")},handleClose:function(){this.visible=!1},handleMenuEnter:function(){},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},deleteDep:function(e){if(!this.disabled){var t=Object(L["u"])(this.dataValue);t.splice(e,1),this.dataValue=t,this.wkDepChange()}},focusClick:function(){this.$emit("focus")},wkDepChange:function(){var e=this;this.$nextTick((function(){if(e.radio){var t=e.dataValue&&e.dataValue.length?e.dataValue[0]:"";e.$emit("input",t),e.dispatch("ElFormItem","el.form.change",t)}else e.$emit("input",e.dataValue),e.dispatch("ElFormItem","el.form.change",e.dataValue);e.$emit("change",e.dataValue,e.selects)}))},containerClick:function(){this.disabled||(this.initView=!0,this.visible=!this.visible)}}},M=V,B=(a("7c04"),Object(m["a"])(M,n,i,!1,null,"0702fe34",null));t["a"]=B.exports},dea6:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return l}));var n=a("b775");var i={pcRegisterStatistics:"pcRegisterStatistics",pcCRMprefix:"pcCRM",pcMenuStyle:"pcMenuStyle",pcUserApp:"pcUserApp"};function o(e){return Object(n["a"])({url:"adminConfig/queryCustomSetting/".concat(e),method:"post"})}function c(e){return Object(n["a"])({url:"scrmWxWorkConfig/getConfig",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(n["a"])({url:"scrmWxWorkUser/authorizedUserInformation?code=".concat(e.code),method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(){return Object(n["a"])({url:"scrmCustomer/synchronizeWxChatWorkData",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(n["a"])({url:"adminUser/unbindingWxWorkByUserId",method:"post",data:e})}},df03:function(e,t,a){},dfdd:function(e,t,a){},e170:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a("b775");function i(e){return Object(n["a"])({url:"crmField/queryListHead/"+e.label,method:"post",data:e})}function o(e){return Object(n["a"])({url:"crmCustomerPool/queryPoolListHead",method:"post",data:e})}function c(e){return Object(n["a"])({url:"crmField/verify",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(n["a"])({url:"adminMessage/queryImportNum",method:"post",data:e})}function s(e){return Object(n["a"])({url:"adminMessage/downImportError",method:"post",data:e,responseType:"blob"})}},e176:function(e,t,a){"use strict";a("28d9")},e296:function(e,t,a){e.exports={colorPrimary:"#0052CC",colorBlack:"#172B4D",colorSuccess:"#36B37E",colorWarning:"#FFAB00",colorDanger:"#FF5630",colorN40:"#DFE1E6",axisLineColor:"#DFE1E6",axisLabelFontWeight:"500"}},e360:function(e,t,a){},e395:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return d}));a("d3b7"),a("159b"),a("b64b");var n=a("b775");function i(e){return Object(n["a"])({url:"moduleM/released/list/".concat(e.applicationId),method:"post"})}function o(e){return Object(n["a"])({url:"moduleM/bi/list/".concat(e.applicationId),method:"post"})}function c(e){return Object(n["a"])({url:"moduleM/latest/list/".concat(e.applicationId),method:"post"})}function r(e){return Object(n["a"])({url:"moduleMetadata/update",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function s(e){return Object(n["a"])({url:"moduleMetadata/updateStatus/".concat(e.applicationId),method:"post",data:e})}function l(e){return Object(n["a"])({url:"moduleMetadata/delete/".concat(e.applicationId),method:"post"})}function d(e){var t=new FormData;return Object.keys(e).forEach((function(a){t.append(a,e[a])})),Object(n["a"])({url:"moduleMetadata/import",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}},e4df:function(e,t,a){},e541:function(e,t,a){"use strict";a("b972")},e56b:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a("5530"),i=a("1da1"),o=(a("96cf"),a("7db0"),a("d3b7"),a("99af"),a("4de4"),a("159b"),a("d81d"),a("b0c0"),a("b775"));function c(e){return Object(o["a"])({url:"/adminRouter/list/".concat(e.applicationId),method:"post"})}var r=a("e395"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"nav-container"},[e.menus&&e.menus.length?a("navbar",{attrs:{menus:e.menus,title:e.activeApplication,"nav-mode":"more"},on:{select:e.menuSelect}},[e.saveModuleAuth?a("div",{staticClass:"create-btn",style:{left:e.leftWidth},attrs:{slot:"left"},slot:"left"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleToCreate}})],1):e._e()]):e._e()],1),e._v(" "),a("wk-container",{attrs:{menu:e.sideMenus,"header-obj":e.headerCellObj}},[a("el-main",{staticStyle:{padding:"0"},attrs:{id:"user-defined-container"}},[a("app-main")],1)],1),e._v(" "),e.moduleEditVisible?a("module-update",{attrs:{"app-id":e.applicationId},on:{update:e.handleUpdate,close:e.handleCloseEdit}}):e._e()],1)},l=[],d=(a("a15b"),a("81a5")),u=a("38e2"),m=a("2f62"),f=a("df7c"),h=a.n(f),p=a("b010"),v={name:"UserAppLayout",components:{Navbar:u["b"],AppMain:u["a"],WkContainer:d["a"]},data:function(){return{navIndex:null,leftWidth:"0px",timer:null,sideMenus:[],headerCellObj:{},moduleEditVisible:!1,updateFlag:!1,applicationId:null}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(m["c"])("appModule",["userAppList","userAppRouterObj"])),Object(m["c"])(["userInfo"])),{},{routerList:function(){var e=this.$route.meta.applicationId;return this.userAppRouterObj[e]||[]},menus:function(){var e=this.$route.meta.applicationId;return Object(p["a"])(this.routerList,"/userApp/".concat(e))},saveModuleAuth:function(){return this.$auth("manage.configSet.saveModule")},activeApplication:function(){var e=this,t=this.userAppList.find((function(t){return t.applicationId===e.$route.meta.applicationId}))||{};return t.name||""}}),watch:{menus:{handler:function(){var e=this;this.menus.length&&this.$nextTick((function(){e.setCreateBtnStyle()}))},deep:!0,immediate:!0}},beforeRouteEnter:function(e,t,a){a((function(t){t.navIndex=null,t.$nextTick((function(){t.navIndex=e.path,t.setCreateBtnStyle()}))}))},mounted:function(){window.addEventListener("resize",this.setCreateBtnStyle)},beforeDestroy:function(){window.removeEventListener("resize",this.setCreateBtnStyle),this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{menuSelect:function(e){var t=this.routerList[e.index];if(t&&t.children&&t.children.length>1){this.sideChildRouter=t,this.sideMenus=this.getSideMenus(t.path,t.children);var a=this.menus[e.index];this.headerCellObj={icon:a.icon,label:a.label,des:a.label}}else this.sideChildRouter=null,this.sideMenus=[],this.headerCellObj={}},getSideMenus:function(e,t){var a=this,i=[];return t.forEach((function(t){var o=!0;t.permissions&&(o=a.$auth(t.permissions.join("."))),!t.hidden&&o&&i.push(Object(n["a"])(Object(n["a"])({},t),{},{path:h.a.resolve(e,t.path)}))})),i},navClick:function(){},handleToCreate:function(){this.applicationId=this.$route.meta.applicationId,this.moduleEditVisible=!0},setCreateBtnStyle:function(e){var t=this;this.timer&&(clearTimeout(this.tiemr),this.timer=null),e?this.timer=setTimeout((function(){t.setCreateBtnStyle()}),500):this.$nextTick((function(){var e=t.$el.getElementsByClassName("el-tabs__nav")[0];if(e){var a=e.getBoundingClientRect();t.leftWidth=a.width+a.left+"px"}else t.menus.length&&(t.tiemr=setTimeout((function(){t.setCreateBtnStyle()}),1e3))}))},handleUpdate:function(){this.updateFlag=!0},handleCloseEdit:function(){this.moduleEditVisible=!1,this.updateFlag&&(this.updateFlag=!1,window.location.reload())}}},b=v,g=(a("6bf6"),a("2877")),y=Object(g["a"])(b,s,l,!1,null,"14aae754",null),w=y.exports,k=a("4360"),C=a("d4ec"),x=a("bee2"),I=a("ade3"),_=(a("b64b"),a("ac1f"),a("1276"),a("ed08")),j=a("6bfe"),O=(a("3ca3"),a("ddb0"),{"@/views/userApp/index":function(){return Promise.all([a.e("chunk-23068d04"),a.e("chunk-c32fa6ac")]).then(a.bind(null,"73cc"))},"@/views/userApp/components/Print":function(){return a.e("chunk-2d4de8c0").then(a.bind(null,"1731"))},"@/views/admin/dashBoard/index":""}),F=function(e){if(e)return O[e]},T=function(){function e(t){var a=this;Object(C["a"])(this,e),Object(I["a"])(this,"id",null),Object(I["a"])(this,"parentId","0"),Object(I["a"])(this,"applicationId",null),Object(I["a"])(this,"moduleId",null),Object(I["a"])(this,"title",""),Object(I["a"])(this,"name",null),Object(I["a"])(this,"path",null),Object(I["a"])(this,"redirect",null),Object(I["a"])(this,"icon",""),Object(I["a"])(this,"permissions",[]),Object(I["a"])(this,"requiresAuth",!0),Object(I["a"])(this,"component",null),Object(I["a"])(this,"hidden",!1),Object(I["a"])(this,"sort",null),Object(I["a"])(this,"canEdit",!0),Object(I["a"])(this,"isSystem",!0),Object(I["a"])(this,"sourceApplicationId",null),Object(I["a"])(this,"sourceModuleId",null),Object(I["a"])(this,"extData",{}),Object(I["a"])(this,"children",void 0),Object(I["a"])(this,"type",0),Object.keys(t).forEach((function(e){a[e]=t[e]})),this.permissions=Object(_["v"])(t.permissions),this.extData=Object(_["v"])(t.extData||{})}return Object(x["a"])(e,[{key:"generate",value:function(){var t={name:this.name||void 0,redirect:this.redirect||void 0,path:this.path,hidden:Boolean(this.hidden),component:F(this.component),meta:Object(n["a"])({title:this.title,icon:this.icon,isSystem:Boolean(this.isSystem),id:this.id,parentId:this.parentId,applicationId:this.applicationId,sourceApplicationId:this.sourceApplicationId,sourceModuleId:this.sourceModuleId,requiresAuth:Boolean(this.requiresAuth)},this.extData)};if(this.permissions){var a=this.permissions.map((function(e){return e.split(".")}));a.length>1?t.meta.permissionList=a:t.meta.permissions=a[0]}if(!Object(j["b"])(this.children)){var i=[];this.children.forEach((function(t){t instanceof e?i.push(t.generate()):i.push(new e(t).generate())})),t.children=i}return t}}]),e}(),A=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].dispatch("appModule/getActiveModuleByAppId",t).catch((function(){return[]}));case 2:return a=e.sent,e.next=5,Object(r["d"])({applicationId:t}).then((function(e){return e.data||[]})).catch((function(){return[]}));case 5:return n=e.sent,a=a.concat(n),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",a=e.filter((function(e){return e.parentId===t}));return a.forEach((function(t){var a=D(e,t.id);a.length&&(t.children=a)})),a}function S(e){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,i,o,r,s,l,d,u,m,f,h,p,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=v.length>1&&void 0!==v[1]?v[1]:void 0,e.next=3,k["a"].dispatch("route/getRouteAppList").catch((function(){return[]}));case 3:if(i=e.sent,o=i.find((function(e){return e.applicationId===a})),o){e.next=8;break}return e.abrupt("return",[]);case 8:return e.next=11,c({applicationId:o.applicationId}).then((function(e){return e.data||[]})).catch((function(){return[]}));case 11:return r=e.sent,e.next=14,A(a);case 14:if(s=e.sent,r.length){e.next=21;break}return e.next=18,E(a,s).catch((function(){return[]}));case 18:r=e.sent,e.next=29;break;case 21:if(l=[],s.forEach((function(e){var t=r.find((function(t){return t.sourceApplicationId===a&&t.sourceModuleId===e.moduleId}));t||l.push(e)})),d=[],!l.length){e.next=29;break}return e.next=27,E(a,l).catch((function(){return[]}));case 27:d=e.sent,r=r.concat(d);case 29:u=[],m=k["a"].state.appModule.categoryList,f=function(e){var t=r[e];if(t.isSystem)return u.push(t),"continue";var a=m.filter((function(e){return e.moduleId===t.sourceModuleId}));if(!a.length)return u.push(t),"continue";var i=a.map((function(e){return 0===e.type?"".concat(t.sourceApplicationId,".").concat(t.sourceModuleId,"-").concat(e.categoryId):"".concat(t.sourceApplicationId,".").concat(t.sourceModuleId,"-")}));if(t.parentId&&"0"!==t.parentId){var o=r.find((function(e){return e.id===t.parentId}));o&&(o.permissions?o.permissions=Object(_["v"])(o.permissions):o.permissions=[],o.permissions.concat(i))}else u.push(Object(n["a"])(Object(n["a"])({},t),{},{path:t.sourceApplicationId,permissions:i}));a.forEach((function(e){var a=Object(_["u"])(t);if(a.parentId&&"0"!==a.parentId||(a.parentId=a.id),a.id="c-".concat(a.id),0===e.type)return a.path="".concat(a.sourceApplicationId,"/").concat(a.parentId,"/subs/").concat(a.sourceModuleId),void u.push(a);a.permissions=["".concat(a.sourceApplicationId,".").concat(a.sourceModuleId,"-").concat(e.categoryId)],a.extData?a.extData=Object(_["v"])(a.extData):a.extData={},Object.assign(a.extData,e),a.title=e.categoryName,a.path="".concat(a.sourceApplicationId,"/").concat(a.parentId,"/subs/").concat(a.sourceModuleId,"/").concat(e.categoryId),u.push(a)}))},h=0;case 33:if(!(h<r.length)){e.next=40;break}if(p=f(h),"continue"!==p){e.next=37;break}return e.abrupt("continue",37);case 37:h++,e.next=33;break;case 40:return r=u,e.abrupt("return",V(t,a,r));case 43:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return N=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]?i[1]:[],a.length){e.next=5;break}return e.next=4,A(t);case 4:a=e.sent;case 5:return n=[],a.forEach((function(e){var a="",i=2===e.moduleType?"@/views/admin/dashBoard/index":"@/views/userApp/index",o=2===e.moduleType?["".concat(t)]:["".concat(t,".").concat(e.moduleId,"-").concat(a||"")];n.push(new T({id:e.moduleId,applicationId:t,moduleId:e.moduleId,title:e.name,path:"".concat(t,"/").concat(e.moduleId),component:i,icon:e.icon,type:0,isSystem:!1,permissions:o,sourceApplicationId:e.applicationId,sourceModuleId:e.moduleId}))})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function V(e,t,a){var i=[];return a=Object(j["b"])(a)?[]:D(a),a.push(new T({applicationId:t,sourceApplicationId:t,name:"userAppPrint",path:"print",hidden:!0,title:"打印",icon:"print",component:"@/views/userApp/components/Print",isSystem:!1})),a.forEach((function(a){var o=null;o=a instanceof T?a.generate():new T(a).generate(),(0!==a.type||o.component)&&(Object(j["b"])(o.children)?i.push({path:"/".concat(e).concat(t?"/".concat(t):""),component:w,hidden:Boolean(o.hidden),children:[o],meta:Object(n["a"])({requiresAuth:!0},o.meta)}):i.push({path:"/".concat(e).concat(t?"/".concat(t):""),component:w,hidden:Boolean(o.hidden),children:o.children,meta:Object(n["a"])({requiresAuth:!0},o.meta)}))})),i}},e7b7:function(e,t,a){"use strict";a("f90f")},e7c9:function(e,t,a){},e816:function(e,t,a){},e9a8:function(e,t,a){},e9ca:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item.hidden?e._e():a("div",{staticClass:"menu-wrapper"},[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?a("el-submenu",{ref:"subMenu",class:{"is-dark":!e.sidebar||"#fff"===e.sidebar.color,"is-light":e.sidebar&&"#172B4D"===e.sidebar.color},attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[a("template",{slot:"title"},[e.item.meta?a("item",{attrs:{selectd:e.getItemSelected(e.item),icon:e.item.meta&&e.item.meta.icon,title:e.item.meta.title,num:e.item.meta.num,"style-obj":e.sidebar}}):e._e()],1),e._v(" "),e._l(e.item.children,(function(t){return a("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path),"active-menu":e.activeMenu}})}))],2):[a("el-tooltip",{attrs:{disabled:!e.collapse,content:e.onlyOneChild.meta.title,effect:"dark",placement:"right"}},[e.onlyOneChild.meta?a("app-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path)}},[a("el-menu-item",{attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[a("item",{attrs:{selectd:e.getItemSelected(e.onlyOneChild),icon:e.onlyOneChild.meta.icon||e.item.meta&&e.item.meta.icon,title:e.onlyOneChild.meta.title,num:e.onlyOneChild.meta.num,count:e.onlyOneChild.count,collapse:e.collapse,"style-obj":e.sidebar}})],1)],1):e._e()],1)]],2)},i=[],o=a("5530"),c=(a("4de4"),a("d3b7"),a("ac1f"),a("1276"),a("df7c")),r=a.n(c),s=a("61f7"),l=a("b2c3"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("component",e._b({},"component",e.linkProps(e.to),!1),[e._t("default")],2)},u=[],m={props:{to:{type:String,required:!0}},methods:{linkProps:function(e){return Object(s["a"])(e)?{is:"a",href:e,target:"_blank",rel:"noopener"}:{is:"router-link",to:e}}}},f=m,h=a("2877"),p=Object(h["a"])(f,d,u,!1,null,null,null),v=p.exports,b={computed:{device:function(){return this.$store.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{fixBugIniOS:function(){var e=this,t=this.$refs.subMenu;if(t){var a=t.handleMouseleave;t.handleMouseleave=function(t){"mobile"!==e.device&&a(t)}}}}},g=a("55f9"),y=a.n(g),w=a("2f62"),k={name:"SidebarItem",components:{Item:l["a"],AppLink:v},mixins:[b],props:{item:{type:Object,required:!0},basePath:{type:String,default:""},activeMenu:String,collapse:Boolean},data:function(){return this.onlyOneChild=null,{}},computed:Object(o["a"])(Object(o["a"])({},Object(w["c"])(["sidebar"])),{},{variables:function(){return y.a}}),methods:{hasOneShowingChild:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=t.filter((function(t){return!t.hidden&&(e.onlyOneChild=t,!0)}));return 1===n.length||0===n.length&&(this.onlyOneChild=Object(o["a"])(Object(o["a"])({},a),{},{path:"",noShowingChildren:!0}),!0)},resolvePath:function(e){return Object(s["a"])(e)?e:Object(s["a"])(this.basePath)?this.basePath:r.a.resolve(this.basePath,e)},getItemSelected:function(e){var t=this.resolvePath(e.path),a=this.activeMenu===t;return a||this.activeMenu.split("?")[0]===t.split("?")[0]}}},C=k,x=(a("c7d9"),Object(h["a"])(C,n,i,!1,null,"4f6d285a",null));t["a"]=x.exports},ea20:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));a("d3b7"),a("159b"),a("b64b");var n=a("b775");function i(e){return Object(n["a"])({url:"crmProductCategory/queryList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"crmCustomer/getRulesSetting",method:"post",data:e})}},ed08:function(e,t,a){"use strict";(function(e){a.d(t,"r",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"o",(function(){return h})),a.d(t,"u",(function(){return p})),a.d(t,"m",(function(){return v})),a.d(t,"t",(function(){return b})),a.d(t,"b",(function(){return g})),a.d(t,"C",(function(){return y})),a.d(t,"l",(function(){return w})),a.d(t,"B",(function(){return k})),a.d(t,"z",(function(){return x})),a.d(t,"y",(function(){return I})),a.d(t,"x",(function(){return _})),a.d(t,"w",(function(){return O})),a.d(t,"h",(function(){return F})),a.d(t,"A",(function(){return T})),a.d(t,"i",(function(){return A})),a.d(t,"n",(function(){return D})),a.d(t,"e",(function(){return S})),a.d(t,"s",(function(){return L})),a.d(t,"a",(function(){return E})),a.d(t,"d",(function(){return N})),a.d(t,"f",(function(){return V})),a.d(t,"j",(function(){return M})),a.d(t,"q",(function(){return B})),a.d(t,"p",(function(){return R})),a.d(t,"k",(function(){return U})),a.d(t,"c",(function(){return P})),a.d(t,"v",(function(){return W}));a("5530"),a("ade3");var n=a("53ca"),i=(a("ac1f"),a("5319"),a("00b4"),a("1276"),a("466d"),a("ace4"),a("d3b7"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("a9e3"),a("b680"),a("99af"),a("b0c0"),a("caad"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("c19f"),a("a15b"),a("d81d"),a("b64b"),a("5128")),o=(a("6bfe"),a("5c96")),c=a("c1df"),r=a.n(c),s=a("2934"),l=a("b5b9"),d=a("9816"),u=(a("1146"),a("da92"),a("21a6"),a("4360"),a("326a"));function m(e){if(e){var t=e.split(" ");return t.length>0?t[0]:""}return e}function f(e){if(!e||0==e)return"0 Bytes";if(isNaN(Number(e)))return e;var t=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=0,n=parseFloat(e);a=Math.floor(Math.log(n)/Math.log(1024));var i=n/Math.pow(1024,a);return i=i.toFixed(2),i+t[a]}function h(){return i["PopupManager"].nextZIndex()}function p(e){if("object"===Object(n["a"])(e)){var t=e instanceof Array?[]:{};for(var a in e)e[a]?t[a]="object"===Object(n["a"])(e[a])?p(e[a]):e[a]:t[a]=e[a];return t}return e}function v(e){if(-1!==e.type.indexOf("image"))return w("png");if(-1!==e.type.indexOf("audio"))return w("mp3");if(-1!==e.type.indexOf("video"))return w("mp4");var t=e.name.lastIndexOf("."),a=e.name.substr(t+1)||"";return w(a)}function b(e){var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",["7z","rar","zip"].includes(a)}function g(e){var t=e?e.split("."):[],a="";return a=t.length>0?t[t.length-1]:"",a=a.toLowerCase(),!!["xlsx","xls","xlt","xltx"].includes(a)||(!!["doc","docx","dot","dotx"].includes(a)||("pdf"===a||(!!["ppt","pptx","pot","potx"].includes(a)||(!!["txt","text","rtf"].includes(a)||(!!["html"].includes(a)||!!b(a))))))}function y(e,t){var a=window.app.$router.resolve("/perview?path=".concat(e,"&name=").concat(t));window.open(a.href,"_blank")}function w(e){var t=C(e);return t&&{image:a("9155"),tif:a("6bfd"),video:a("b397"),audio:a("060e"),excel:a("bdb5"),word:a("a918"),archive:a("2b67"),pdf:a("f87a"),ppt:a("aaee"),text:a("f47d")}[t]||a("794f")}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"excel",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!0;if(e){var i=e.lastIndexOf("."),c=e.substr(i+1)||"",r=C(c);r!=t&&(n=!1)}else n=!1;return!n&&a&&Object(o["Message"])({message:"请选择正确的文件类型",type:"error"}),n}function C(e){if(e){if(e=e.toLowerCase(),["jpg","png","jpeg","bmp","ico","gif"].includes(e))return"image";if("psd"===e)return"psd";if("tif"===e)return"tif";if(["mp4","m2v","mkv","rmvb","wmv","avi","flv","mov","3gp"].includes(e))return"video";if(["mp3","wma","wav"].includes(e))return"audio";if(["xlsx","xls"].includes(e))return"excel";if(["doc","docx"].includes(e))return"word";if(["rar","zip","7z","tar","iso","dmg"].includes(e))return"archive";if("pdf"===e)return"pdf";if(["ppt","pptx"].includes(e))return"ppt";if(["txt","text"].includes(e))return"text"}return""}function x(e){var t=/^([-+]?\d{1,15})(\.\d{0,4})?$/;return!!t.test(e)}function I(e){var t=/^([-+]?\d{1,15})(\.\d{0,2})?$/;return!!t.test(e)}function _(e){var t=/^(\+?0?\d{2,4}\-?)?\d{6,11}$/;return!!t.test(e)}var j=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;function O(e){return!!j.test(e)}function F(e){var t=r()(e),a=r()(),n=a.diff(t,"seconds"),i=60,o=60*i,c=24*o,s=30*c,l=n/s,d=n/(7*c),u=n/c,m=n/o,f=n/i;return l>=1?l>11?t.format("YY年MM月DD日"):parseInt(l)+"月前":d>=1?parseInt(d)+"周前":u>=1?parseInt(u)+"天前":m>=1?parseInt(m)+"小时前":f>=1?parseInt(f)+"分钟前":"刚刚"}function T(e,t){if(e){var a="";return a=isNaN(e)?r()(e):r()("number"===typeof e?e:parseInt(e)),a.isValid()?a.format(t||"YYYY-MM-DD"):""}return""}function A(e){if(e&&e.length>0){var t=r()(e).valueOf().toString();return t.length>10?t.substr(0,10):t}return""}function D(e){return new Promise((function(t,a){if(e){var n=null;n=-1!==e.indexOf("adminFile/down/")?l["c"]:s["i"],n(e).then((function(e){var a=new FileReader;a.readAsDataURL(e.data),a.onload=function(a){t({blob:e.data,src:a.target.result})}})).catch((function(){a()}))}else a()}))}function S(e){Object(s["i"])(e.path).then((function(t){V(t.data,e.name||"文件")})).catch((function(){}))}function L(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}function E(e){var t="-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzaLc7XHaYpVOR2UtBeyXdVW5wLKpHulw/8KMW61Qa/RcVykhkbb0QAwxqSTUu9L6gS2c8WqLjnKOJB+FZfrATuHGzKrPuBgToMWA7XlcSf1P9TH3Kz6SziM/qQeIo4HigbsOZTiYWl01ds5Mj/x63npOehmrf0Q5CIymrqZfNGaS7VHXoNe5U3nPxeYw2PmXL7O2qt3jIm/HUQDdu0DyBtkS3JehCt8ZBHCHkjBeHO1XJvZuplU4a4+N/J0M+GzkJBoDe3ZQGlECsXItfHxb4RGex7XvbeFdB/xkHS23avvXFNTqU1ZLoYSWbjkaEXV8RHvkIYBpIvqdEtKRI6JlNwIDAQAB-----END PUBLIC KEY-----",a=new d["a"];return a.setPublicKey(t),a.encrypt(e)}function N(e){var t=e.headers["content-disposition"].split("filename=")[1];t||(t=e.headers["content-disposition"].split("UTF-8''")[1]),t=t?t.replace(/\"/g,""):"file.xlsx",t=decodeURI(t)||"",V(e.data,t,"application/vnd.ms-excel;charset=utf-8")}function V(e,t,a){var n=document.createElement("a"),i=window.URL.createObjectURL(e);n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}function M(){return e.BMap?e.BMap._preloader?e.BMap._preloader:Promise.resolve(e.BMap):(e.BMap={},e.BMap._preloader=new Promise((function(t,a){e._initBaiduMap=function(){t(e.BMap),e.document.body.removeChild(n),e.BMap._preloader=null,e._initBaiduMap=null};var n=document.createElement("script");e.document.body.appendChild(n),n.src="https://api.map.baidu.com/api?v=3.0&ak=".concat(WKConfig.baiduKey,"&callback=_initBaiduMap")})),e.BMap._preloader)}function B(e,t){if(!e)return!1;if("string"===typeof t){if(t.indexOf(".")<0)return e[t];for(var a=t.split("."),n=e,i=0;i<a.length;i++)if(n=n[a[i]],void 0===n)return!1;return n}return"function"===typeof t?t.call(null,e):void 0}function R(e){return!0}function U(){var e=window.location.hostname||"",t=e.split(".");return t.length>1?".".concat(t[t.length-2],".").concat(t[t.length-1]):""}function P(e,t){var a=e.replace("#","");3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var n=parseInt(a.substring(0,2),16),i=parseInt(a.substring(2,4),16),o=parseInt(a.substring(4,6),16);return"rgba("+n+","+i+","+o+","+t+")"}function W(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!==typeof e)return e;try{return(new u["a"]).parse(e)}catch(a){if(t)throw a;return e}}}).call(this,a("c8ba"))},ee37:function(e,t,a){"use strict";a("10b4")},ee8e:function(e,t,a){"use strict";a("8811")},eea8:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"a",(function(){return u}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"moduleField/queryListHead",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function o(e){return Object(n["a"])({url:"moduleField/queryUnionList/".concat(e.targetModuleId,"/").concat(e.moduleId),method:"post"})}function c(e){return Object(n["a"])({url:"moduleField/queryExportHeadList",method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}function r(e){return Object(n["a"])({url:"moduleData/queryPageList/".concat(e.moduleId),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(n["a"])({url:"moduleField/setFieldStyle",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(n["a"])({url:"moduleUserSearch/config/".concat(e.moduleId),method:"post",data:e})}function d(e){return Object(n["a"])({url:"moduleUserSearch/save",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(n["a"])({url:"/moduleField/allExportExcel/".concat(e.label),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}},eef2:function(e,t,a){},efe5:function(e,t,a){"use strict";a("dfdd")},efec:function(e,t,a){"use strict";a("2f77")},f068:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return y}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xh-files-cont xh-form-border",class:[e.disabled?"is_disabled":"is_valid"]},[a("flexbox",{staticClass:"f-header",class:[e.disabled?"is_disabled":"is_valid"],nativeOn:{click:function(t){return e.selectImage(t)}}},[e.disabled?e._e():a("i",{staticClass:"wukong wukong-file f-logo"}),e._v(" "),a("div",{staticClass:"f-name"},[e._v("附件")]),e._v(" "),a("input",{ref:"fileInput",staticClass:"bar-iput",attrs:{type:"file",accept:"*.*",multiple:""},on:{change:e.xhUploadFile}})]),e._v(" "),a("div",{staticClass:"f-body"},e._l(e.dataValue,(function(t,n){return a("flexbox",{key:n,staticClass:"f-item"},[a("i",{staticClass:"wukong wukong-file f-img"}),e._v(" "),a("div",{staticClass:"f-name",on:{click:function(a){e.perviewClick(t,n)}}},[e._v(e._s(e._f("fileName")(t)))]),e._v(" "),e.disabled?e._e():a("div",{staticClass:"close-button",on:{click:function(a){a.stopPropagation(),e.deleteFile(t,n)}}},[e._v("×")])])})))],1)},i=[],o=(a("b0c0"),a("a434"),a("2934")),c=a("ed08"),r=(a("a9e3"),{data:function(){return{dataValue:[]}},watch:{value:function(e){this.dataValue=e}},props:{value:{type:Array,default:function(){return[]}},index:Number,item:Object,disabled:{type:Boolean,default:!1}},mounted:function(){this.dataValue=this.value},methods:{valueChange:function(e){this.$emit("value-change",{index:this.index,value:e})}}}),s={name:"XhFiles",components:{},filters:{fileName:function(e){var t=e.name&&e.name.length>10?e.name.substring(0,10)+"...":e.name;return t+"("+Object(c["g"])(e.size)+")"}},mixins:[r],props:{},data:function(){return{batchId:""}},computed:{},watch:{dataValue:{handler:function(){!this.batchId&&this.dataValue&&this.dataValue.length&&(this.batchId=this.dataValue[0].batchId)},immediate:!0}},mounted:function(){},methods:{selectImage:function(){this.disabled||this.$refs.fileInput.click()},xhUploadFile:function(e){var t=this,a=e.target.files,n=a[0];this.sendFileRequest(n,(function(){for(var n=1;n<a.length;n++){var i=a[n];t.sendFileRequest(i)}e.target.value=""}))},sendFileRequest:function(e,t){var a=this;this.$wkUploadFile.upload({file:e,params:{batchId:this.batchId}}).then((function(e){var n=e.res,i=n.data||{};""==a.batchId&&(a.batchId=i.batchId),i.size=Object(c["g"])(i.size),a.dataValue.push(i),a.$emit("value-change",{index:a.index,value:a.dataValue}),t&&t()})).catch((function(){}))},deleteFile:function(e,t){var a=this;this.$confirm("您确定要删除该文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["d"])({id:e.fileId}).then((function(e){a.dataValue.splice(t,1),a.$emit("value-change",{index:a.index,value:a.dataValue}),a.$message.success("操作成功")})).catch((function(){}))})).catch((function(){}))},perviewClick:function(e,t){Object(c["b"])(e.name)?Object(c["C"])(e.url,e.name):this.$wkPreviewFile.preview({index:t,data:this.dataValue})}}},l=s,d=(a("95d1"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"0ffeec50",null),m=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-cascader",{ref:"elCascader",staticStyle:{width:"100%"},attrs:{options:e.options,"show-all-levels":!1,props:e.defaultProps,disabled:e.disabled,"change-on-select":""},on:{change:e.valueChange},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}})},h=[],p=a("ea20"),v={name:"XhProducCate",components:{},mixins:[r],props:{},data:function(){return{options:[],defaultProps:{children:"children",label:"label",value:"categoryId"}}},computed:{},watch:{},mounted:function(){this.getProductCategoryIndex()},methods:{getProductCategoryIndex:function(){var e=this;Object(p["b"])({type:"tree"}).then((function(t){e.options=t.data})).catch((function(){}))},valueChange:function(e){var t=this.$refs.elCascader.getCheckedNodes();this.$emit("value-change",{index:this.index,item:this.item,value:e,valueContent:t.length>0?t[0].label:""})}}},b=v,g=Object(d["a"])(b,f,h,!1,null,"b905dfce",null),y=g.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{attrs:{align:"stretch"}},[a("flexbox-item",{staticStyle:{"margin-right":"50px"}},[a("div",{staticClass:"area-title"},[e._v("定位\n      "),e._v(" "),e.config.help?a("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":e.config.help.type,"data-id":e.config.help.id}}):e._e()]),e._v(" "),a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入详细位置名称"},on:{blur:e.inputBlur,focus:e.inputFocus,select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("div",{staticClass:"name"},[e._v(e._s(n.address+n.title))])]}}]),model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),a("div",{ref:"addressMap",staticClass:"map"}),e._v(" "),a("div",{staticClass:"area-title"},[e._v("详细地址")]),e._v(" "),a("el-input",{attrs:{placeholder:""},model:{value:e.detailAddress,callback:function(t){e.detailAddress=t},expression:"detailAddress"}})],1),e._v(" "),a("flexbox-item",[a("div",{staticClass:"area-title"},[e._v("省/市/区")]),e._v(" "),a("v-distpicker",{attrs:{province:e.addressSelect.province,city:e.addressSelect.city,area:e.addressSelect.area},on:{province:e.selectProvince,city:e.selectCity,area:e.selectArea}})],1)],1)},k=[],C=a("5530"),x=(a("e9c4"),a("d81d"),a("d3b7"),a("ac1f"),a("841c"),a("b64b"),a("5a8c")),I=a("8122"),_=a("6bfe"),j=a("8ed6"),O={help:null},F={name:"XhCustomerAddress",components:{VDistpicker:x["a"]},props:{value:{type:Object,default:function(){return{}}},index:Number,item:Object,props:Object},data:function(){return{map:null,searchInput:"",searchCopyInput:"",detailAddress:"",pointAddress:null,addressSelect:{province:"",city:"",area:""},canExecute:!0,currentValue:null}},computed:{config:function(){return Object(j["a"])(Object(C["a"])({},O),this.props||{})}},watch:{value:function(e){e&&"{}"!==JSON.stringify(e)&&!this.valueObjEquals(e,this.currentValue)&&this.initInfo(this.value)}},mounted:function(){var e=this;Object(c["j"])().then((function(){var t=new BMap.Map(e.$refs.addressMap,{enableMapClick:!1});t.centerAndZoom(new BMap.Point(116.404,39.915),14),t.enableScrollWheelZoom(),e.map=t,e.value&&"{}"!==JSON.stringify(e.value)&&e.initInfo(e.value)}))},methods:{initInfo:function(e){if(this.searchInput=e.location,this.detailAddress=e.detailAddress,"[object Array]"==Object.prototype.toString.call(e.address)){for(var t={},a=0;a<e.address.length;a++)0===a&&(t["province"]=e.address[0]),1===a&&(t["city"]=e.address[1]),2===a&&(t["area"]=e.address[2]);this.addressSelect=t}0!=e.lng&&0!=e.lat&&(this.pointAddress=new BMap.Point(e.lng,e.lat),this.addMarkerLabel(this.pointAddress))},querySearchAsync:function(e,t){if(e){var a={onSearchComplete:function(e){if(n.getStatus()==BMAP_STATUS_SUCCESS){for(var a=[],i=0;i<e.getCurrentNumPois();i++)a.push(e.getPoi(i));t(a)}else t([])},pageCapacity:20},n=new BMap.LocalSearch(this.map,a);n.search(e)}else t([])},handleSelect:function(e){this.searchInput=e.address+e.title,this.searchCopyInput=this.searchInput,this.detailAddress=this.searchInput,this.addMarkerLabel(e.point),this.pointAddress=e.point,this.mapSelectArea(e),this.valueChange()},inputBlur:function(){this.searchCopyInput!==this.searchInput&&(this.searchInput=this.searchCopyInput,this.valueChange())},inputFocus:function(){this.searchCopyInput=this.searchInput},addMarkerLabel:function(e){this.map.clearOverlays(),this.map.centerAndZoom(e,14),this.map.addOverlay(new BMap.Marker(e))},selectProvince:function(e){this.addressSelect.province=e.value,this.valueChange()},selectCity:function(e){this.addressSelect.city=e.value,this.valueChange()},selectArea:function(e){this.addressSelect.area=e.value,this.valueChange()},mapSelectArea:function(e){var t=this;if(this.canExecute){this.canExecute=!1;var a=new BMap.Geocoder;a.getLocation(new BMap.Point(e.point.lng,e.point.lat),(function(e){e&&(t.pointAddress=e.point,t.addressSelect.province=e.addressComponents.province?e.addressComponents.province:"",t.addressSelect.city=e.addressComponents.city?e.addressComponents.city:"",t.addressSelect.area=e.addressComponents.district?e.addressComponents.district:"",t.valueChange())})),setTimeout((function(){t.canExecute=!0}),500)}},valueChange:function(){var e={address:[this.addressSelect.province,this.addressSelect.city,this.addressSelect.area],location:this.searchInput,detailAddress:this.detailAddress,lat:this.pointAddress?this.pointAddress.lat:"",lng:this.pointAddress?this.pointAddress.lng:""};this.currentValue=Object(c["u"])(e),this.$emit("value-change",{index:this.index,value:e})},valueObjEquals:function(e,t){if(e===t)return!0;if(!Object(_["c"])(e))return!1;if(!Object(_["c"])(t))return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a=Object.keys(e),n=0;n<a.length;n++){var i=a[n],o=e[i],c=t[i];if(Object(_["a"])(o)){if(!Object(_["a"])(c))return!1;if(!Object(I["valueEquals"])(o,c))return!1}else if(o!==c)return!1}return!0}}},T=F,A=(a("d5a7"),Object(d["a"])(T,w,k,!1,null,"067d0b04",null));A.exports},f106:function(e,t,a){},f195:function(e,t,a){},f294:function(e,t,a){"use strict";a("a348")},f2bc:function(e,t,a){},f40e:function(e,t,a){"use strict";a("eef2")},f47d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNEQ1OUFCRjA1MkYxMUVBOTlGMDgxQTU2NTlFMDE4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNEQ1OUFDMDA1MkYxMUVBOTlGMDgxQTU2NTlFMDE4NCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE0RDU5QUJEMDUyRjExRUE5OUYwODFBNTY1OUUwMTg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE0RDU5QUJFMDUyRjExRUE5OUYwODFBNTY1OUUwMTg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Sq2aigAAB9xJREFUeNrs3f1rVXUcwPHP3dRYtFbmA0xDW5LKJrSsNB+mjWXD/VD2QwpRZC0senQ/1D9QQT+4ERIYjYIeSCGUoJWViBiWRrp+UJKgdQXdD1qCiSyDXN+P19vu5vWc793udr+fe94vOD5sZ5d7z317zvc8XVNrtwzKCPVuesZNrW6qc9NkAcbfBTel3bTHTd09HXJ05AypnFinuKnTTc+5qYJlhxK65Kb33LTZRTuQ/WJFTqg9bnqeUBEAbXCTm75o67zc5rBYu9zUwjJCYJqvtPl/rA1XKgZCtMmtXRuysT7tpkqWCQKlbbZnY21leSBwLdlY61gWCNycbKxTWBYI3A25RwOA4BEriBUgVhArQKwAsYJYAWIFiBXEChArQKwgVoBYAWIFsQLEChAriBUgVoBYQawAsQLECmIFiBUgVhArQKwgVhYBiBUgVhArQKwAsYJYAWIFiBXEChArQKwgVoBYAWIFsQLEChAriBWYeJOsv4Cm20v/HI72i5wdICZijfHaQ6V/Dm99LrL/N2JiGAAQK7La6hkGIFB1U0WaF4jMnSHSWJf5Ws8xYkVAa895M0UWux3SW6rZwUKgutaL3DGLMSvAmtV789ZZ2Pw9HcV/TLBmBYgVxAowZrXC9zqFQq4lmFol0lDr/5iNbt7qquHfu/660T/38+4xe/uJteysWTR0kD3KroMi3d/7Peazq0WWL4ye58/zIq98nPnzEytHd5jqWtdY/HrKxbqDYUDZ6fxaZOBi/HytjZk1Zhw90xQXqurem4yrvoi1iDSY3b3x81W5zfIjjfHzbVgSP883Pyfnii9iLTLdvOumc6xrVx17+mz+P/qBowEYg63fjn3tqmPPOF09ybrom1jHQd/ZzE6Uz9pVx6X59szjdpL08UPZS+doQBkMB+6ZJzJ7WvTaVcelb341/Ovr7o5+7JN/XPtowoffXX3o6rHl0c9D6d0O+ZwfINZE+ORA/G03Oi6tO5RZGyu9lC9urbptz7W/l29tGxe/srCTxjBgHGkAurdeyF7/+mVs/om1RHRvPe7Y6+W1qxu7blgcfWF01OafWDFmurf+wb74+fQ2k/vrR7/5J1YUhd7f1NsXf2QgaicoyZt/Yp1g7++PHg5URVxsoicZkrz5J9YJpnv7PqdiR9LAfU4yECuKyvdUbK4jfUOHtYgVE8rn2tJcd9XlP8tFrBhXLzfHn0nKN5Z9qollR6wTSM/3r7lzdD+rF3Rb+YgfYjVOLwVsbx7bY2xc7XfBNrFiTB6/L/rMlO7xx12lpcMBvcWFWFHSzb/u8e/s9TstG8KHJ5dKcFddZT/hbkZN5u+nz4nsPW7z8I3P5l8D3bZv6JaYdUuj59fHG49P2tYxceifJBhUrO3L8r9Z+rVC7ggNhW624z6xTwPNhqevr6k++mf0ezqseHtvcZ9rS0P4sVaEHmpusO3L7ISqa6q4e6h0rbpzxFmtL4/EP7YOKxpr/Z/Lmb/i59FraF9/eGiYkb0KLKRlHkSsurls9bjb02eeUF7PRo+doc8OXr053344cylg7Fq7xf/59J32m08PkenF4vrhdVufdGvwVSL1txLrMPqJI1UeZ3Z0nkLWKKXS8WD869E7UzXMfPQOgzh6csF3rffj7xwNKInqwI816ubf51NZdkSMv/UOA9/buX1OxerO6YFfiLUojnpep6ljvJDvFfLd/GuIcTszu37y29K8+IDfc9MjDj6fFkOsMXTc5nPr8mgusQtt8+8bov6j9Fkb6o6Rz3BAl/Ebu2wHG8wwQA/bRN1cp98L+dCVBuOz+dc7Bny3DtsP+c3n+9lZeqfBq58WNiTwOZIwUVJrtwwOhvSm66GTxjkic6dn/p4+497c49zSUWw61r33NpGZNUPLOkuX+YW/RQ6nw1nuPR2SCu4Mlq51+K8lx5/udFk7K8i1ASBWgFhBrACxAsQKYgWIFSBWECtArACxglgBYgWIFcQKECtArCBWgFgBYgWxAsQKECuIFSBWgFhBrACxglhZBCBWgFhBrACxAsQKYgWIFSBWECtArACxglgBYgWIFcQKECtArCBWgFgBYgWxAsQKECuIFSBWgFhBrEDxndBfJrEcykPtzSIr54s0zBKZdqN7Y8toNXTpklT2n5M5xGqcRvnoEpFVC91mMlV+r8+FerKiQlbU1sgJYjVscqXIS2tEFtSW5+vLDZUxq3HrlyYnVGK1PEa9SaRpfnJCJVbDVrhQU6nkhEqshjXMTlaoxGrY9OpkhUqshk2qTFaoxAozoRIrzIRKrCh1qCt9QyVWlDRU98d0IT9HrDARKrHCTKjECjOhEivMhEqsMBMqscJMqMQKM6ESK8yESqwwEyqxwkyoxAozoRIrzIRKrDATKrHCTKjECjOhEivMhEqsMBMqscJMqMQKM6ESK8yESqwwEyqxwkyoxAozoRIrzIRKrDATKrHCTKjECjOhEivMhEqsMBMqsRKqmVCJlVDNhEqshJq29LyJlVCJFYRKrEhkqMRKqMQKQiVWJDZUYiVUc7H+w1tLqFZi7ePtJVQrse7mLSZUK7F2u+lf3mpCtRDrMTe9y9tNqFaOBmx20x7edpOhnkpCqLmx6hGBNje9o6+fBEyFuiIJoebGmg32BTctclOXm4676SJJBCmdtFBVanBwkLfeoP5zMre2RtLud9Pca/D2nwADAM+gaY1IoC7vAAAAAElFTkSuQmCC"},f550:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"h",(function(){return m}));a("99af");var n=a("b775");function i(e){return Object(n["a"])({url:"moduleFile/query",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(n["a"])({url:"moduleFile/save",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(n["a"])({url:"/moduleData/allExportExcel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}function r(e){return Object(n["a"])({url:"/moduleData/batchExportExcel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}function s(e){return Object(n["a"])({url:"/moduleData/downloadExcel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}function l(e){return Object(n["a"])({url:"/moduleData/uploadExcel",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function d(e){return Object(n["a"])({url:"moduleMessage/queryList/".concat(e.moduleId,"/").concat(e.type),method:"post"})}function u(e){return Object(n["a"])({url:"moduleMessage/queryImportNum",method:"post",data:e})}function m(e){return Object(n["a"])({url:"moduleMessage/queryImportInfo",method:"post",data:e})}},f6c0:function(e,t,a){"use strict";a("b8cf")},f7e0:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("d3b7");var n=[{backgroundColor:"#FAFBFC",selectedBackground:"#EBECF0",hoverBackground:"#EBECF0",color:"#172B4D",selectedColor:"#172B4D",hoverColor:"#172B4D",type:"1-1"},{backgroundColor:"#EAE7FF",selectedBackground:"#3F3B8C33",hoverBackground:"#3F3B8C33",color:"#172B4D",selectedColor:"#3F3B8C",hoverColor:"#3F3B8C",type:"1-2"},{backgroundColor:"#DFEBFF",selectedBackground:"#0052CC33",hoverBackground:"#0052CC33",color:"#172B4D",selectedColor:"#0052CC",hoverColor:"#0052CC",type:"1-3"},{backgroundColor:"#E6FCFF",selectedBackground:"#046E8A33",hoverBackground:"#046E8A33",color:"#172B4D",selectedColor:"#046E8A",hoverColor:"#046E8A",type:"1-4"},{backgroundColor:"#E3FCEF",selectedBackground:"#2D876E33",hoverBackground:"#2D876E33",color:"#172B4D",selectedColor:"#2D876E",hoverColor:"#2D876E",type:"1-5"},{backgroundColor:"#FFF9E6",selectedBackground:"#B6821933",hoverBackground:"#B6821933",color:"#172B4D",selectedColor:"#B68219",hoverColor:"#B68219",type:"1-6"},{backgroundColor:"#FFEBE5",selectedBackground:"#B5473933",hoverBackground:"#B5473933",color:"#172B4D",selectedColor:"#B54739",hoverColor:"#B54739",type:"1-7"},{backgroundColor:"#172B4C",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#172B4C",hoverColor:"#172B4C",type:"2-1"},{backgroundColor:"#3F3B8C",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#3F3B8C",hoverColor:"#3F3B8C",type:"2-2"},{backgroundColor:"#0052CC",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#0052CC",hoverColor:"#0052CC",type:"2-3"},{backgroundColor:"#046E8A",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#046E8A",hoverColor:"#046E8A",type:"2-4"},{backgroundColor:"#2D876E",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#2D876E",hoverColor:"#2D876E",type:"2-5"},{backgroundColor:"#B68219",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#B68219",hoverColor:"#B68219",type:"2-6"},{backgroundColor:"#B54739",selectedBackground:"#FFFFFFCC",hoverBackground:"#FFFFFFCC",color:"#fff",selectedColor:"#B54739",hoverColor:"#B54739",type:"2-7"}];t["b"]=n;var i={};n.forEach((function(e){i[e.type]=e}));var o=i},f87a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAADdCAYAAADEk4LFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMUY5QTREQTA1MkYxMUVBOEMwOTg1MDgzQjVBNTc3QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxMUY5QTREQjA1MkYxMUVBOEMwOTg1MDgzQjVBNTc3QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjExRjlBNEQ4MDUyRjExRUE4QzA5ODUwODNCNUE1NzdBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjExRjlBNEQ5MDUyRjExRUE4QzA5ODUwODNCNUE1NzdBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+kFRyjwAACplJREFUeNrsnU9oXNUawE9mJjNNExNrY2rSStOCWl4riCAurH0IKq3TTTcWXIjgezwf4kIXgn+2Krjo4xUFA7px11UFUxF5WEjrSioFWxcKNsWYaNNqo0k7yUwm73wzmXo7nbn3zMy9yTn3/n5wmZLe3HbO/c13vnPOd890raysKHCQmelRNTwyqV/dfh/DI8anZi4fPFj/s7/p4x/6OKCPHfrIYYZ1TA6OfdCtRd0rf07Km854/pzVxxF9/FsfKXywmlGV0reoXD6tXxMjbMoj6gl9vIioLt291NaKsCJvgmT9jz4e5+47K+ypJAgrsu7Wx7+4604Luy0JwqZWB1Np7jjCuiDrfu40wroi607uMsK6ImuWO4ywLs0GAMIiKyAsskLihEVWhEVWQFhkhcQKi6wIi6yAsMgKiRUWWRHWGWGRFWGdERZZwRlhkRWcERZZwRlhkRWcERZZwRlhkRWcERZZwRlhkRWcERZZwRlhkRWcERZZwRlhkRWcERZZwRlhM5Fe/bbblBoYUCqbVaqrK5k3VnYWX1pSam5OqT//jJ+wqdSjao32h40usg4NVY9cLrmiCvLepQ1q7UGEtUxWiahyQPzbZQ2FjUbW/n7ETFLbrJGw0cia4zszEtc2ayAsswHgjLDRyLq4yI1LattEKGw0sv7xB1ImuW0iEjYaWWU+MU5zirSLFcJGl7NeulQ9pNtL8lduynuXNqi1Bzls20S7gkWEhRBXupgNAGciLLKCM8IiKzgjLLKCM8IiKzgjLLLC+go7M70dWcEVYU+bCous4IywyOooK6VS4oRFVkcpz84mLsIiq6MsnTufuJQAWR2lcPpUPAuEfISNtpBFHsGWZ47kNZXQz0W5XH0UW+pY5TUklqdnVGHilNrw931xFnavGh65GL2ssl/A5s3Jfgy7Rk9P9UN7+XKoxdcLx46p9JYh1b1rVyKETUV2cwYHEdWLtMWdd1bbJqwZgWJRzf33qCqcPFmN4DFPCbpm8/nwE5/hYaU2bkTQRly7ptTMTOiXTY+MqA2P7lXZPXtUWgJFJhOfNiuXp7S4e6ORdceO5OaoJjnshQu0Q2tcHBwfH43GKLp/2iZctkeXs8ZpdYW2sSeFjeSqPHdF2zgj69WrShUKtG498pSrtA1YJKusrMiIV+YUk/wYtrc9pC2mp2mPDohufkNGvVJsceVKdRolyZsJS54ax3nQ2MjqlTbEZUYgDQBAVgBkBWQFQFYAZAVkBUBWAGQFZAVAVgBkBWQFQFYAZIVYEW09azr91/ZBSaa2fdDyMsZZKWtvr1JDQ+wfUOP226vfMLiwQFtYlQbkckpt2YKoN7V0qtom0jZgkaybNrGZQyOkTaRtwCJZQ9x8LHbQNpbJSlT1TwfAIlnZIqc5xSJtYJWsjHhpG2dk/f13IkizqCptAxbJKhtb/PwzUaQ+okqbsDNL20S3KCCrNb/8Ut06iC/AII+3WlbvYIsbBdamAQDICsgKgKwAyArICoCsAMgKyAqArADICsgKgKwAyArICoCsAMgKyAqArADICsgKgKwAyArICoCsAMgKyAqArADICsgKgKyArADICoCsgKwAyAqArICsAMgKgKyArADICoCsgKwAyAqArICsAMgKgKyArADICoCsgKwAyAqArICsAMgKgKyArAChk6EJEnSzH3hApbduVam77rrp56UfflClc+fUym+/ISs0ZsPhwyr38MO+5yx8/LEqnT3b9r/RvW+fyj3yiMo9+KDq6unxPXfu3XdVcWICWeFWuvr6VPe99/qf09/f3rXvuEP1vfKKyuloShqwBkhUCAMXuriwu/uBN94IjKTIGiIDr74a6vWK33+vls6fV0snT6rlH39EVGS1OFLrLleO3kOHKuJe++QTq3O0duh74YVYiiokdupKpJXI3ffaa5X8Li4Dtsy2bfFNbxI/Itcj5cz27Wru9dedz2t7nnqqpXRIpqzSw8OVgV7uoYeQ1YlPrI5G/W++qeb06NnlXDW9eXPgeQvHj6vrH330l7irr96fkQY4kBb0PP+8u7Led1/gOaWpKSekjG1klS6t4adQRxmTSONl4/79qqAjj4vpgHTlQSx+/TU563ri13Wnd+5U2cceq0hoMkKWc3JPPKEKx47FsveQHJXZAEuRuVTp9ubeekutXL9ulg7cfz85EbKuY0Q5e7YirAlZg9wPkDVyYRcNCkIkFYjLvGvcSNTUVenCBaPCjsyePS2vbEkdQ1ZfOzM6qjJ3330jR5b0o/TTT6o0OakK4+OhLPPKNFV9gUt6aCj49+65p3nbUCIY/wGGrBrJZHyzmQeRtrbM2/Pkk6rw1VdqYWysIzF6n302sFqr4e8dOtR8oGp5eWDiZA0TSRVkIaFVabwrZkDOuiaiDrz9dlvRrRIhVlfMgMjaVs5Wn78FidppwYiILrktEFkbkt29O/AcGRD55ZNSfR9WZVNcS/mQtUNktG7SbS9+803Tv8vl8y0/JiLLwc2WhIE04NY3qQXrf+klo3MX9Wi9GRufftosjZCCkU8/VYsnTtzygel95pmOI7M8RFg/dSUPBcrgzff3jh9vOiPil/og6xpJuuHAgcCbeFMUbDJ9I1NUJoUxsvAwf+RIw1RCrn1VH1Lwbfp/aihWg8UNk3xcRHX5yQjnZR3QYjR8Y56JeVPkMZemaYRBzcDylStNRfUy/847Kq3Pa3c2gTTA1Vw0pBsuXaRf1DHJVa9/9pnxZP/8e++pTUePYiADrNaQVSW/omSTR8IlqrZSWijLrpLbArK2FFGlW/btfgzywaUzZ1r+t4vffYeBDLAMIpvklzqamgw4Ur29wdf79deW/w/lhQUMRFZ/SSW3bKXLlkqqwOvOzGATsnaOTElJid6ijqKdbHIGyNoRUtrWtJvVA5i4bhOErC5GzZht/wPMBliJSXU/IGtrg7LZ2eAuyrD80Ev3rl00LrKGLOulS4HntLpXlOxp0OomHMgKgZg8uyWVVJkWygd7Dh+mYW0aYNV2RKnlZhKhXNzI17R8TvZGvaqPwCicz3dUdYWsISObnDV6mlJ+Vr+Tne1IcYqU/gUVs0h0lfI/v6dXpc6g77nnMM8WWZuJ6hVWcEnY4rffGlVeScSUgVNhYkIVz5y5sQhR+9YUIqpFssoDdbIRWhByjkuyyvKs3/4AN6U/+pzKB9LnAwsWDLBkNxPTHfsyjn3tzXzIHy7TzeLAgtmAdr/jad1SAd21S74dBpIDX/v8cwxcT1lNR84SVVxcKpXUpeDzUKFRG01NVR5/gXWWVUbBJtHH5agixdrtRlipAIvDl23EZjZAoo8ULMtGZA3//osvnN7bvvYeZc5YJvdNRvjt1NFCXdo4m8+vRHVx7zaQle4vpjWlMgMi27vLvv7eXV+kpkAWQrxTWNAeg+PjXZHKChCmrNQGQHIHWADICshKEwCyAiArICsAsgIgKyArgL2yLtEMYDnzNVnZDAps52JNVsrVwXb+V5NVCkuXaQ+wFHHzw5qs8hzKGG0CljI2OD5+zjsb8HIt1AJYxJerbiqvrDIjkNfH+/oo00awzpRXe/uDOqremK2SJwXqT5TnMv6pD9mpYqc+umk7WAPk20AmV3v4D2tdv5f/CzAA5KjdlG91CeMAAAAASUVORK5CYII="},f889:function(e,t,a){},f8b2:function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7"},f90f:function(e,t,a){},f9a8:function(e,t,a){"use strict";a("72c0")},f9f1:function(e,t,a){"use strict";a("9ae1")},fc32:function(e,t,a){},fd1d:function(e,t,a){},fd83:function(e,t,a){},fda4:function(e,t,a){"use strict";a("8659")},ff8c:function(e,t,a){},ffde:function(e,t,a){},fffc:function(e,t,a){"use strict";a.r(t);var n=a("2909"),i=a("1da1"),o=(a("96cf"),a("4de4"),a("d3b7"),a("159b"),a("99af"),a("d254")),c=a("6bfe"),r=a("b4f4"),s=function(e){return e=e.toLowerCase(),{call:"wk wk-icon-call",oa:"wk wk-oa",crm:"wk wk-customer",project:"wk wk-project",log:"wk wk-icon-journal",book:"wk wk-contacts",taskExamine:"wk wk-icon-task-line",bi:"wk wk-bi",applet:"wk wk-applet",calendar:"wk wk-icon-calendar-solid",email:"wk wk-icon-email-s",knowledge:"wk wk-icon-knowledge",hrm:"wk wk-icon-manpower",jxc:"wk wk-icon-invoicing",finance:"wk wk-finance",enterprise:"wk wk-icon-business"}[e]||"wk wk-icon-stock"};t["default"]={state:{routeAppList:[]},actions:{getRouteAppList:function(e){var t=arguments;return Object(i["a"])(regeneratorRuntime.mark((function a(){var i,l,d,u,m,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.commit,l=e.state,d=t.length>1&&void 0!==t[1]&&t[1],Object(c["b"])(l.routeAppList)||d){a.next=4;break}return a.abrupt("return",l.routeAppList);case 4:return a.next=6,Object(r["a"])(!0).catch((function(){return[]}));case 6:return u=a.sent,a.next=9,Object(o["a"])().then((function(e){return(e.data||[]).filter((function(e){return!e.relateApplicationId}))})).catch((function(){return[]}));case 9:return m=a.sent,u.forEach((function(e){e.icon=s(e.key),e.isSystem=!0})),f=[].concat(Object(n["a"])(u),Object(n["a"])(m)),i("SET_ROUTE_APP_LIST",f),a.abrupt("return",f);case 14:case"end":return a.stop()}}),a)})))()}},mutations:{SET_ROUTE_APP_LIST:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.routeAppList=t}},getters:{routerAppList:function(e){return e.routeAppList}},namespaced:!0}}},[[1,"runtime","chunk-elementUI","chunk-libs"]]]);